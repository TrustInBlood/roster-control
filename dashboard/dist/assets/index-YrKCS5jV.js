var om=e=>{throw TypeError(e)};var gc=(e,t,s)=>t.has(e)||om("Cannot "+s);var N=(e,t,s)=>(gc(e,t,"read from private field"),s?s.call(e):t.get(e)),Y=(e,t,s)=>t.has(e)?om("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),B=(e,t,s,n)=>(gc(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),re=(e,t,s)=>(gc(e,t,"access private method"),s);var rl=(e,t,s,n)=>({set _(i){B(e,t,i,s)},get _(){return N(e,t,n)}});function rv(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();function nv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ff={exports:{}},Lo={},Uf={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var La=Symbol.for("react.element"),iv=Symbol.for("react.portal"),av=Symbol.for("react.fragment"),lv=Symbol.for("react.strict_mode"),ov=Symbol.for("react.profiler"),cv=Symbol.for("react.provider"),dv=Symbol.for("react.context"),uv=Symbol.for("react.forward_ref"),hv=Symbol.for("react.suspense"),mv=Symbol.for("react.memo"),pv=Symbol.for("react.lazy"),cm=Symbol.iterator;function fv(e){return e===null||typeof e!="object"?null:(e=cm&&e[cm]||e["@@iterator"],typeof e=="function"?e:null)}var qf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zf=Object.assign,Bf={};function mi(e,t,s){this.props=e,this.context=t,this.refs=Bf,this.updater=s||qf}mi.prototype.isReactComponent={};mi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $f(){}$f.prototype=mi.prototype;function Iu(e,t,s){this.props=e,this.context=t,this.refs=Bf,this.updater=s||qf}var Fu=Iu.prototype=new $f;Fu.constructor=Iu;zf(Fu,mi.prototype);Fu.isPureReactComponent=!0;var dm=Array.isArray,Hf=Object.prototype.hasOwnProperty,Uu={current:null},Wf={key:!0,ref:!0,__self:!0,__source:!0};function Vf(e,t,s){var n,i={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)Hf.call(t,n)&&!Wf.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=s;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:La,type:e,key:a,ref:l,props:i,_owner:Uu.current}}function xv(e,t){return{$$typeof:La,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qu(e){return typeof e=="object"&&e!==null&&e.$$typeof===La}function gv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var um=/\/+/g;function yc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gv(""+e.key):t.toString(36)}function Rl(e,t,s,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case La:case iv:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+yc(l,0):n,dm(i)?(s="",e!=null&&(s=e.replace(um,"$&/")+"/"),Rl(i,t,s,"",function(d){return d})):i!=null&&(qu(i)&&(i=xv(i,s+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(um,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",dm(e))for(var o=0;o<e.length;o++){a=e[o];var c=n+yc(a,o);l+=Rl(a,t,s,c,i)}else if(c=fv(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=n+yc(a,o++),l+=Rl(a,t,s,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function nl(e,t,s){if(e==null)return e;var n=[],i=0;return Rl(e,n,"","",function(a){return t.call(s,a,i++)}),n}function yv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mt={current:null},Tl={transition:null},vv={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:Tl,ReactCurrentOwner:Uu};function Kf(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:nl,forEach:function(e,t,s){nl(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return nl(e,function(){t++}),t},toArray:function(e){return nl(e,function(t){return t})||[]},only:function(e){if(!qu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=mi;ne.Fragment=av;ne.Profiler=ov;ne.PureComponent=Iu;ne.StrictMode=lv;ne.Suspense=hv;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vv;ne.act=Kf;ne.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=zf({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=Uu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Hf.call(t,c)&&!Wf.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:La,type:e.type,key:i,ref:a,props:n,_owner:l}};ne.createContext=function(e){return e={$$typeof:dv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cv,_context:e},e.Consumer=e};ne.createElement=Vf;ne.createFactory=function(e){var t=Vf.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:uv,render:e}};ne.isValidElement=qu;ne.lazy=function(e){return{$$typeof:pv,_payload:{_status:-1,_result:e},_init:yv}};ne.memo=function(e,t){return{$$typeof:mv,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Tl.transition;Tl.transition={};try{e()}finally{Tl.transition=t}};ne.unstable_act=Kf;ne.useCallback=function(e,t){return mt.current.useCallback(e,t)};ne.useContext=function(e){return mt.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return mt.current.useDeferredValue(e)};ne.useEffect=function(e,t){return mt.current.useEffect(e,t)};ne.useId=function(){return mt.current.useId()};ne.useImperativeHandle=function(e,t,s){return mt.current.useImperativeHandle(e,t,s)};ne.useInsertionEffect=function(e,t){return mt.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return mt.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return mt.current.useMemo(e,t)};ne.useReducer=function(e,t,s){return mt.current.useReducer(e,t,s)};ne.useRef=function(e){return mt.current.useRef(e)};ne.useState=function(e){return mt.current.useState(e)};ne.useSyncExternalStore=function(e,t,s){return mt.current.useSyncExternalStore(e,t,s)};ne.useTransition=function(){return mt.current.useTransition()};ne.version="18.3.1";Uf.exports=ne;var j=Uf.exports;const he=nv(j),bv=rv({__proto__:null,default:he},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv=j,jv=Symbol.for("react.element"),Nv=Symbol.for("react.fragment"),kv=Object.prototype.hasOwnProperty,Sv=wv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cv={key:!0,ref:!0,__self:!0,__source:!0};function Qf(e,t,s){var n,i={},a=null,l=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)kv.call(t,n)&&!Cv.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:jv,type:e,key:a,ref:l,props:i,_owner:Sv.current}}Lo.Fragment=Nv;Lo.jsx=Qf;Lo.jsxs=Qf;Ff.exports=Lo;var r=Ff.exports,Gf={exports:{}},Mt={},Yf={exports:{}},Xf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,L){var q=P.length;P.push(L);e:for(;0<q;){var H=q-1>>>1,se=P[H];if(0<i(se,L))P[H]=L,P[q]=se,q=H;else break e}}function s(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var L=P[0],q=P.pop();if(q!==L){P[0]=q;e:for(var H=0,se=P.length,ie=se>>>1;H<ie;){var Oe=2*(H+1)-1,xe=P[Oe],Wt=Oe+1,K=P[Wt];if(0>i(xe,q))Wt<se&&0>i(K,xe)?(P[H]=K,P[Wt]=q,H=Wt):(P[H]=xe,P[Oe]=q,H=Oe);else if(Wt<se&&0>i(K,q))P[H]=K,P[Wt]=q,H=Wt;else break e}}return L}function i(P,L){var q=P.sortIndex-L.sortIndex;return q!==0?q:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,h=null,m=3,f=!1,g=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var L=s(d);L!==null;){if(L.callback===null)n(d);else if(L.startTime<=P)n(d),L.sortIndex=L.expirationTime,t(c,L);else break;L=s(d)}}function v(P){if(x=!1,y(P),!g)if(s(c)!==null)g=!0,W(S);else{var L=s(d);L!==null&&ae(v,L.startTime-P)}}function S(P,L){g=!1,x&&(x=!1,p(R),R=-1),f=!0;var q=m;try{for(y(L),h=s(c);h!==null&&(!(h.expirationTime>L)||P&&!D());){var H=h.callback;if(typeof H=="function"){h.callback=null,m=h.priorityLevel;var se=H(h.expirationTime<=L);L=e.unstable_now(),typeof se=="function"?h.callback=se:h===s(c)&&n(c),y(L)}else n(c);h=s(c)}if(h!==null)var ie=!0;else{var Oe=s(d);Oe!==null&&ae(v,Oe.startTime-L),ie=!1}return ie}finally{h=null,m=q,f=!1}}var C=!1,k=null,R=-1,U=5,E=-1;function D(){return!(e.unstable_now()-E<U)}function _(){if(k!==null){var P=e.unstable_now();E=P;var L=!0;try{L=k(!0,P)}finally{L?V():(C=!1,k=null)}}else C=!1}var V;if(typeof b=="function")V=function(){b(_)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,G=O.port2;O.port1.onmessage=_,V=function(){G.postMessage(null)}}else V=function(){w(_,0)};function W(P){k=P,C||(C=!0,V())}function ae(P,L){R=w(function(){P(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,W(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(P){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var q=m;m=L;try{return P()}finally{m=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var q=m;m=P;try{return L()}finally{m=q}},e.unstable_scheduleCallback=function(P,L,q){var H=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?H+q:H):q=H,P){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=q+se,P={id:u++,callback:L,priorityLevel:P,startTime:q,expirationTime:se,sortIndex:-1},q>H?(P.sortIndex=q,t(d,P),s(c)===null&&P===s(d)&&(x?(p(R),R=-1):x=!0,ae(v,q-H))):(P.sortIndex=se,t(c,P),g||f||(g=!0,W(S))),P},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(P){var L=m;return function(){var q=m;m=L;try{return P.apply(this,arguments)}finally{m=q}}}})(Xf);Yf.exports=Xf;var _v=Yf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev=j,Rt=_v;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jf=new Set,la={};function pn(e,t){si(e,t),si(e+"Capture",t)}function si(e,t){for(la[e]=t,e=0;e<t.length;e++)Jf.add(t[e])}var Is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),od=Object.prototype.hasOwnProperty,Pv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hm={},mm={};function Rv(e){return od.call(mm,e)?!0:od.call(hm,e)?!1:Pv.test(e)?mm[e]=!0:(hm[e]=!0,!1)}function Tv(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mv(e,t,s,n){if(t===null||typeof t>"u"||Tv(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pt(e,t,s,n,i,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xe[e]=new pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xe[t]=new pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xe[e]=new pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xe[e]=new pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xe[e]=new pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xe[e]=new pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xe[e]=new pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xe[e]=new pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xe[e]=new pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var zu=/[\-:]([a-z])/g;function Bu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zu,Bu);Xe[t]=new pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zu,Bu);Xe[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zu,Bu);Xe[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xe[e]=new pt(e,1,!1,e.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xe[e]=new pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function $u(e,t,s,n){var i=Xe.hasOwnProperty(t)?Xe[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mv(t,s,i,n)&&(s=null),n||i===null?Rv(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):i.mustUseProperty?e[i.propertyName]=s===null?i.type===3?!1:"":s:(t=i.attributeName,n=i.attributeNamespace,s===null?e.removeAttribute(t):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var Bs=Ev.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,il=Symbol.for("react.element"),kn=Symbol.for("react.portal"),Sn=Symbol.for("react.fragment"),Hu=Symbol.for("react.strict_mode"),cd=Symbol.for("react.profiler"),Zf=Symbol.for("react.provider"),ex=Symbol.for("react.context"),Wu=Symbol.for("react.forward_ref"),dd=Symbol.for("react.suspense"),ud=Symbol.for("react.suspense_list"),Vu=Symbol.for("react.memo"),tr=Symbol.for("react.lazy"),tx=Symbol.for("react.offscreen"),pm=Symbol.iterator;function Ci(e){return e===null||typeof e!="object"?null:(e=pm&&e[pm]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,vc;function zi(e){if(vc===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);vc=t&&t[1]||""}return`
`+vc+e}var bc=!1;function wc(e,t){if(!e||bc)return"";bc=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),l=i.length-1,o=a.length-1;1<=l&&0<=o&&i[l]!==a[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==a[o]){if(l!==1||o!==1)do if(l--,o--,0>o||i[l]!==a[o]){var c=`
`+i[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{bc=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?zi(e):""}function Av(e){switch(e.tag){case 5:return zi(e.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 2:case 15:return e=wc(e.type,!1),e;case 11:return e=wc(e.type.render,!1),e;case 1:return e=wc(e.type,!0),e;default:return""}}function hd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sn:return"Fragment";case kn:return"Portal";case cd:return"Profiler";case Hu:return"StrictMode";case dd:return"Suspense";case ud:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ex:return(e.displayName||"Context")+".Consumer";case Zf:return(e._context.displayName||"Context")+".Provider";case Wu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vu:return t=e.displayName||null,t!==null?t:hd(e.type)||"Memo";case tr:t=e._payload,e=e._init;try{return hd(e(t))}catch{}}return null}function Dv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hd(t);case 8:return t===Hu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lv(e){var t=sx(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function al(e){e._valueTracker||(e._valueTracker=Lv(e))}function rx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=sx(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Zl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function md(e,t){var s=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function fm(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=Mr(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nx(e,t){t=t.checked,t!=null&&$u(e,"checked",t,!1)}function pd(e,t){nx(e,t);var s=Mr(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fd(e,t.type,s):t.hasOwnProperty("defaultValue")&&fd(e,t.type,Mr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xm(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function fd(e,t,s){(t!=="number"||Zl(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Bi=Array.isArray;function On(e,t,s,n){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Mr(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function xd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gm(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(I(92));if(Bi(s)){if(1<s.length)throw Error(I(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Mr(s)}}function ix(e,t){var s=Mr(t.value),n=Mr(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function ym(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ax(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ax(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ll,lx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ll=ll||document.createElement("div"),ll.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ll.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oa(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ov=["Webkit","ms","Moz","O"];Object.keys(Ki).forEach(function(e){Ov.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ki[t]=Ki[e]})});function ox(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Ki.hasOwnProperty(e)&&Ki[e]?(""+t).trim():t+"px"}function cx(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,i=ox(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,i):e[s]=i}}var Iv=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yd(e,t){if(t){if(Iv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function vd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bd=null;function Ku(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wd=null,In=null,Fn=null;function vm(e){if(e=Fa(e)){if(typeof wd!="function")throw Error(I(280));var t=e.stateNode;t&&(t=qo(t),wd(e.stateNode,e.type,t))}}function dx(e){In?Fn?Fn.push(e):Fn=[e]:In=e}function ux(){if(In){var e=In,t=Fn;if(Fn=In=null,vm(e),t)for(e=0;e<t.length;e++)vm(t[e])}}function hx(e,t){return e(t)}function mx(){}var jc=!1;function px(e,t,s){if(jc)return e(t,s);jc=!0;try{return hx(e,t,s)}finally{jc=!1,(In!==null||Fn!==null)&&(mx(),ux())}}function ca(e,t){var s=e.stateNode;if(s===null)return null;var n=qo(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(I(231,t,typeof s));return s}var jd=!1;if(Is)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){jd=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{jd=!1}function Fv(e,t,s,n,i,a,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var Qi=!1,eo=null,to=!1,Nd=null,Uv={onError:function(e){Qi=!0,eo=e}};function qv(e,t,s,n,i,a,l,o,c){Qi=!1,eo=null,Fv.apply(Uv,arguments)}function zv(e,t,s,n,i,a,l,o,c){if(qv.apply(this,arguments),Qi){if(Qi){var d=eo;Qi=!1,eo=null}else throw Error(I(198));to||(to=!0,Nd=d)}}function fn(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function fx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bm(e){if(fn(e)!==e)throw Error(I(188))}function Bv(e){var t=e.alternate;if(!t){if(t=fn(e),t===null)throw Error(I(188));return t!==e?null:e}for(var s=e,n=t;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return bm(i),e;if(a===n)return bm(i),t;a=a.sibling}throw Error(I(188))}if(s.return!==n.return)s=i,n=a;else{for(var l=!1,o=i.child;o;){if(o===s){l=!0,s=i,n=a;break}if(o===n){l=!0,n=i,s=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===s){l=!0,s=a,n=i;break}if(o===n){l=!0,n=a,s=i;break}o=o.sibling}if(!l)throw Error(I(189))}}if(s.alternate!==n)throw Error(I(190))}if(s.tag!==3)throw Error(I(188));return s.stateNode.current===s?e:t}function xx(e){return e=Bv(e),e!==null?gx(e):null}function gx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gx(e);if(t!==null)return t;e=e.sibling}return null}var yx=Rt.unstable_scheduleCallback,wm=Rt.unstable_cancelCallback,$v=Rt.unstable_shouldYield,Hv=Rt.unstable_requestPaint,De=Rt.unstable_now,Wv=Rt.unstable_getCurrentPriorityLevel,Qu=Rt.unstable_ImmediatePriority,vx=Rt.unstable_UserBlockingPriority,so=Rt.unstable_NormalPriority,Vv=Rt.unstable_LowPriority,bx=Rt.unstable_IdlePriority,Oo=null,xs=null;function Kv(e){if(xs&&typeof xs.onCommitFiberRoot=="function")try{xs.onCommitFiberRoot(Oo,e,void 0,(e.current.flags&128)===128)}catch{}}var ts=Math.clz32?Math.clz32:Yv,Qv=Math.log,Gv=Math.LN2;function Yv(e){return e>>>=0,e===0?32:31-(Qv(e)/Gv|0)|0}var ol=64,cl=4194304;function $i(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ro(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,l=s&268435455;if(l!==0){var o=l&~i;o!==0?n=$i(o):(a&=l,a!==0&&(n=$i(a)))}else l=s&~i,l!==0?n=$i(l):a!==0&&(n=$i(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-ts(t),i=1<<s,n|=e[s],t&=~i;return n}function Xv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jv(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-ts(a),o=1<<l,c=i[l];c===-1?(!(o&s)||o&n)&&(i[l]=Xv(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function kd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wx(){var e=ol;return ol<<=1,!(ol&4194240)&&(ol=64),e}function Nc(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Oa(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ts(t),e[t]=s}function Zv(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-ts(s),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,s&=~a}}function Gu(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-ts(s),i=1<<n;i&t|e[n]&t&&(e[n]|=t),s&=~i}}var pe=0;function jx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Nx,Yu,kx,Sx,Cx,Sd=!1,dl=[],yr=null,vr=null,br=null,da=new Map,ua=new Map,nr=[],eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jm(e,t){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":da.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ua.delete(t.pointerId)}}function Ei(e,t,s,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Fa(t),t!==null&&Yu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function tb(e,t,s,n,i){switch(t){case"focusin":return yr=Ei(yr,e,t,s,n,i),!0;case"dragenter":return vr=Ei(vr,e,t,s,n,i),!0;case"mouseover":return br=Ei(br,e,t,s,n,i),!0;case"pointerover":var a=i.pointerId;return da.set(a,Ei(da.get(a)||null,e,t,s,n,i)),!0;case"gotpointercapture":return a=i.pointerId,ua.set(a,Ei(ua.get(a)||null,e,t,s,n,i)),!0}return!1}function _x(e){var t=Br(e.target);if(t!==null){var s=fn(t);if(s!==null){if(t=s.tag,t===13){if(t=fx(s),t!==null){e.blockedOn=t,Cx(e.priority,function(){kx(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ml(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Cd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);bd=n,s.target.dispatchEvent(n),bd=null}else return t=Fa(s),t!==null&&Yu(t),e.blockedOn=s,!1;t.shift()}return!0}function Nm(e,t,s){Ml(e)&&s.delete(t)}function sb(){Sd=!1,yr!==null&&Ml(yr)&&(yr=null),vr!==null&&Ml(vr)&&(vr=null),br!==null&&Ml(br)&&(br=null),da.forEach(Nm),ua.forEach(Nm)}function Pi(e,t){e.blockedOn===t&&(e.blockedOn=null,Sd||(Sd=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,sb)))}function ha(e){function t(i){return Pi(i,e)}if(0<dl.length){Pi(dl[0],e);for(var s=1;s<dl.length;s++){var n=dl[s];n.blockedOn===e&&(n.blockedOn=null)}}for(yr!==null&&Pi(yr,e),vr!==null&&Pi(vr,e),br!==null&&Pi(br,e),da.forEach(t),ua.forEach(t),s=0;s<nr.length;s++)n=nr[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<nr.length&&(s=nr[0],s.blockedOn===null);)_x(s),s.blockedOn===null&&nr.shift()}var Un=Bs.ReactCurrentBatchConfig,no=!0;function rb(e,t,s,n){var i=pe,a=Un.transition;Un.transition=null;try{pe=1,Xu(e,t,s,n)}finally{pe=i,Un.transition=a}}function nb(e,t,s,n){var i=pe,a=Un.transition;Un.transition=null;try{pe=4,Xu(e,t,s,n)}finally{pe=i,Un.transition=a}}function Xu(e,t,s,n){if(no){var i=Cd(e,t,s,n);if(i===null)Ac(e,t,n,io,s),jm(e,n);else if(tb(i,e,t,s,n))n.stopPropagation();else if(jm(e,n),t&4&&-1<eb.indexOf(e)){for(;i!==null;){var a=Fa(i);if(a!==null&&Nx(a),a=Cd(e,t,s,n),a===null&&Ac(e,t,n,io,s),a===i)break;i=a}i!==null&&n.stopPropagation()}else Ac(e,t,n,null,s)}}var io=null;function Cd(e,t,s,n){if(io=null,e=Ku(n),e=Br(e),e!==null)if(t=fn(e),t===null)e=null;else if(s=t.tag,s===13){if(e=fx(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return io=e,null}function Ex(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wv()){case Qu:return 1;case vx:return 4;case so:case Vv:return 16;case bx:return 536870912;default:return 16}default:return 16}}var fr=null,Ju=null,Al=null;function Px(){if(Al)return Al;var e,t=Ju,s=t.length,n,i="value"in fr?fr.value:fr.textContent,a=i.length;for(e=0;e<s&&t[e]===i[e];e++);var l=s-e;for(n=1;n<=l&&t[s-n]===i[a-n];n++);return Al=i.slice(e,1<n?1-n:void 0)}function Dl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ul(){return!0}function km(){return!1}function At(e){function t(s,n,i,a,l){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ul:km,this.isPropagationStopped=km,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),t}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zu=At(pi),Ia=Pe({},pi,{view:0,detail:0}),ib=At(Ia),kc,Sc,Ri,Io=Pe({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ri&&(Ri&&e.type==="mousemove"?(kc=e.screenX-Ri.screenX,Sc=e.screenY-Ri.screenY):Sc=kc=0,Ri=e),kc)},movementY:function(e){return"movementY"in e?e.movementY:Sc}}),Sm=At(Io),ab=Pe({},Io,{dataTransfer:0}),lb=At(ab),ob=Pe({},Ia,{relatedTarget:0}),Cc=At(ob),cb=Pe({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),db=At(cb),ub=Pe({},pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hb=At(ub),mb=Pe({},pi,{data:0}),Cm=At(mb),pb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xb[e])?!!t[e]:!1}function eh(){return gb}var yb=Pe({},Ia,{key:function(e){if(e.key){var t=pb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eh,charCode:function(e){return e.type==="keypress"?Dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vb=At(yb),bb=Pe({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_m=At(bb),wb=Pe({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eh}),jb=At(wb),Nb=Pe({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),kb=At(Nb),Sb=Pe({},Io,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cb=At(Sb),_b=[9,13,27,32],th=Is&&"CompositionEvent"in window,Gi=null;Is&&"documentMode"in document&&(Gi=document.documentMode);var Eb=Is&&"TextEvent"in window&&!Gi,Rx=Is&&(!th||Gi&&8<Gi&&11>=Gi),Em=" ",Pm=!1;function Tx(e,t){switch(e){case"keyup":return _b.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cn=!1;function Pb(e,t){switch(e){case"compositionend":return Mx(t);case"keypress":return t.which!==32?null:(Pm=!0,Em);case"textInput":return e=t.data,e===Em&&Pm?null:e;default:return null}}function Rb(e,t){if(Cn)return e==="compositionend"||!th&&Tx(e,t)?(e=Px(),Al=Ju=fr=null,Cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rx&&t.locale!=="ko"?null:t.data;default:return null}}var Tb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tb[e.type]:t==="textarea"}function Ax(e,t,s,n){dx(n),t=ao(t,"onChange"),0<t.length&&(s=new Zu("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Yi=null,ma=null;function Mb(e){Hx(e,0)}function Fo(e){var t=Pn(e);if(rx(t))return e}function Ab(e,t){if(e==="change")return t}var Dx=!1;if(Is){var _c;if(Is){var Ec="oninput"in document;if(!Ec){var Tm=document.createElement("div");Tm.setAttribute("oninput","return;"),Ec=typeof Tm.oninput=="function"}_c=Ec}else _c=!1;Dx=_c&&(!document.documentMode||9<document.documentMode)}function Mm(){Yi&&(Yi.detachEvent("onpropertychange",Lx),ma=Yi=null)}function Lx(e){if(e.propertyName==="value"&&Fo(ma)){var t=[];Ax(t,ma,e,Ku(e)),px(Mb,t)}}function Db(e,t,s){e==="focusin"?(Mm(),Yi=t,ma=s,Yi.attachEvent("onpropertychange",Lx)):e==="focusout"&&Mm()}function Lb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fo(ma)}function Ob(e,t){if(e==="click")return Fo(t)}function Ib(e,t){if(e==="input"||e==="change")return Fo(t)}function Fb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rs=typeof Object.is=="function"?Object.is:Fb;function pa(e,t){if(rs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!od.call(t,i)||!rs(e[i],t[i]))return!1}return!0}function Am(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dm(e,t){var s=Am(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Am(s)}}function Ox(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ox(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ix(){for(var e=window,t=Zl();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Zl(e.document)}return t}function sh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ub(e){var t=Ix(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Ox(s.ownerDocument.documentElement,s)){if(n!==null&&sh(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=s.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=Dm(s,a);var l=Dm(s,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qb=Is&&"documentMode"in document&&11>=document.documentMode,_n=null,_d=null,Xi=null,Ed=!1;function Lm(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ed||_n==null||_n!==Zl(n)||(n=_n,"selectionStart"in n&&sh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xi&&pa(Xi,n)||(Xi=n,n=ao(_d,"onSelect"),0<n.length&&(t=new Zu("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=_n)))}function hl(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var En={animationend:hl("Animation","AnimationEnd"),animationiteration:hl("Animation","AnimationIteration"),animationstart:hl("Animation","AnimationStart"),transitionend:hl("Transition","TransitionEnd")},Pc={},Fx={};Is&&(Fx=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);function Uo(e){if(Pc[e])return Pc[e];if(!En[e])return e;var t=En[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Fx)return Pc[e]=t[s];return e}var Ux=Uo("animationend"),qx=Uo("animationiteration"),zx=Uo("animationstart"),Bx=Uo("transitionend"),$x=new Map,Om="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){$x.set(e,t),pn(t,[e])}for(var Rc=0;Rc<Om.length;Rc++){var Tc=Om[Rc],zb=Tc.toLowerCase(),Bb=Tc[0].toUpperCase()+Tc.slice(1);Lr(zb,"on"+Bb)}Lr(Ux,"onAnimationEnd");Lr(qx,"onAnimationIteration");Lr(zx,"onAnimationStart");Lr("dblclick","onDoubleClick");Lr("focusin","onFocus");Lr("focusout","onBlur");Lr(Bx,"onTransitionEnd");si("onMouseEnter",["mouseout","mouseover"]);si("onMouseLeave",["mouseout","mouseover"]);si("onPointerEnter",["pointerout","pointerover"]);si("onPointerLeave",["pointerout","pointerover"]);pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$b=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hi));function Im(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,zv(n,t,void 0,e),e.currentTarget=null}function Hx(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;Im(i,o,d),a=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;Im(i,o,d),a=c}}}if(to)throw e=Nd,to=!1,Nd=null,e}function be(e,t){var s=t[Ad];s===void 0&&(s=t[Ad]=new Set);var n=e+"__bubble";s.has(n)||(Wx(t,e,2,!1),s.add(n))}function Mc(e,t,s){var n=0;t&&(n|=4),Wx(s,e,n,t)}var ml="_reactListening"+Math.random().toString(36).slice(2);function fa(e){if(!e[ml]){e[ml]=!0,Jf.forEach(function(s){s!=="selectionchange"&&($b.has(s)||Mc(s,!1,e),Mc(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ml]||(t[ml]=!0,Mc("selectionchange",!1,t))}}function Wx(e,t,s,n){switch(Ex(t)){case 1:var i=rb;break;case 4:i=nb;break;default:i=Xu}s=i.bind(null,t,s,e),i=void 0,!jd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function Ac(e,t,s,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;o!==null;){if(l=Br(o),l===null)return;if(c=l.tag,c===5||c===6){n=a=l;continue e}o=o.parentNode}}n=n.return}px(function(){var d=a,u=Ku(s),h=[];e:{var m=$x.get(e);if(m!==void 0){var f=Zu,g=e;switch(e){case"keypress":if(Dl(s)===0)break e;case"keydown":case"keyup":f=vb;break;case"focusin":g="focus",f=Cc;break;case"focusout":g="blur",f=Cc;break;case"beforeblur":case"afterblur":f=Cc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Sm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=lb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=jb;break;case Ux:case qx:case zx:f=db;break;case Bx:f=kb;break;case"scroll":f=ib;break;case"wheel":f=Cb;break;case"copy":case"cut":case"paste":f=hb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=_m}var x=(t&4)!==0,w=!x&&e==="scroll",p=x?m!==null?m+"Capture":null:m;x=[];for(var b=d,y;b!==null;){y=b;var v=y.stateNode;if(y.tag===5&&v!==null&&(y=v,p!==null&&(v=ca(b,p),v!=null&&x.push(xa(b,v,y)))),w)break;b=b.return}0<x.length&&(m=new f(m,g,null,s,u),h.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&s!==bd&&(g=s.relatedTarget||s.fromElement)&&(Br(g)||g[Fs]))break e;if((f||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,f?(g=s.relatedTarget||s.toElement,f=d,g=g?Br(g):null,g!==null&&(w=fn(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=d),f!==g)){if(x=Sm,v="onMouseLeave",p="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(x=_m,v="onPointerLeave",p="onPointerEnter",b="pointer"),w=f==null?m:Pn(f),y=g==null?m:Pn(g),m=new x(v,b+"leave",f,s,u),m.target=w,m.relatedTarget=y,v=null,Br(u)===d&&(x=new x(p,b+"enter",g,s,u),x.target=y,x.relatedTarget=w,v=x),w=v,f&&g)t:{for(x=f,p=g,b=0,y=x;y;y=bn(y))b++;for(y=0,v=p;v;v=bn(v))y++;for(;0<b-y;)x=bn(x),b--;for(;0<y-b;)p=bn(p),y--;for(;b--;){if(x===p||p!==null&&x===p.alternate)break t;x=bn(x),p=bn(p)}x=null}else x=null;f!==null&&Fm(h,m,f,x,!1),g!==null&&w!==null&&Fm(h,w,g,x,!0)}}e:{if(m=d?Pn(d):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var S=Ab;else if(Rm(m))if(Dx)S=Ib;else{S=Lb;var C=Db}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=Ob);if(S&&(S=S(e,d))){Ax(h,S,s,u);break e}C&&C(e,m,d),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&fd(m,"number",m.value)}switch(C=d?Pn(d):window,e){case"focusin":(Rm(C)||C.contentEditable==="true")&&(_n=C,_d=d,Xi=null);break;case"focusout":Xi=_d=_n=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,Lm(h,s,u);break;case"selectionchange":if(qb)break;case"keydown":case"keyup":Lm(h,s,u)}var k;if(th)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Cn?Tx(e,s)&&(R="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(R="onCompositionStart");R&&(Rx&&s.locale!=="ko"&&(Cn||R!=="onCompositionStart"?R==="onCompositionEnd"&&Cn&&(k=Px()):(fr=u,Ju="value"in fr?fr.value:fr.textContent,Cn=!0)),C=ao(d,R),0<C.length&&(R=new Cm(R,e,null,s,u),h.push({event:R,listeners:C}),k?R.data=k:(k=Mx(s),k!==null&&(R.data=k)))),(k=Eb?Pb(e,s):Rb(e,s))&&(d=ao(d,"onBeforeInput"),0<d.length&&(u=new Cm("onBeforeInput","beforeinput",null,s,u),h.push({event:u,listeners:d}),u.data=k))}Hx(h,t)})}function xa(e,t,s){return{instance:e,listener:t,currentTarget:s}}function ao(e,t){for(var s=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ca(e,s),a!=null&&n.unshift(xa(e,a,i)),a=ca(e,t),a!=null&&n.push(xa(e,a,i))),e=e.return}return n}function bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fm(e,t,s,n,i){for(var a=t._reactName,l=[];s!==null&&s!==n;){var o=s,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,i?(c=ca(s,a),c!=null&&l.unshift(xa(s,c,o))):i||(c=ca(s,a),c!=null&&l.push(xa(s,c,o)))),s=s.return}l.length!==0&&e.push({event:t,listeners:l})}var Hb=/\r\n?/g,Wb=/\u0000|\uFFFD/g;function Um(e){return(typeof e=="string"?e:""+e).replace(Hb,`
`).replace(Wb,"")}function pl(e,t,s){if(t=Um(t),Um(e)!==t&&s)throw Error(I(425))}function lo(){}var Pd=null,Rd=null;function Td(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Md=typeof setTimeout=="function"?setTimeout:void 0,Vb=typeof clearTimeout=="function"?clearTimeout:void 0,qm=typeof Promise=="function"?Promise:void 0,Kb=typeof queueMicrotask=="function"?queueMicrotask:typeof qm<"u"?function(e){return qm.resolve(null).then(e).catch(Qb)}:Md;function Qb(e){setTimeout(function(){throw e})}function Dc(e,t){var s=t,n=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(n===0){e.removeChild(i),ha(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=i}while(s);ha(t)}function wr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),ps="__reactFiber$"+fi,ga="__reactProps$"+fi,Fs="__reactContainer$"+fi,Ad="__reactEvents$"+fi,Gb="__reactListeners$"+fi,Yb="__reactHandles$"+fi;function Br(e){var t=e[ps];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Fs]||s[ps]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=zm(e);e!==null;){if(s=e[ps])return s;e=zm(e)}return t}e=s,s=e.parentNode}return null}function Fa(e){return e=e[ps]||e[Fs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function qo(e){return e[ga]||null}var Dd=[],Rn=-1;function Or(e){return{current:e}}function we(e){0>Rn||(e.current=Dd[Rn],Dd[Rn]=null,Rn--)}function ye(e,t){Rn++,Dd[Rn]=e.current,e.current=t}var Ar={},st=Or(Ar),bt=Or(!1),an=Ar;function ri(e,t){var s=e.type.contextTypes;if(!s)return Ar;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function wt(e){return e=e.childContextTypes,e!=null}function oo(){we(bt),we(st)}function Bm(e,t,s){if(st.current!==Ar)throw Error(I(168));ye(st,t),ye(bt,s)}function Vx(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(I(108,Dv(e)||"Unknown",i));return Pe({},s,n)}function co(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ar,an=st.current,ye(st,e),ye(bt,bt.current),!0}function $m(e,t,s){var n=e.stateNode;if(!n)throw Error(I(169));s?(e=Vx(e,t,an),n.__reactInternalMemoizedMergedChildContext=e,we(bt),we(st),ye(st,e)):we(bt),ye(bt,s)}var _s=null,zo=!1,Lc=!1;function Kx(e){_s===null?_s=[e]:_s.push(e)}function Xb(e){zo=!0,Kx(e)}function Ir(){if(!Lc&&_s!==null){Lc=!0;var e=0,t=pe;try{var s=_s;for(pe=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}_s=null,zo=!1}catch(i){throw _s!==null&&(_s=_s.slice(e+1)),yx(Qu,Ir),i}finally{pe=t,Lc=!1}}return null}var Tn=[],Mn=0,uo=null,ho=0,It=[],Ft=0,ln=null,Ms=1,As="";function Ur(e,t){Tn[Mn++]=ho,Tn[Mn++]=uo,uo=e,ho=t}function Qx(e,t,s){It[Ft++]=Ms,It[Ft++]=As,It[Ft++]=ln,ln=e;var n=Ms;e=As;var i=32-ts(n)-1;n&=~(1<<i),s+=1;var a=32-ts(t)+i;if(30<a){var l=i-i%5;a=(n&(1<<l)-1).toString(32),n>>=l,i-=l,Ms=1<<32-ts(t)+i|s<<i|n,As=a+e}else Ms=1<<a|s<<i|n,As=e}function rh(e){e.return!==null&&(Ur(e,1),Qx(e,1,0))}function nh(e){for(;e===uo;)uo=Tn[--Mn],Tn[Mn]=null,ho=Tn[--Mn],Tn[Mn]=null;for(;e===ln;)ln=It[--Ft],It[Ft]=null,As=It[--Ft],It[Ft]=null,Ms=It[--Ft],It[Ft]=null}var Et=null,_t=null,ke=!1,es=null;function Gx(e,t){var s=qt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Hm(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,_t=wr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,_t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=ln!==null?{id:Ms,overflow:As}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=qt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Et=e,_t=null,!0):!1;default:return!1}}function Ld(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Od(e){if(ke){var t=_t;if(t){var s=t;if(!Hm(e,t)){if(Ld(e))throw Error(I(418));t=wr(s.nextSibling);var n=Et;t&&Hm(e,t)?Gx(n,s):(e.flags=e.flags&-4097|2,ke=!1,Et=e)}}else{if(Ld(e))throw Error(I(418));e.flags=e.flags&-4097|2,ke=!1,Et=e}}}function Wm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function fl(e){if(e!==Et)return!1;if(!ke)return Wm(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Td(e.type,e.memoizedProps)),t&&(t=_t)){if(Ld(e))throw Yx(),Error(I(418));for(;t;)Gx(e,t),t=wr(t.nextSibling)}if(Wm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){_t=wr(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}_t=null}}else _t=Et?wr(e.stateNode.nextSibling):null;return!0}function Yx(){for(var e=_t;e;)e=wr(e.nextSibling)}function ni(){_t=Et=null,ke=!1}function ih(e){es===null?es=[e]:es.push(e)}var Jb=Bs.ReactCurrentBatchConfig;function Ti(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(I(309));var n=s.stateNode}if(!n)throw Error(I(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var o=i.refs;l===null?delete o[a]:o[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(I(284));if(!s._owner)throw Error(I(290,e))}return e}function xl(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vm(e){var t=e._init;return t(e._payload)}function Xx(e){function t(p,b){if(e){var y=p.deletions;y===null?(p.deletions=[b],p.flags|=16):y.push(b)}}function s(p,b){if(!e)return null;for(;b!==null;)t(p,b),b=b.sibling;return null}function n(p,b){for(p=new Map;b!==null;)b.key!==null?p.set(b.key,b):p.set(b.index,b),b=b.sibling;return p}function i(p,b){return p=Sr(p,b),p.index=0,p.sibling=null,p}function a(p,b,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<b?(p.flags|=2,b):y):(p.flags|=2,b)):(p.flags|=1048576,b)}function l(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,b,y,v){return b===null||b.tag!==6?(b=Bc(y,p.mode,v),b.return=p,b):(b=i(b,y),b.return=p,b)}function c(p,b,y,v){var S=y.type;return S===Sn?u(p,b,y.props.children,v,y.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===tr&&Vm(S)===b.type)?(v=i(b,y.props),v.ref=Ti(p,b,y),v.return=p,v):(v=zl(y.type,y.key,y.props,null,p.mode,v),v.ref=Ti(p,b,y),v.return=p,v)}function d(p,b,y,v){return b===null||b.tag!==4||b.stateNode.containerInfo!==y.containerInfo||b.stateNode.implementation!==y.implementation?(b=$c(y,p.mode,v),b.return=p,b):(b=i(b,y.children||[]),b.return=p,b)}function u(p,b,y,v,S){return b===null||b.tag!==7?(b=rn(y,p.mode,v,S),b.return=p,b):(b=i(b,y),b.return=p,b)}function h(p,b,y){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Bc(""+b,p.mode,y),b.return=p,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case il:return y=zl(b.type,b.key,b.props,null,p.mode,y),y.ref=Ti(p,null,b),y.return=p,y;case kn:return b=$c(b,p.mode,y),b.return=p,b;case tr:var v=b._init;return h(p,v(b._payload),y)}if(Bi(b)||Ci(b))return b=rn(b,p.mode,y,null),b.return=p,b;xl(p,b)}return null}function m(p,b,y,v){var S=b!==null?b.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:o(p,b,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case il:return y.key===S?c(p,b,y,v):null;case kn:return y.key===S?d(p,b,y,v):null;case tr:return S=y._init,m(p,b,S(y._payload),v)}if(Bi(y)||Ci(y))return S!==null?null:u(p,b,y,v,null);xl(p,y)}return null}function f(p,b,y,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return p=p.get(y)||null,o(b,p,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case il:return p=p.get(v.key===null?y:v.key)||null,c(b,p,v,S);case kn:return p=p.get(v.key===null?y:v.key)||null,d(b,p,v,S);case tr:var C=v._init;return f(p,b,y,C(v._payload),S)}if(Bi(v)||Ci(v))return p=p.get(y)||null,u(b,p,v,S,null);xl(b,v)}return null}function g(p,b,y,v){for(var S=null,C=null,k=b,R=b=0,U=null;k!==null&&R<y.length;R++){k.index>R?(U=k,k=null):U=k.sibling;var E=m(p,k,y[R],v);if(E===null){k===null&&(k=U);break}e&&k&&E.alternate===null&&t(p,k),b=a(E,b,R),C===null?S=E:C.sibling=E,C=E,k=U}if(R===y.length)return s(p,k),ke&&Ur(p,R),S;if(k===null){for(;R<y.length;R++)k=h(p,y[R],v),k!==null&&(b=a(k,b,R),C===null?S=k:C.sibling=k,C=k);return ke&&Ur(p,R),S}for(k=n(p,k);R<y.length;R++)U=f(k,p,R,y[R],v),U!==null&&(e&&U.alternate!==null&&k.delete(U.key===null?R:U.key),b=a(U,b,R),C===null?S=U:C.sibling=U,C=U);return e&&k.forEach(function(D){return t(p,D)}),ke&&Ur(p,R),S}function x(p,b,y,v){var S=Ci(y);if(typeof S!="function")throw Error(I(150));if(y=S.call(y),y==null)throw Error(I(151));for(var C=S=null,k=b,R=b=0,U=null,E=y.next();k!==null&&!E.done;R++,E=y.next()){k.index>R?(U=k,k=null):U=k.sibling;var D=m(p,k,E.value,v);if(D===null){k===null&&(k=U);break}e&&k&&D.alternate===null&&t(p,k),b=a(D,b,R),C===null?S=D:C.sibling=D,C=D,k=U}if(E.done)return s(p,k),ke&&Ur(p,R),S;if(k===null){for(;!E.done;R++,E=y.next())E=h(p,E.value,v),E!==null&&(b=a(E,b,R),C===null?S=E:C.sibling=E,C=E);return ke&&Ur(p,R),S}for(k=n(p,k);!E.done;R++,E=y.next())E=f(k,p,R,E.value,v),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?R:E.key),b=a(E,b,R),C===null?S=E:C.sibling=E,C=E);return e&&k.forEach(function(_){return t(p,_)}),ke&&Ur(p,R),S}function w(p,b,y,v){if(typeof y=="object"&&y!==null&&y.type===Sn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case il:e:{for(var S=y.key,C=b;C!==null;){if(C.key===S){if(S=y.type,S===Sn){if(C.tag===7){s(p,C.sibling),b=i(C,y.props.children),b.return=p,p=b;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===tr&&Vm(S)===C.type){s(p,C.sibling),b=i(C,y.props),b.ref=Ti(p,C,y),b.return=p,p=b;break e}s(p,C);break}else t(p,C);C=C.sibling}y.type===Sn?(b=rn(y.props.children,p.mode,v,y.key),b.return=p,p=b):(v=zl(y.type,y.key,y.props,null,p.mode,v),v.ref=Ti(p,b,y),v.return=p,p=v)}return l(p);case kn:e:{for(C=y.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===y.containerInfo&&b.stateNode.implementation===y.implementation){s(p,b.sibling),b=i(b,y.children||[]),b.return=p,p=b;break e}else{s(p,b);break}else t(p,b);b=b.sibling}b=$c(y,p.mode,v),b.return=p,p=b}return l(p);case tr:return C=y._init,w(p,b,C(y._payload),v)}if(Bi(y))return g(p,b,y,v);if(Ci(y))return x(p,b,y,v);xl(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,b!==null&&b.tag===6?(s(p,b.sibling),b=i(b,y),b.return=p,p=b):(s(p,b),b=Bc(y,p.mode,v),b.return=p,p=b),l(p)):s(p,b)}return w}var ii=Xx(!0),Jx=Xx(!1),mo=Or(null),po=null,An=null,ah=null;function lh(){ah=An=po=null}function oh(e){var t=mo.current;we(mo),e._currentValue=t}function Id(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function qn(e,t){po=e,ah=An=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function Bt(e){var t=e._currentValue;if(ah!==e)if(e={context:e,memoizedValue:t,next:null},An===null){if(po===null)throw Error(I(308));An=e,po.dependencies={lanes:0,firstContext:e}}else An=An.next=e;return t}var $r=null;function ch(e){$r===null?$r=[e]:$r.push(e)}function Zx(e,t,s,n){var i=t.interleaved;return i===null?(s.next=s,ch(t)):(s.next=i.next,i.next=s),t.interleaved=s,Us(e,n)}function Us(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var sr=!1;function dh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jr(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,de&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Us(e,s)}return i=n.interleaved,i===null?(t.next=t,ch(n)):(t.next=i.next,i.next=t),n.interleaved=t,Us(e,s)}function Ll(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Gu(e,s)}}function Km(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=l:a=a.next=l,s=s.next}while(s!==null);a===null?i=a=t:a=a.next=t}else i=a=t;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function fo(e,t,s,n){var i=e.updateQueue;sr=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?a=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;l=0,u=d=c=null,o=a;do{var m=o.lane,f=o.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,x=o;switch(m=t,f=s,x.tag){case 1:if(g=x.payload,typeof g=="function"){h=g.call(f,h,m);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,m=typeof g=="function"?g.call(f,h,m):g,m==null)break e;h=Pe({},h,m);break e;case 2:sr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[o]:m.push(o))}else f={eventTime:f,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=f,c=h):u=u.next=f,l|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);cn|=l,e.lanes=l,e.memoizedState=h}}function Qm(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=s,typeof i!="function")throw Error(I(191,i));i.call(n)}}}var Ua={},gs=Or(Ua),ya=Or(Ua),va=Or(Ua);function Hr(e){if(e===Ua)throw Error(I(174));return e}function uh(e,t){switch(ye(va,t),ye(ya,e),ye(gs,Ua),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gd(t,e)}we(gs),ye(gs,t)}function ai(){we(gs),we(ya),we(va)}function tg(e){Hr(va.current);var t=Hr(gs.current),s=gd(t,e.type);t!==s&&(ye(ya,e),ye(gs,s))}function hh(e){ya.current===e&&(we(gs),we(ya))}var Ce=Or(0);function xo(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oc=[];function mh(){for(var e=0;e<Oc.length;e++)Oc[e]._workInProgressVersionPrimary=null;Oc.length=0}var Ol=Bs.ReactCurrentDispatcher,Ic=Bs.ReactCurrentBatchConfig,on=0,_e=null,qe=null,He=null,go=!1,Ji=!1,ba=0,Zb=0;function Je(){throw Error(I(321))}function ph(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!rs(e[s],t[s]))return!1;return!0}function fh(e,t,s,n,i,a){if(on=a,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ol.current=e===null||e.memoizedState===null?rw:nw,e=s(n,i),Ji){a=0;do{if(Ji=!1,ba=0,25<=a)throw Error(I(301));a+=1,He=qe=null,t.updateQueue=null,Ol.current=iw,e=s(n,i)}while(Ji)}if(Ol.current=yo,t=qe!==null&&qe.next!==null,on=0,He=qe=_e=null,go=!1,t)throw Error(I(300));return e}function xh(){var e=ba!==0;return ba=0,e}function cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?_e.memoizedState=He=e:He=He.next=e,He}function $t(){if(qe===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=He===null?_e.memoizedState:He.next;if(t!==null)He=t,qe=e;else{if(e===null)throw Error(I(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},He===null?_e.memoizedState=He=e:He=He.next=e}return He}function wa(e,t){return typeof t=="function"?t(e):t}function Fc(e){var t=$t(),s=t.queue;if(s===null)throw Error(I(311));s.lastRenderedReducer=e;var n=qe,i=n.baseQueue,a=s.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}n.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=l=null,c=null,d=a;do{var u=d.lane;if((on&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=h,l=n):c=c.next=h,_e.lanes|=u,cn|=u}d=d.next}while(d!==null&&d!==a);c===null?l=n:c.next=o,rs(n,t.memoizedState)||(vt=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){i=e;do a=i.lane,_e.lanes|=a,cn|=a,i=i.next;while(i!==e)}else i===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Uc(e){var t=$t(),s=t.queue;if(s===null)throw Error(I(311));s.lastRenderedReducer=e;var n=s.dispatch,i=s.pending,a=t.memoizedState;if(i!==null){s.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);rs(a,t.memoizedState)||(vt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,n]}function sg(){}function rg(e,t){var s=_e,n=$t(),i=t(),a=!rs(n.memoizedState,i);if(a&&(n.memoizedState=i,vt=!0),n=n.queue,gh(ag.bind(null,s,n,e),[e]),n.getSnapshot!==t||a||He!==null&&He.memoizedState.tag&1){if(s.flags|=2048,ja(9,ig.bind(null,s,n,i,t),void 0,null),Ve===null)throw Error(I(349));on&30||ng(s,t,i)}return i}function ng(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function ig(e,t,s,n){t.value=s,t.getSnapshot=n,lg(t)&&og(e)}function ag(e,t,s){return s(function(){lg(t)&&og(e)})}function lg(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!rs(e,s)}catch{return!0}}function og(e){var t=Us(e,1);t!==null&&ss(t,e,1,-1)}function Gm(e){var t=cs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=sw.bind(null,_e,e),[t.memoizedState,e]}function ja(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function cg(){return $t().memoizedState}function Il(e,t,s,n){var i=cs();_e.flags|=e,i.memoizedState=ja(1|t,s,void 0,n===void 0?null:n)}function Bo(e,t,s,n){var i=$t();n=n===void 0?null:n;var a=void 0;if(qe!==null){var l=qe.memoizedState;if(a=l.destroy,n!==null&&ph(n,l.deps)){i.memoizedState=ja(t,s,a,n);return}}_e.flags|=e,i.memoizedState=ja(1|t,s,a,n)}function Ym(e,t){return Il(8390656,8,e,t)}function gh(e,t){return Bo(2048,8,e,t)}function dg(e,t){return Bo(4,2,e,t)}function ug(e,t){return Bo(4,4,e,t)}function hg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mg(e,t,s){return s=s!=null?s.concat([e]):null,Bo(4,4,hg.bind(null,t,e),s)}function yh(){}function pg(e,t){var s=$t();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&ph(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function fg(e,t){var s=$t();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&ph(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function xg(e,t,s){return on&21?(rs(s,t)||(s=wx(),_e.lanes|=s,cn|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=s)}function ew(e,t){var s=pe;pe=s!==0&&4>s?s:4,e(!0);var n=Ic.transition;Ic.transition={};try{e(!1),t()}finally{pe=s,Ic.transition=n}}function gg(){return $t().memoizedState}function tw(e,t,s){var n=kr(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},yg(e))vg(t,s);else if(s=Zx(e,t,s,n),s!==null){var i=ot();ss(s,e,n,i),bg(s,t,n)}}function sw(e,t,s){var n=kr(e),i={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(yg(e))vg(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,o=a(l,s);if(i.hasEagerState=!0,i.eagerState=o,rs(o,l)){var c=t.interleaved;c===null?(i.next=i,ch(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}s=Zx(e,t,i,n),s!==null&&(i=ot(),ss(s,e,n,i),bg(s,t,n))}}function yg(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function vg(e,t){Ji=go=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function bg(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Gu(e,s)}}var yo={readContext:Bt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},rw={readContext:Bt,useCallback:function(e,t){return cs().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:Ym,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Il(4194308,4,hg.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Il(4194308,4,e,t)},useInsertionEffect:function(e,t){return Il(4,2,e,t)},useMemo:function(e,t){var s=cs();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=cs();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=tw.bind(null,_e,e),[n.memoizedState,e]},useRef:function(e){var t=cs();return e={current:e},t.memoizedState=e},useState:Gm,useDebugValue:yh,useDeferredValue:function(e){return cs().memoizedState=e},useTransition:function(){var e=Gm(!1),t=e[0];return e=ew.bind(null,e[1]),cs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=_e,i=cs();if(ke){if(s===void 0)throw Error(I(407));s=s()}else{if(s=t(),Ve===null)throw Error(I(349));on&30||ng(n,t,s)}i.memoizedState=s;var a={value:s,getSnapshot:t};return i.queue=a,Ym(ag.bind(null,n,a,e),[e]),n.flags|=2048,ja(9,ig.bind(null,n,a,s,t),void 0,null),s},useId:function(){var e=cs(),t=Ve.identifierPrefix;if(ke){var s=As,n=Ms;s=(n&~(1<<32-ts(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=ba++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Zb++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nw={readContext:Bt,useCallback:pg,useContext:Bt,useEffect:gh,useImperativeHandle:mg,useInsertionEffect:dg,useLayoutEffect:ug,useMemo:fg,useReducer:Fc,useRef:cg,useState:function(){return Fc(wa)},useDebugValue:yh,useDeferredValue:function(e){var t=$t();return xg(t,qe.memoizedState,e)},useTransition:function(){var e=Fc(wa)[0],t=$t().memoizedState;return[e,t]},useMutableSource:sg,useSyncExternalStore:rg,useId:gg,unstable_isNewReconciler:!1},iw={readContext:Bt,useCallback:pg,useContext:Bt,useEffect:gh,useImperativeHandle:mg,useInsertionEffect:dg,useLayoutEffect:ug,useMemo:fg,useReducer:Uc,useRef:cg,useState:function(){return Uc(wa)},useDebugValue:yh,useDeferredValue:function(e){var t=$t();return qe===null?t.memoizedState=e:xg(t,qe.memoizedState,e)},useTransition:function(){var e=Uc(wa)[0],t=$t().memoizedState;return[e,t]},useMutableSource:sg,useSyncExternalStore:rg,useId:gg,unstable_isNewReconciler:!1};function Gt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Fd(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:Pe({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var $o={isMounted:function(e){return(e=e._reactInternals)?fn(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=ot(),i=kr(e),a=Ds(n,i);a.payload=t,s!=null&&(a.callback=s),t=jr(e,a,i),t!==null&&(ss(t,e,i,n),Ll(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=ot(),i=kr(e),a=Ds(n,i);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=jr(e,a,i),t!==null&&(ss(t,e,i,n),Ll(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ot(),n=kr(e),i=Ds(s,n);i.tag=2,t!=null&&(i.callback=t),t=jr(e,i,n),t!==null&&(ss(t,e,n,s),Ll(t,e,n))}};function Xm(e,t,s,n,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!pa(s,n)||!pa(i,a):!0}function wg(e,t,s){var n=!1,i=Ar,a=t.contextType;return typeof a=="object"&&a!==null?a=Bt(a):(i=wt(t)?an:st.current,n=t.contextTypes,a=(n=n!=null)?ri(e,i):Ar),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$o,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Jm(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&$o.enqueueReplaceState(t,t.state,null)}function Ud(e,t,s,n){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},dh(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Bt(a):(a=wt(t)?an:st.current,i.context=ri(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Fd(e,t,a,s),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&$o.enqueueReplaceState(i,i.state,null),fo(e,s,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function li(e,t){try{var s="",n=t;do s+=Av(n),n=n.return;while(n);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function qc(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function qd(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var aw=typeof WeakMap=="function"?WeakMap:Map;function jg(e,t,s){s=Ds(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){bo||(bo=!0,Yd=n),qd(e,t)},s}function Ng(e,t,s){s=Ds(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;s.payload=function(){return n(i)},s.callback=function(){qd(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){qd(e,t),typeof n!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),s}function Zm(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new aw;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(s)||(i.add(s),e=bw.bind(null,e,t,s),t.then(e,e))}function ep(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tp(e,t,s,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Ds(-1,1),t.tag=2,jr(s,t,1))),s.lanes|=1),e)}var lw=Bs.ReactCurrentOwner,vt=!1;function at(e,t,s,n){t.child=e===null?Jx(t,null,s,n):ii(t,e.child,s,n)}function sp(e,t,s,n,i){s=s.render;var a=t.ref;return qn(t,i),n=fh(e,t,s,n,a,i),s=xh(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i)):(ke&&s&&rh(t),t.flags|=1,at(e,t,n,i),t.child)}function rp(e,t,s,n,i){if(e===null){var a=s.type;return typeof a=="function"&&!Ch(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,kg(e,t,a,n,i)):(e=zl(s.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var l=a.memoizedProps;if(s=s.compare,s=s!==null?s:pa,s(l,n)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,e=Sr(a,n),e.ref=t.ref,e.return=t,t.child=e}function kg(e,t,s,n,i){if(e!==null){var a=e.memoizedProps;if(pa(a,n)&&e.ref===t.ref)if(vt=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,qs(e,t,i)}return zd(e,t,s,n,i)}function Sg(e,t,s){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Ln,St),St|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(Ln,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,ye(Ln,St),St|=n}else a!==null?(n=a.baseLanes|s,t.memoizedState=null):n=s,ye(Ln,St),St|=n;return at(e,t,i,s),t.child}function Cg(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function zd(e,t,s,n,i){var a=wt(s)?an:st.current;return a=ri(t,a),qn(t,i),s=fh(e,t,s,n,a,i),n=xh(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i)):(ke&&n&&rh(t),t.flags|=1,at(e,t,s,i),t.child)}function np(e,t,s,n,i){if(wt(s)){var a=!0;co(t)}else a=!1;if(qn(t,i),t.stateNode===null)Fl(e,t),wg(t,s,n),Ud(t,s,n,i),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=s.contextType;typeof d=="object"&&d!==null?d=Bt(d):(d=wt(s)?an:st.current,d=ri(t,d));var u=s.getDerivedStateFromProps,h=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&Jm(t,l,n,d),sr=!1;var m=t.memoizedState;l.state=m,fo(t,n,l,i),c=t.memoizedState,o!==n||m!==c||bt.current||sr?(typeof u=="function"&&(Fd(t,s,u,n),c=t.memoizedState),(o=sr||Xm(t,s,o,n,m,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,eg(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Gt(t.type,o),l.props=d,h=t.pendingProps,m=l.context,c=s.contextType,typeof c=="object"&&c!==null?c=Bt(c):(c=wt(s)?an:st.current,c=ri(t,c));var f=s.getDerivedStateFromProps;(u=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||m!==c)&&Jm(t,l,n,c),sr=!1,m=t.memoizedState,l.state=m,fo(t,n,l,i);var g=t.memoizedState;o!==h||m!==g||bt.current||sr?(typeof f=="function"&&(Fd(t,s,f,n),g=t.memoizedState),(d=sr||Xm(t,s,d,n,m,g,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,g,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,g,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),l.props=n,l.state=g,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Bd(e,t,s,n,a,i)}function Bd(e,t,s,n,i,a){Cg(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&$m(t,s,!1),qs(e,t,a);n=t.stateNode,lw.current=t;var o=l&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=ii(t,e.child,null,a),t.child=ii(t,null,o,a)):at(e,t,o,a),t.memoizedState=n.state,i&&$m(t,s,!0),t.child}function _g(e){var t=e.stateNode;t.pendingContext?Bm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bm(e,t.context,!1),uh(e,t.containerInfo)}function ip(e,t,s,n,i){return ni(),ih(i),t.flags|=256,at(e,t,s,n),t.child}var $d={dehydrated:null,treeContext:null,retryLane:0};function Hd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Eg(e,t,s){var n=t.pendingProps,i=Ce.current,a=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ye(Ce,i&1),e===null)return Od(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Vo(l,n,0,null),e=rn(e,n,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Hd(s),t.memoizedState=$d,e):vh(t,l));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return ow(e,t,l,n,o,i,s);if(a){a=n.fallback,l=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Sr(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Sr(o,a):(a=rn(a,l,s,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?Hd(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~s,t.memoizedState=$d,n}return a=e.child,e=a.sibling,n=Sr(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function vh(e,t){return t=Vo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gl(e,t,s,n){return n!==null&&ih(n),ii(t,e.child,null,s),e=vh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ow(e,t,s,n,i,a,l){if(s)return t.flags&256?(t.flags&=-257,n=qc(Error(I(422))),gl(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Vo({mode:"visible",children:n.children},i,0,null),a=rn(a,i,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&ii(t,e.child,null,l),t.child.memoizedState=Hd(l),t.memoizedState=$d,a);if(!(t.mode&1))return gl(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(I(419)),n=qc(a,n,void 0),gl(e,t,l,n)}if(o=(l&e.childLanes)!==0,vt||o){if(n=Ve,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Us(e,i),ss(n,e,i,-1))}return Sh(),n=qc(Error(I(421))),gl(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ww.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,_t=wr(i.nextSibling),Et=t,ke=!0,es=null,e!==null&&(It[Ft++]=Ms,It[Ft++]=As,It[Ft++]=ln,Ms=e.id,As=e.overflow,ln=t),t=vh(t,n.children),t.flags|=4096,t)}function ap(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Id(e.return,t,s)}function zc(e,t,s,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=i)}function Pg(e,t,s){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(at(e,t,n.children,s),n=Ce.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ap(e,s,t);else if(e.tag===19)ap(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ye(Ce,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&xo(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),zc(t,!1,i,s,a);break;case"backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&xo(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}zc(t,!0,s,null,a);break;case"together":zc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),cn|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,s=Sr(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Sr(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function cw(e,t,s){switch(t.tag){case 3:_g(t),ni();break;case 5:tg(t);break;case 1:wt(t.type)&&co(t);break;case 4:uh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ye(mo,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ye(Ce,Ce.current&1),t.flags|=128,null):s&t.child.childLanes?Eg(e,t,s):(ye(Ce,Ce.current&1),e=qs(e,t,s),e!==null?e.sibling:null);ye(Ce,Ce.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return Pg(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ye(Ce,Ce.current),n)break;return null;case 22:case 23:return t.lanes=0,Sg(e,t,s)}return qs(e,t,s)}var Rg,Wd,Tg,Mg;Rg=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Wd=function(){};Tg=function(e,t,s,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Hr(gs.current);var a=null;switch(s){case"input":i=md(e,i),n=md(e,n),a=[];break;case"select":i=Pe({},i,{value:void 0}),n=Pe({},n,{value:void 0}),a=[];break;case"textarea":i=xd(e,i),n=xd(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=lo)}yd(s,n);var l;s=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var o=i[d];for(l in o)o.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(la.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(o=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(s||(s={}),s[l]=c[l])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(la.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&be("scroll",e),a||o===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};Mg=function(e,t,s,n){s!==n&&(t.flags|=4)};function Mi(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function dw(e,t,s){var n=t.pendingProps;switch(nh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return wt(t.type)&&oo(),Ze(t),null;case 3:return n=t.stateNode,ai(),we(bt),we(st),mh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(fl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,es!==null&&(Zd(es),es=null))),Wd(e,t),Ze(t),null;case 5:hh(t);var i=Hr(va.current);if(s=t.type,e!==null&&t.stateNode!=null)Tg(e,t,s,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(I(166));return Ze(t),null}if(e=Hr(gs.current),fl(t)){n=t.stateNode,s=t.type;var a=t.memoizedProps;switch(n[ps]=t,n[ga]=a,e=(t.mode&1)!==0,s){case"dialog":be("cancel",n),be("close",n);break;case"iframe":case"object":case"embed":be("load",n);break;case"video":case"audio":for(i=0;i<Hi.length;i++)be(Hi[i],n);break;case"source":be("error",n);break;case"img":case"image":case"link":be("error",n),be("load",n);break;case"details":be("toggle",n);break;case"input":fm(n,a),be("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},be("invalid",n);break;case"textarea":gm(n,a),be("invalid",n)}yd(s,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var o=a[l];l==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&pl(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&pl(n.textContent,o,e),i=["children",""+o]):la.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&be("scroll",n)}switch(s){case"input":al(n),xm(n,a,!0);break;case"textarea":al(n),ym(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=lo)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ax(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(s,{is:n.is}):(e=l.createElement(s),s==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,s),e[ps]=t,e[ga]=n,Rg(e,t,!1,!1),t.stateNode=e;e:{switch(l=vd(s,n),s){case"dialog":be("cancel",e),be("close",e),i=n;break;case"iframe":case"object":case"embed":be("load",e),i=n;break;case"video":case"audio":for(i=0;i<Hi.length;i++)be(Hi[i],e);i=n;break;case"source":be("error",e),i=n;break;case"img":case"image":case"link":be("error",e),be("load",e),i=n;break;case"details":be("toggle",e),i=n;break;case"input":fm(e,n),i=md(e,n),be("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Pe({},n,{value:void 0}),be("invalid",e);break;case"textarea":gm(e,n),i=xd(e,n),be("invalid",e);break;default:i=n}yd(s,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?cx(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lx(e,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&oa(e,c):typeof c=="number"&&oa(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(la.hasOwnProperty(a)?c!=null&&a==="onScroll"&&be("scroll",e):c!=null&&$u(e,a,c,l))}switch(s){case"input":al(e),xm(e,n,!1);break;case"textarea":al(e),ym(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Mr(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?On(e,!!n.multiple,a,!1):n.defaultValue!=null&&On(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=lo)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ze(t),null;case 6:if(e&&t.stateNode!=null)Mg(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));if(s=Hr(va.current),Hr(gs.current),fl(t)){if(n=t.stateNode,s=t.memoizedProps,n[ps]=t,(a=n.nodeValue!==s)&&(e=Et,e!==null))switch(e.tag){case 3:pl(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pl(n.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[ps]=t,t.stateNode=n}return Ze(t),null;case 13:if(we(Ce),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&_t!==null&&t.mode&1&&!(t.flags&128))Yx(),ni(),t.flags|=98560,a=!1;else if(a=fl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(I(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(I(317));a[ps]=t}else ni(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ze(t),a=!1}else es!==null&&(Zd(es),es=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?Be===0&&(Be=3):Sh())),t.updateQueue!==null&&(t.flags|=4),Ze(t),null);case 4:return ai(),Wd(e,t),e===null&&fa(t.stateNode.containerInfo),Ze(t),null;case 10:return oh(t.type._context),Ze(t),null;case 17:return wt(t.type)&&oo(),Ze(t),null;case 19:if(we(Ce),a=t.memoizedState,a===null)return Ze(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)Mi(a,!1);else{if(Be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=xo(e),l!==null){for(t.flags|=128,Mi(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)a=s,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ye(Ce,Ce.current&1|2),t.child}e=e.sibling}a.tail!==null&&De()>oi&&(t.flags|=128,n=!0,Mi(a,!1),t.lanes=4194304)}else{if(!n)if(e=xo(l),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Mi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!ke)return Ze(t),null}else 2*De()-a.renderingStartTime>oi&&s!==1073741824&&(t.flags|=128,n=!0,Mi(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(s=a.last,s!==null?s.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=De(),t.sibling=null,s=Ce.current,ye(Ce,n?s&1|2:s&1),t):(Ze(t),null);case 22:case 23:return kh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?St&1073741824&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function uw(e,t){switch(nh(t),t.tag){case 1:return wt(t.type)&&oo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ai(),we(bt),we(st),mh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hh(t),null;case 13:if(we(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Ce),null;case 4:return ai(),null;case 10:return oh(t.type._context),null;case 22:case 23:return kh(),null;case 24:return null;default:return null}}var yl=!1,et=!1,hw=typeof WeakSet=="function"?WeakSet:Set,$=null;function Dn(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){Me(e,t,n)}else s.current=null}function Vd(e,t,s){try{s()}catch(n){Me(e,t,n)}}var lp=!1;function mw(e,t){if(Pd=no,e=Ix(),sh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var l=0,o=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var f;h!==s||i!==0&&h.nodeType!==3||(o=l+i),h!==a||n!==0&&h.nodeType!==3||(c=l+n),h.nodeType===3&&(l+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===e)break t;if(m===s&&++d===i&&(o=l),m===a&&++u===n&&(c=l),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Rd={focusedElem:e,selectionRange:s},no=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,w=g.memoizedState,p=t.stateNode,b=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:Gt(t.type,x),w);p.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(v){Me(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return g=lp,lp=!1,g}function Zi(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Vd(t,s,a)}i=i.next}while(i!==n)}}function Ho(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function Kd(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Ag(e){var t=e.alternate;t!==null&&(e.alternate=null,Ag(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ps],delete t[ga],delete t[Ad],delete t[Gb],delete t[Yb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dg(e){return e.tag===5||e.tag===3||e.tag===4}function op(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qd(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=lo));else if(n!==4&&(e=e.child,e!==null))for(Qd(e,t,s),e=e.sibling;e!==null;)Qd(e,t,s),e=e.sibling}function Gd(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Gd(e,t,s),e=e.sibling;e!==null;)Gd(e,t,s),e=e.sibling}var Qe=null,Jt=!1;function Qs(e,t,s){for(s=s.child;s!==null;)Lg(e,t,s),s=s.sibling}function Lg(e,t,s){if(xs&&typeof xs.onCommitFiberUnmount=="function")try{xs.onCommitFiberUnmount(Oo,s)}catch{}switch(s.tag){case 5:et||Dn(s,t);case 6:var n=Qe,i=Jt;Qe=null,Qs(e,t,s),Qe=n,Jt=i,Qe!==null&&(Jt?(e=Qe,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Qe.removeChild(s.stateNode));break;case 18:Qe!==null&&(Jt?(e=Qe,s=s.stateNode,e.nodeType===8?Dc(e.parentNode,s):e.nodeType===1&&Dc(e,s),ha(e)):Dc(Qe,s.stateNode));break;case 4:n=Qe,i=Jt,Qe=s.stateNode.containerInfo,Jt=!0,Qs(e,t,s),Qe=n,Jt=i;break;case 0:case 11:case 14:case 15:if(!et&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Vd(s,t,l),i=i.next}while(i!==n)}Qs(e,t,s);break;case 1:if(!et&&(Dn(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(o){Me(s,t,o)}Qs(e,t,s);break;case 21:Qs(e,t,s);break;case 22:s.mode&1?(et=(n=et)||s.memoizedState!==null,Qs(e,t,s),et=n):Qs(e,t,s);break;default:Qs(e,t,s)}}function cp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new hw),t.forEach(function(n){var i=jw.bind(null,e,n);s.has(n)||(s.add(n),n.then(i,i))})}}function Kt(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n];try{var a=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Qe=o.stateNode,Jt=!1;break e;case 3:Qe=o.stateNode.containerInfo,Jt=!0;break e;case 4:Qe=o.stateNode.containerInfo,Jt=!0;break e}o=o.return}if(Qe===null)throw Error(I(160));Lg(a,l,i),Qe=null,Jt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Me(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Og(t,e),t=t.sibling}function Og(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Kt(t,e),ls(e),n&4){try{Zi(3,e,e.return),Ho(3,e)}catch(x){Me(e,e.return,x)}try{Zi(5,e,e.return)}catch(x){Me(e,e.return,x)}}break;case 1:Kt(t,e),ls(e),n&512&&s!==null&&Dn(s,s.return);break;case 5:if(Kt(t,e),ls(e),n&512&&s!==null&&Dn(s,s.return),e.flags&32){var i=e.stateNode;try{oa(i,"")}catch(x){Me(e,e.return,x)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,l=s!==null?s.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&nx(i,a),vd(o,l);var d=vd(o,a);for(l=0;l<c.length;l+=2){var u=c[l],h=c[l+1];u==="style"?cx(i,h):u==="dangerouslySetInnerHTML"?lx(i,h):u==="children"?oa(i,h):$u(i,u,h,d)}switch(o){case"input":pd(i,a);break;case"textarea":ix(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?On(i,!!a.multiple,f,!1):m!==!!a.multiple&&(a.defaultValue!=null?On(i,!!a.multiple,a.defaultValue,!0):On(i,!!a.multiple,a.multiple?[]:"",!1))}i[ga]=a}catch(x){Me(e,e.return,x)}}break;case 6:if(Kt(t,e),ls(e),n&4){if(e.stateNode===null)throw Error(I(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(x){Me(e,e.return,x)}}break;case 3:if(Kt(t,e),ls(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{ha(t.containerInfo)}catch(x){Me(e,e.return,x)}break;case 4:Kt(t,e),ls(e);break;case 13:Kt(t,e),ls(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(jh=De())),n&4&&cp(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(et=(d=et)||u,Kt(t,e),et=d):Kt(t,e),ls(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for($=e,u=e.child;u!==null;){for(h=$=u;$!==null;){switch(m=$,f=m.child,m.tag){case 0:case 11:case 14:case 15:Zi(4,m,m.return);break;case 1:Dn(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,s=m.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){Me(n,s,x)}}break;case 5:Dn(m,m.return);break;case 22:if(m.memoizedState!==null){up(h);continue}}f!==null?(f.return=m,$=f):up(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=ox("display",l))}catch(x){Me(e,e.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(x){Me(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Kt(t,e),ls(e),n&4&&cp(e);break;case 21:break;default:Kt(t,e),ls(e)}}function ls(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Dg(s)){var n=s;break e}s=s.return}throw Error(I(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(oa(i,""),n.flags&=-33);var a=op(e);Gd(e,a,i);break;case 3:case 4:var l=n.stateNode.containerInfo,o=op(e);Qd(e,o,l);break;default:throw Error(I(161))}}catch(c){Me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pw(e,t,s){$=e,Ig(e)}function Ig(e,t,s){for(var n=(e.mode&1)!==0;$!==null;){var i=$,a=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||yl;if(!l){var o=i.alternate,c=o!==null&&o.memoizedState!==null||et;o=yl;var d=et;if(yl=l,(et=c)&&!d)for($=i;$!==null;)l=$,c=l.child,l.tag===22&&l.memoizedState!==null?hp(i):c!==null?(c.return=l,$=c):hp(i);for(;a!==null;)$=a,Ig(a),a=a.sibling;$=i,yl=o,et=d}dp(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,$=a):dp(e)}}function dp(e){for(;$!==null;){var t=$;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||Ho(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!et)if(s===null)n.componentDidMount();else{var i=t.elementType===t.type?s.memoizedProps:Gt(t.type,s.memoizedProps);n.componentDidUpdate(i,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Qm(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Qm(t,l,s)}break;case 5:var o=t.stateNode;if(s===null&&t.flags&4){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ha(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}et||t.flags&512&&Kd(t)}catch(m){Me(t,t.return,m)}}if(t===e){$=null;break}if(s=t.sibling,s!==null){s.return=t.return,$=s;break}$=t.return}}function up(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var s=t.sibling;if(s!==null){s.return=t.return,$=s;break}$=t.return}}function hp(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Ho(4,t)}catch(c){Me(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Me(t,i,c)}}var a=t.return;try{Kd(t)}catch(c){Me(t,a,c)}break;case 5:var l=t.return;try{Kd(t)}catch(c){Me(t,l,c)}}}catch(c){Me(t,t.return,c)}if(t===e){$=null;break}var o=t.sibling;if(o!==null){o.return=t.return,$=o;break}$=t.return}}var fw=Math.ceil,vo=Bs.ReactCurrentDispatcher,bh=Bs.ReactCurrentOwner,zt=Bs.ReactCurrentBatchConfig,de=0,Ve=null,Ie=null,Ye=0,St=0,Ln=Or(0),Be=0,Na=null,cn=0,Wo=0,wh=0,ea=null,yt=null,jh=0,oi=1/0,Cs=null,bo=!1,Yd=null,Nr=null,vl=!1,xr=null,wo=0,ta=0,Xd=null,Ul=-1,ql=0;function ot(){return de&6?De():Ul!==-1?Ul:Ul=De()}function kr(e){return e.mode&1?de&2&&Ye!==0?Ye&-Ye:Jb.transition!==null?(ql===0&&(ql=wx()),ql):(e=pe,e!==0||(e=window.event,e=e===void 0?16:Ex(e.type)),e):1}function ss(e,t,s,n){if(50<ta)throw ta=0,Xd=null,Error(I(185));Oa(e,s,n),(!(de&2)||e!==Ve)&&(e===Ve&&(!(de&2)&&(Wo|=s),Be===4&&ir(e,Ye)),jt(e,n),s===1&&de===0&&!(t.mode&1)&&(oi=De()+500,zo&&Ir()))}function jt(e,t){var s=e.callbackNode;Jv(e,t);var n=ro(e,e===Ve?Ye:0);if(n===0)s!==null&&wm(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&wm(s),t===1)e.tag===0?Xb(mp.bind(null,e)):Kx(mp.bind(null,e)),Kb(function(){!(de&6)&&Ir()}),s=null;else{switch(jx(n)){case 1:s=Qu;break;case 4:s=vx;break;case 16:s=so;break;case 536870912:s=bx;break;default:s=so}s=Wg(s,Fg.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Fg(e,t){if(Ul=-1,ql=0,de&6)throw Error(I(327));var s=e.callbackNode;if(zn()&&e.callbackNode!==s)return null;var n=ro(e,e===Ve?Ye:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=jo(e,n);else{t=n;var i=de;de|=2;var a=qg();(Ve!==e||Ye!==t)&&(Cs=null,oi=De()+500,sn(e,t));do try{yw();break}catch(o){Ug(e,o)}while(!0);lh(),vo.current=a,de=i,Ie!==null?t=0:(Ve=null,Ye=0,t=Be)}if(t!==0){if(t===2&&(i=kd(e),i!==0&&(n=i,t=Jd(e,i))),t===1)throw s=Na,sn(e,0),ir(e,n),jt(e,De()),s;if(t===6)ir(e,n);else{if(i=e.current.alternate,!(n&30)&&!xw(i)&&(t=jo(e,n),t===2&&(a=kd(e),a!==0&&(n=a,t=Jd(e,a))),t===1))throw s=Na,sn(e,0),ir(e,n),jt(e,De()),s;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(I(345));case 2:qr(e,yt,Cs);break;case 3:if(ir(e,n),(n&130023424)===n&&(t=jh+500-De(),10<t)){if(ro(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ot(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Md(qr.bind(null,e,yt,Cs),t);break}qr(e,yt,Cs);break;case 4:if(ir(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-ts(n);a=1<<l,l=t[l],l>i&&(i=l),n&=~a}if(n=i,n=De()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fw(n/1960))-n,10<n){e.timeoutHandle=Md(qr.bind(null,e,yt,Cs),n);break}qr(e,yt,Cs);break;case 5:qr(e,yt,Cs);break;default:throw Error(I(329))}}}return jt(e,De()),e.callbackNode===s?Fg.bind(null,e):null}function Jd(e,t){var s=ea;return e.current.memoizedState.isDehydrated&&(sn(e,t).flags|=256),e=jo(e,t),e!==2&&(t=yt,yt=s,t!==null&&Zd(t)),e}function Zd(e){yt===null?yt=e:yt.push.apply(yt,e)}function xw(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var i=s[n],a=i.getSnapshot;i=i.value;try{if(!rs(a(),i))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ir(e,t){for(t&=~wh,t&=~Wo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-ts(t),n=1<<s;e[s]=-1,t&=~n}}function mp(e){if(de&6)throw Error(I(327));zn();var t=ro(e,0);if(!(t&1))return jt(e,De()),null;var s=jo(e,t);if(e.tag!==0&&s===2){var n=kd(e);n!==0&&(t=n,s=Jd(e,n))}if(s===1)throw s=Na,sn(e,0),ir(e,t),jt(e,De()),s;if(s===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qr(e,yt,Cs),jt(e,De()),null}function Nh(e,t){var s=de;de|=1;try{return e(t)}finally{de=s,de===0&&(oi=De()+500,zo&&Ir())}}function dn(e){xr!==null&&xr.tag===0&&!(de&6)&&zn();var t=de;de|=1;var s=zt.transition,n=pe;try{if(zt.transition=null,pe=1,e)return e()}finally{pe=n,zt.transition=s,de=t,!(de&6)&&Ir()}}function kh(){St=Ln.current,we(Ln)}function sn(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Vb(s)),Ie!==null)for(s=Ie.return;s!==null;){var n=s;switch(nh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&oo();break;case 3:ai(),we(bt),we(st),mh();break;case 5:hh(n);break;case 4:ai();break;case 13:we(Ce);break;case 19:we(Ce);break;case 10:oh(n.type._context);break;case 22:case 23:kh()}s=s.return}if(Ve=e,Ie=e=Sr(e.current,null),Ye=St=t,Be=0,Na=null,wh=Wo=cn=0,yt=ea=null,$r!==null){for(t=0;t<$r.length;t++)if(s=$r[t],n=s.interleaved,n!==null){s.interleaved=null;var i=n.next,a=s.pending;if(a!==null){var l=a.next;a.next=i,n.next=l}s.pending=n}$r=null}return e}function Ug(e,t){do{var s=Ie;try{if(lh(),Ol.current=yo,go){for(var n=_e.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}go=!1}if(on=0,He=qe=_e=null,Ji=!1,ba=0,bh.current=null,s===null||s.return===null){Be=1,Na=t,Ie=null;break}e:{var a=e,l=s.return,o=s,c=t;if(t=Ye,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=ep(l);if(f!==null){f.flags&=-257,tp(f,l,o,a,t),f.mode&1&&Zm(a,d,t),t=f,c=d;var g=t.updateQueue;if(g===null){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}else{if(!(t&1)){Zm(a,d,t),Sh();break e}c=Error(I(426))}}else if(ke&&o.mode&1){var w=ep(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),tp(w,l,o,a,t),ih(li(c,o));break e}}a=c=li(c,o),Be!==4&&(Be=2),ea===null?ea=[a]:ea.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=jg(a,c,t);Km(a,p);break e;case 1:o=c;var b=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Nr===null||!Nr.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var v=Ng(a,o,t);Km(a,v);break e}}a=a.return}while(a!==null)}Bg(s)}catch(S){t=S,Ie===s&&s!==null&&(Ie=s=s.return);continue}break}while(!0)}function qg(){var e=vo.current;return vo.current=yo,e===null?yo:e}function Sh(){(Be===0||Be===3||Be===2)&&(Be=4),Ve===null||!(cn&268435455)&&!(Wo&268435455)||ir(Ve,Ye)}function jo(e,t){var s=de;de|=2;var n=qg();(Ve!==e||Ye!==t)&&(Cs=null,sn(e,t));do try{gw();break}catch(i){Ug(e,i)}while(!0);if(lh(),de=s,vo.current=n,Ie!==null)throw Error(I(261));return Ve=null,Ye=0,Be}function gw(){for(;Ie!==null;)zg(Ie)}function yw(){for(;Ie!==null&&!$v();)zg(Ie)}function zg(e){var t=Hg(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?Bg(e):Ie=t,bh.current=null}function Bg(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=uw(s,t),s!==null){s.flags&=32767,Ie=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,Ie=null;return}}else if(s=dw(s,t,St),s!==null){Ie=s;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);Be===0&&(Be=5)}function qr(e,t,s){var n=pe,i=zt.transition;try{zt.transition=null,pe=1,vw(e,t,s,n)}finally{zt.transition=i,pe=n}return null}function vw(e,t,s,n){do zn();while(xr!==null);if(de&6)throw Error(I(327));s=e.finishedWork;var i=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(Zv(e,a),e===Ve&&(Ie=Ve=null,Ye=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||vl||(vl=!0,Wg(so,function(){return zn(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=zt.transition,zt.transition=null;var l=pe;pe=1;var o=de;de|=4,bh.current=null,mw(e,s),Og(s,e),Ub(Rd),no=!!Pd,Rd=Pd=null,e.current=s,pw(s),Hv(),de=o,pe=l,zt.transition=a}else e.current=s;if(vl&&(vl=!1,xr=e,wo=i),a=e.pendingLanes,a===0&&(Nr=null),Kv(s.stateNode),jt(e,De()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)i=t[s],n(i.value,{componentStack:i.stack,digest:i.digest});if(bo)throw bo=!1,e=Yd,Yd=null,e;return wo&1&&e.tag!==0&&zn(),a=e.pendingLanes,a&1?e===Xd?ta++:(ta=0,Xd=e):ta=0,Ir(),null}function zn(){if(xr!==null){var e=jx(wo),t=zt.transition,s=pe;try{if(zt.transition=null,pe=16>e?16:e,xr===null)var n=!1;else{if(e=xr,xr=null,wo=0,de&6)throw Error(I(331));var i=de;for(de|=4,$=e.current;$!==null;){var a=$,l=a.child;if($.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for($=d;$!==null;){var u=$;switch(u.tag){case 0:case 11:case 15:Zi(8,u,a)}var h=u.child;if(h!==null)h.return=u,$=h;else for(;$!==null;){u=$;var m=u.sibling,f=u.return;if(Ag(u),u===d){$=null;break}if(m!==null){m.return=f,$=m;break}$=f}}}var g=a.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}$=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,$=l;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Zi(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,$=p;break e}$=a.return}}var b=e.current;for($=b;$!==null;){l=$;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,$=y;else e:for(l=b;$!==null;){if(o=$,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ho(9,o)}}catch(S){Me(o,o.return,S)}if(o===l){$=null;break e}var v=o.sibling;if(v!==null){v.return=o.return,$=v;break e}$=o.return}}if(de=i,Ir(),xs&&typeof xs.onPostCommitFiberRoot=="function")try{xs.onPostCommitFiberRoot(Oo,e)}catch{}n=!0}return n}finally{pe=s,zt.transition=t}}return!1}function pp(e,t,s){t=li(s,t),t=jg(e,t,1),e=jr(e,t,1),t=ot(),e!==null&&(Oa(e,1,t),jt(e,t))}function Me(e,t,s){if(e.tag===3)pp(e,e,s);else for(;t!==null;){if(t.tag===3){pp(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Nr===null||!Nr.has(n))){e=li(s,e),e=Ng(t,e,1),t=jr(t,e,1),e=ot(),t!==null&&(Oa(t,1,e),jt(t,e));break}}t=t.return}}function bw(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&s,Ve===e&&(Ye&s)===s&&(Be===4||Be===3&&(Ye&130023424)===Ye&&500>De()-jh?sn(e,0):wh|=s),jt(e,t)}function $g(e,t){t===0&&(e.mode&1?(t=cl,cl<<=1,!(cl&130023424)&&(cl=4194304)):t=1);var s=ot();e=Us(e,t),e!==null&&(Oa(e,t,s),jt(e,s))}function ww(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),$g(e,s)}function jw(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(t),$g(e,s)}var Hg;Hg=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||bt.current)vt=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return vt=!1,cw(e,t,s);vt=!!(e.flags&131072)}else vt=!1,ke&&t.flags&1048576&&Qx(t,ho,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fl(e,t),e=t.pendingProps;var i=ri(t,st.current);qn(t,s),i=fh(null,t,n,e,i,s);var a=xh();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(n)?(a=!0,co(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dh(t),i.updater=$o,t.stateNode=i,i._reactInternals=t,Ud(t,n,e,s),t=Bd(null,t,n,!0,a,s)):(t.tag=0,ke&&a&&rh(t),at(null,t,i,s),t=t.child),t;case 16:n=t.elementType;e:{switch(Fl(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=kw(n),e=Gt(n,e),i){case 0:t=zd(null,t,n,e,s);break e;case 1:t=np(null,t,n,e,s);break e;case 11:t=sp(null,t,n,e,s);break e;case 14:t=rp(null,t,n,Gt(n.type,e),s);break e}throw Error(I(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Gt(n,i),zd(e,t,n,i,s);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Gt(n,i),np(e,t,n,i,s);case 3:e:{if(_g(t),e===null)throw Error(I(387));n=t.pendingProps,a=t.memoizedState,i=a.element,eg(e,t),fo(t,n,null,s);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=li(Error(I(423)),t),t=ip(e,t,n,s,i);break e}else if(n!==i){i=li(Error(I(424)),t),t=ip(e,t,n,s,i);break e}else for(_t=wr(t.stateNode.containerInfo.firstChild),Et=t,ke=!0,es=null,s=Jx(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ni(),n===i){t=qs(e,t,s);break e}at(e,t,n,s)}t=t.child}return t;case 5:return tg(t),e===null&&Od(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,Td(n,i)?l=null:a!==null&&Td(n,a)&&(t.flags|=32),Cg(e,t),at(e,t,l,s),t.child;case 6:return e===null&&Od(t),null;case 13:return Eg(e,t,s);case 4:return uh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ii(t,null,n,s):at(e,t,n,s),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Gt(n,i),sp(e,t,n,i,s);case 7:return at(e,t,t.pendingProps,s),t.child;case 8:return at(e,t,t.pendingProps.children,s),t.child;case 12:return at(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,ye(mo,n._currentValue),n._currentValue=l,a!==null)if(rs(a.value,l)){if(a.children===i.children&&!bt.current){t=qs(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){l=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Ds(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),Id(a.return,s,t),o.lanes|=s;break}c=c.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(I(341));l.lanes|=s,o=l.alternate,o!==null&&(o.lanes|=s),Id(l,s,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}at(e,t,i.children,s),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,qn(t,s),i=Bt(i),n=n(i),t.flags|=1,at(e,t,n,s),t.child;case 14:return n=t.type,i=Gt(n,t.pendingProps),i=Gt(n.type,i),rp(e,t,n,i,s);case 15:return kg(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Gt(n,i),Fl(e,t),t.tag=1,wt(n)?(e=!0,co(t)):e=!1,qn(t,s),wg(t,n,i),Ud(t,n,i,s),Bd(null,t,n,!0,e,s);case 19:return Pg(e,t,s);case 22:return Sg(e,t,s)}throw Error(I(156,t.tag))};function Wg(e,t){return yx(e,t)}function Nw(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,s,n){return new Nw(e,t,s,n)}function Ch(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kw(e){if(typeof e=="function")return Ch(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wu)return 11;if(e===Vu)return 14}return 2}function Sr(e,t){var s=e.alternate;return s===null?(s=qt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function zl(e,t,s,n,i,a){var l=2;if(n=e,typeof e=="function")Ch(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Sn:return rn(s.children,i,a,t);case Hu:l=8,i|=8;break;case cd:return e=qt(12,s,t,i|2),e.elementType=cd,e.lanes=a,e;case dd:return e=qt(13,s,t,i),e.elementType=dd,e.lanes=a,e;case ud:return e=qt(19,s,t,i),e.elementType=ud,e.lanes=a,e;case tx:return Vo(s,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zf:l=10;break e;case ex:l=9;break e;case Wu:l=11;break e;case Vu:l=14;break e;case tr:l=16,n=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=qt(l,s,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function rn(e,t,s,n){return e=qt(7,e,n,t),e.lanes=s,e}function Vo(e,t,s,n){return e=qt(22,e,n,t),e.elementType=tx,e.lanes=s,e.stateNode={isHidden:!1},e}function Bc(e,t,s){return e=qt(6,e,null,t),e.lanes=s,e}function $c(e,t,s){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sw(e,t,s,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nc(0),this.expirationTimes=Nc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nc(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _h(e,t,s,n,i,a,l,o,c){return e=new Sw(e,t,s,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=qt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},dh(a),e}function Cw(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function Vg(e){if(!e)return Ar;e=e._reactInternals;e:{if(fn(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var s=e.type;if(wt(s))return Vx(e,s,t)}return t}function Kg(e,t,s,n,i,a,l,o,c){return e=_h(s,n,!0,e,i,a,l,o,c),e.context=Vg(null),s=e.current,n=ot(),i=kr(s),a=Ds(n,i),a.callback=t??null,jr(s,a,i),e.current.lanes=i,Oa(e,i,n),jt(e,n),e}function Ko(e,t,s,n){var i=t.current,a=ot(),l=kr(i);return s=Vg(s),t.context===null?t.context=s:t.pendingContext=s,t=Ds(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=jr(i,t,l),e!==null&&(ss(e,i,l,a),Ll(e,i,l)),l}function No(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Eh(e,t){fp(e,t),(e=e.alternate)&&fp(e,t)}function _w(){return null}var Qg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ph(e){this._internalRoot=e}Qo.prototype.render=Ph.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Ko(e,t,null,null)};Qo.prototype.unmount=Ph.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dn(function(){Ko(null,e,null,null)}),t[Fs]=null}};function Qo(e){this._internalRoot=e}Qo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sx();e={blockedOn:null,target:e,priority:t};for(var s=0;s<nr.length&&t!==0&&t<nr[s].priority;s++);nr.splice(s,0,e),s===0&&_x(e)}};function Rh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Go(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xp(){}function Ew(e,t,s,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=No(l);a.call(d)}}var l=Kg(t,n,e,0,null,!1,!1,"",xp);return e._reactRootContainer=l,e[Fs]=l.current,fa(e.nodeType===8?e.parentNode:e),dn(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var d=No(c);o.call(d)}}var c=_h(e,0,!1,null,null,!1,!1,"",xp);return e._reactRootContainer=c,e[Fs]=c.current,fa(e.nodeType===8?e.parentNode:e),dn(function(){Ko(t,c,s,n)}),c}function Yo(e,t,s,n,i){var a=s._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var o=i;i=function(){var c=No(l);o.call(c)}}Ko(t,l,e,i)}else l=Ew(s,t,e,i,n);return No(l)}Nx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=$i(t.pendingLanes);s!==0&&(Gu(t,s|1),jt(t,De()),!(de&6)&&(oi=De()+500,Ir()))}break;case 13:dn(function(){var n=Us(e,1);if(n!==null){var i=ot();ss(n,e,1,i)}}),Eh(e,1)}};Yu=function(e){if(e.tag===13){var t=Us(e,134217728);if(t!==null){var s=ot();ss(t,e,134217728,s)}Eh(e,134217728)}};kx=function(e){if(e.tag===13){var t=kr(e),s=Us(e,t);if(s!==null){var n=ot();ss(s,e,t,n)}Eh(e,t)}};Sx=function(){return pe};Cx=function(e,t){var s=pe;try{return pe=e,t()}finally{pe=s}};wd=function(e,t,s){switch(t){case"input":if(pd(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var i=qo(n);if(!i)throw Error(I(90));rx(n),pd(n,i)}}}break;case"textarea":ix(e,s);break;case"select":t=s.value,t!=null&&On(e,!!s.multiple,t,!1)}};hx=Nh;mx=dn;var Pw={usingClientEntryPoint:!1,Events:[Fa,Pn,qo,dx,ux,Nh]},Ai={findFiberByHostInstance:Br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rw={bundleType:Ai.bundleType,version:Ai.version,rendererPackageName:Ai.rendererPackageName,rendererConfig:Ai.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xx(e),e===null?null:e.stateNode},findFiberByHostInstance:Ai.findFiberByHostInstance||_w,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bl.isDisabled&&bl.supportsFiber)try{Oo=bl.inject(Rw),xs=bl}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pw;Mt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rh(t))throw Error(I(200));return Cw(e,t,null,s)};Mt.createRoot=function(e,t){if(!Rh(e))throw Error(I(299));var s=!1,n="",i=Qg;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=_h(e,1,!1,null,null,s,!1,n,i),e[Fs]=t.current,fa(e.nodeType===8?e.parentNode:e),new Ph(t)};Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=xx(t),e=e===null?null:e.stateNode,e};Mt.flushSync=function(e){return dn(e)};Mt.hydrate=function(e,t,s){if(!Go(t))throw Error(I(200));return Yo(null,e,t,!0,s)};Mt.hydrateRoot=function(e,t,s){if(!Rh(e))throw Error(I(405));var n=s!=null&&s.hydratedSources||null,i=!1,a="",l=Qg;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),t=Kg(t,null,e,1,s??null,i,!1,a,l),e[Fs]=t.current,fa(e),n)for(e=0;e<n.length;e++)s=n[e],i=s._getVersion,i=i(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,i]:t.mutableSourceEagerHydrationData.push(s,i);return new Qo(t)};Mt.render=function(e,t,s){if(!Go(t))throw Error(I(200));return Yo(null,e,t,!1,s)};Mt.unmountComponentAtNode=function(e){if(!Go(e))throw Error(I(40));return e._reactRootContainer?(dn(function(){Yo(null,null,e,!1,function(){e._reactRootContainer=null,e[Fs]=null})}),!0):!1};Mt.unstable_batchedUpdates=Nh;Mt.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!Go(s))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Yo(e,t,s,!1,n)};Mt.version="18.3.1-next-f1338f8080-20240426";function Gg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gg)}catch(e){console.error(e)}}Gg(),Gf.exports=Mt;var Tw=Gf.exports,Yg,gp=Tw;Yg=gp.createRoot,gp.hydrateRoot;var xi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mw={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ar,Ou,_f,Aw=(_f=class{constructor(){Y(this,ar,Mw);Y(this,Ou,!1)}setTimeoutProvider(e){B(this,ar,e)}setTimeout(e,t){return N(this,ar).setTimeout(e,t)}clearTimeout(e){N(this,ar).clearTimeout(e)}setInterval(e,t){return N(this,ar).setInterval(e,t)}clearInterval(e){N(this,ar).clearInterval(e)}},ar=new WeakMap,Ou=new WeakMap,_f),Wr=new Aw;function Dw(e){setTimeout(e,0)}var un=typeof window>"u"||"Deno"in globalThis;function lt(){}function Lw(e,t){return typeof e=="function"?e(t):e}function eu(e){return typeof e=="number"&&e>=0&&e!==1/0}function Xg(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Cr(e,t){return typeof e=="function"?e(t):e}function Ot(e,t){return typeof e=="function"?e(t):e}function yp(e,t){const{type:s="all",exact:n,fetchStatus:i,predicate:a,queryKey:l,stale:o}=e;if(l){if(n){if(t.queryHash!==Th(l,t.options))return!1}else if(!ka(t.queryKey,l))return!1}if(s!=="all"){const c=t.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||a&&!a(t))}function vp(e,t){const{exact:s,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(s){if(hn(t.options.mutationKey)!==hn(a))return!1}else if(!ka(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function Th(e,t){return((t==null?void 0:t.queryKeyHashFn)||hn)(e)}function hn(e){return JSON.stringify(e,(t,s)=>tu(s)?Object.keys(s).sort().reduce((n,i)=>(n[i]=s[i],n),{}):s)}function ka(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>ka(e[s],t[s])):!1}var Ow=Object.prototype.hasOwnProperty;function Jg(e,t){if(e===t)return e;const s=bp(e)&&bp(t);if(!s&&!(tu(e)&&tu(t)))return t;const i=(s?e:Object.keys(e)).length,a=s?t:Object.keys(t),l=a.length,o=s?new Array(l):{};let c=0;for(let d=0;d<l;d++){const u=s?d:a[d],h=e[u],m=t[u];if(h===m){o[u]=h,(s?d<i:Ow.call(e,u))&&c++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){o[u]=m;continue}const f=Jg(h,m);o[u]=f,f===h&&c++}return i===l&&c===i?e:o}function ko(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function bp(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function tu(e){if(!wp(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!wp(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function wp(e){return Object.prototype.toString.call(e)==="[object Object]"}function Iw(e){return new Promise(t=>{Wr.setTimeout(t,e)})}function su(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?Jg(e,t):t}function Fw(e,t,s=0){const n=[...e,t];return s&&n.length>s?n.slice(1):n}function Uw(e,t,s=0){const n=[t,...e];return s&&n.length>s?n.slice(0,-1):n}var Mh=Symbol();function Zg(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Mh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function e0(e,t){return typeof e=="function"?e(...t):!!e}var Kr,lr,Hn,Ef,qw=(Ef=class extends xi{constructor(){super();Y(this,Kr);Y(this,lr);Y(this,Hn);B(this,Hn,t=>{if(!un&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){N(this,lr)||this.setEventListener(N(this,Hn))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,lr))==null||t.call(this),B(this,lr,void 0))}setEventListener(t){var s;B(this,Hn,t),(s=N(this,lr))==null||s.call(this),B(this,lr,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){N(this,Kr)!==t&&(B(this,Kr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof N(this,Kr)=="boolean"?N(this,Kr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Kr=new WeakMap,lr=new WeakMap,Hn=new WeakMap,Ef),Ah=new qw;function ru(){let e,t;const s=new Promise((i,a)=>{e=i,t=a});s.status="pending",s.catch(()=>{});function n(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},s.reject=i=>{n({status:"rejected",reason:i}),t(i)},s}var zw=Dw;function Bw(){let e=[],t=0,s=o=>{o()},n=o=>{o()},i=zw;const a=o=>{t?e.push(o):i(()=>{s(o)})},l=()=>{const o=e;e=[],o.length&&i(()=>{n(()=>{o.forEach(c=>{s(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||l()}return c},batchCalls:o=>(...c)=>{a(()=>{o(...c)})},schedule:a,setNotifyFunction:o=>{s=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var ze=Bw(),Wn,or,Vn,Pf,$w=(Pf=class extends xi{constructor(){super();Y(this,Wn,!0);Y(this,or);Y(this,Vn);B(this,Vn,t=>{if(!un&&window.addEventListener){const s=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){N(this,or)||this.setEventListener(N(this,Vn))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,or))==null||t.call(this),B(this,or,void 0))}setEventListener(t){var s;B(this,Vn,t),(s=N(this,or))==null||s.call(this),B(this,or,t(this.setOnline.bind(this)))}setOnline(t){N(this,Wn)!==t&&(B(this,Wn,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return N(this,Wn)}},Wn=new WeakMap,or=new WeakMap,Vn=new WeakMap,Pf),So=new $w;function Hw(e){return Math.min(1e3*2**e,3e4)}function t0(e){return(e??"online")==="online"?So.isOnline():!0}var nu=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function s0(e){let t=!1,s=0,n;const i=ru(),a=()=>i.status!=="pending",l=x=>{var w;if(!a()){const p=new nu(x);m(p),(w=e.onCancel)==null||w.call(e,p)}},o=()=>{t=!0},c=()=>{t=!1},d=()=>Ah.isFocused()&&(e.networkMode==="always"||So.isOnline())&&e.canRun(),u=()=>t0(e.networkMode)&&e.canRun(),h=x=>{a()||(n==null||n(),i.resolve(x))},m=x=>{a()||(n==null||n(),i.reject(x))},f=()=>new Promise(x=>{var w;n=p=>{(a()||d())&&x(p)},(w=e.onPause)==null||w.call(e)}).then(()=>{var x;n=void 0,a()||(x=e.onContinue)==null||x.call(e)}),g=()=>{if(a())return;let x;const w=s===0?e.initialPromise:void 0;try{x=w??e.fn()}catch(p){x=Promise.reject(p)}Promise.resolve(x).then(h).catch(p=>{var C;if(a())return;const b=e.retry??(un?0:3),y=e.retryDelay??Hw,v=typeof y=="function"?y(s,p):y,S=b===!0||typeof b=="number"&&s<b||typeof b=="function"&&b(s,p);if(t||!S){m(p);return}s++,(C=e.onFail)==null||C.call(e,s,p),Iw(v).then(()=>d()?void 0:f()).then(()=>{t?m(p):g()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?g():f().then(g),i)}}var Qr,Rf,r0=(Rf=class{constructor(){Y(this,Qr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),eu(this.gcTime)&&B(this,Qr,Wr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(un?1/0:5*60*1e3))}clearGcTimeout(){N(this,Qr)&&(Wr.clearTimeout(N(this,Qr)),B(this,Qr,void 0))}},Qr=new WeakMap,Rf),Gr,Kn,Lt,Yr,$e,Ra,Xr,Yt,Ss,Tf,Ww=(Tf=class extends r0{constructor(t){super();Y(this,Yt);Y(this,Gr);Y(this,Kn);Y(this,Lt);Y(this,Yr);Y(this,$e);Y(this,Ra);Y(this,Xr);B(this,Xr,!1),B(this,Ra,t.defaultOptions),this.setOptions(t.options),this.observers=[],B(this,Yr,t.client),B(this,Lt,N(this,Yr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,B(this,Gr,Np(this.options)),this.state=t.state??N(this,Gr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=N(this,$e))==null?void 0:t.promise}setOptions(t){if(this.options={...N(this,Ra),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Np(this.options);s.data!==void 0&&(this.setState(jp(s.data,s.dataUpdatedAt)),B(this,Gr,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,Lt).remove(this)}setData(t,s){const n=su(this.state.data,t,this.options);return re(this,Yt,Ss).call(this,{data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(t,s){re(this,Yt,Ss).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var n,i;const s=(n=N(this,$e))==null?void 0:n.promise;return(i=N(this,$e))==null||i.cancel(t),s?s.then(lt).catch(lt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,Gr))}isActive(){return this.observers.some(t=>Ot(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Cr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Xg(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=N(this,$e))==null||s.continue()}onOnline(){var s;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=N(this,$e))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),N(this,Lt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(N(this,$e)&&(N(this,Xr)?N(this,$e).cancel({revert:!0}):N(this,$e).cancelRetry()),this.scheduleGc()),N(this,Lt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||re(this,Yt,Ss).call(this,{type:"invalidate"})}async fetch(t,s){var c,d,u,h,m,f,g,x,w,p,b,y;if(this.state.fetchStatus!=="idle"&&((c=N(this,$e))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(N(this,$e))return N(this,$e).continueRetry(),N(this,$e).promise}if(t&&this.setOptions(t),!this.options.queryFn){const v=this.observers.find(S=>S.options.queryFn);v&&this.setOptions(v.options)}const n=new AbortController,i=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(B(this,Xr,!0),n.signal)})},a=()=>{const v=Zg(this.options,s),C=(()=>{const k={client:N(this,Yr),queryKey:this.queryKey,meta:this.meta};return i(k),k})();return B(this,Xr,!1),this.options.persister?this.options.persister(v,C,this):v(C)},o=(()=>{const v={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:N(this,Yr),state:this.state,fetchFn:a};return i(v),v})();(d=this.options.behavior)==null||d.onFetch(o,this),B(this,Kn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&re(this,Yt,Ss).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),B(this,$e,s0({initialPromise:s==null?void 0:s.initialPromise,fn:o.fetchFn,onCancel:v=>{v instanceof nu&&v.revert&&this.setState({...N(this,Kn),fetchStatus:"idle"}),n.abort()},onFail:(v,S)=>{re(this,Yt,Ss).call(this,{type:"failed",failureCount:v,error:S})},onPause:()=>{re(this,Yt,Ss).call(this,{type:"pause"})},onContinue:()=>{re(this,Yt,Ss).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const v=await N(this,$e).start();if(v===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(v),(f=(m=N(this,Lt).config).onSuccess)==null||f.call(m,v,this),(x=(g=N(this,Lt).config).onSettled)==null||x.call(g,v,this.state.error,this),v}catch(v){if(v instanceof nu){if(v.silent)return N(this,$e).promise;if(v.revert){if(this.state.data===void 0)throw v;return this.state.data}}throw re(this,Yt,Ss).call(this,{type:"error",error:v}),(p=(w=N(this,Lt).config).onError)==null||p.call(w,v,this),(y=(b=N(this,Lt).config).onSettled)==null||y.call(b,this.state.data,v,this),v}finally{this.scheduleGc()}}},Gr=new WeakMap,Kn=new WeakMap,Lt=new WeakMap,Yr=new WeakMap,$e=new WeakMap,Ra=new WeakMap,Xr=new WeakMap,Yt=new WeakSet,Ss=function(t){const s=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...n0(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,...jp(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return B(this,Kn,t.manual?i:void 0),i;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=s(this.state),ze.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),N(this,Lt).notify({query:this,type:"updated",action:t})})},Tf);function n0(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:t0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function jp(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Np(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,n=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var xt,le,Ta,nt,Jr,Qn,Es,cr,Ma,Gn,Yn,Zr,en,dr,Xn,ue,Wi,iu,au,lu,ou,cu,du,uu,i0,Mf,Vw=(Mf=class extends xi{constructor(t,s){super();Y(this,ue);Y(this,xt);Y(this,le);Y(this,Ta);Y(this,nt);Y(this,Jr);Y(this,Qn);Y(this,Es);Y(this,cr);Y(this,Ma);Y(this,Gn);Y(this,Yn);Y(this,Zr);Y(this,en);Y(this,dr);Y(this,Xn,new Set);this.options=s,B(this,xt,t),B(this,cr,null),B(this,Es,ru()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,le).addObserver(this),kp(N(this,le),this.options)?re(this,ue,Wi).call(this):this.updateResult(),re(this,ue,ou).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hu(N(this,le),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hu(N(this,le),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,re(this,ue,cu).call(this),re(this,ue,du).call(this),N(this,le).removeObserver(this)}setOptions(t){const s=this.options,n=N(this,le);if(this.options=N(this,xt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ot(this.options.enabled,N(this,le))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");re(this,ue,uu).call(this),N(this,le).setOptions(this.options),s._defaulted&&!ko(this.options,s)&&N(this,xt).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,le),observer:this});const i=this.hasListeners();i&&Sp(N(this,le),n,this.options,s)&&re(this,ue,Wi).call(this),this.updateResult(),i&&(N(this,le)!==n||Ot(this.options.enabled,N(this,le))!==Ot(s.enabled,N(this,le))||Cr(this.options.staleTime,N(this,le))!==Cr(s.staleTime,N(this,le)))&&re(this,ue,iu).call(this);const a=re(this,ue,au).call(this);i&&(N(this,le)!==n||Ot(this.options.enabled,N(this,le))!==Ot(s.enabled,N(this,le))||a!==N(this,dr))&&re(this,ue,lu).call(this,a)}getOptimisticResult(t){const s=N(this,xt).getQueryCache().build(N(this,xt),t),n=this.createResult(s,t);return Qw(this,n)&&(B(this,nt,n),B(this,Qn,this.options),B(this,Jr,N(this,le).state)),n}getCurrentResult(){return N(this,nt)}trackResult(t,s){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),s==null||s(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&N(this,Es).status==="pending"&&N(this,Es).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(t){N(this,Xn).add(t)}getCurrentQuery(){return N(this,le)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=N(this,xt).defaultQueryOptions(t),n=N(this,xt).getQueryCache().build(N(this,xt),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(t){return re(this,ue,Wi).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,nt)))}createResult(t,s){var U;const n=N(this,le),i=this.options,a=N(this,nt),l=N(this,Jr),o=N(this,Qn),d=t!==n?t.state:N(this,Ta),{state:u}=t;let h={...u},m=!1,f;if(s._optimisticResults){const E=this.hasListeners(),D=!E&&kp(t,s),_=E&&Sp(t,n,s,i);(D||_)&&(h={...h,...n0(u.data,t.options)}),s._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:x,status:w}=h;f=h.data;let p=!1;if(s.placeholderData!==void 0&&f===void 0&&w==="pending"){let E;a!=null&&a.isPlaceholderData&&s.placeholderData===(o==null?void 0:o.placeholderData)?(E=a.data,p=!0):E=typeof s.placeholderData=="function"?s.placeholderData((U=N(this,Yn))==null?void 0:U.state.data,N(this,Yn)):s.placeholderData,E!==void 0&&(w="success",f=su(a==null?void 0:a.data,E,s),m=!0)}if(s.select&&f!==void 0&&!p)if(a&&f===(l==null?void 0:l.data)&&s.select===N(this,Ma))f=N(this,Gn);else try{B(this,Ma,s.select),f=s.select(f),f=su(a==null?void 0:a.data,f,s),B(this,Gn,f),B(this,cr,null)}catch(E){B(this,cr,E)}N(this,cr)&&(g=N(this,cr),f=N(this,Gn),x=Date.now(),w="error");const b=h.fetchStatus==="fetching",y=w==="pending",v=w==="error",S=y&&b,C=f!==void 0,R={status:w,fetchStatus:h.fetchStatus,isPending:y,isSuccess:w==="success",isError:v,isInitialLoading:S,isLoading:S,data:f,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:x,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:b,isRefetching:b&&!y,isLoadingError:v&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:v&&C,isStale:Dh(t,s),refetch:this.refetch,promise:N(this,Es),isEnabled:Ot(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=V=>{R.status==="error"?V.reject(R.error):R.data!==void 0&&V.resolve(R.data)},D=()=>{const V=B(this,Es,R.promise=ru());E(V)},_=N(this,Es);switch(_.status){case"pending":t.queryHash===n.queryHash&&E(_);break;case"fulfilled":(R.status==="error"||R.data!==_.value)&&D();break;case"rejected":(R.status!=="error"||R.error!==_.reason)&&D();break}}return R}updateResult(){const t=N(this,nt),s=this.createResult(N(this,le),this.options);if(B(this,Jr,N(this,le).state),B(this,Qn,this.options),N(this,Jr).data!==void 0&&B(this,Yn,N(this,le)),ko(s,t))return;B(this,nt,s);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!N(this,Xn).size)return!0;const l=new Set(a??N(this,Xn));return this.options.throwOnError&&l.add("error"),Object.keys(N(this,nt)).some(o=>{const c=o;return N(this,nt)[c]!==t[c]&&l.has(c)})};re(this,ue,i0).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&re(this,ue,ou).call(this)}},xt=new WeakMap,le=new WeakMap,Ta=new WeakMap,nt=new WeakMap,Jr=new WeakMap,Qn=new WeakMap,Es=new WeakMap,cr=new WeakMap,Ma=new WeakMap,Gn=new WeakMap,Yn=new WeakMap,Zr=new WeakMap,en=new WeakMap,dr=new WeakMap,Xn=new WeakMap,ue=new WeakSet,Wi=function(t){re(this,ue,uu).call(this);let s=N(this,le).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(lt)),s},iu=function(){re(this,ue,cu).call(this);const t=Cr(this.options.staleTime,N(this,le));if(un||N(this,nt).isStale||!eu(t))return;const n=Xg(N(this,nt).dataUpdatedAt,t)+1;B(this,Zr,Wr.setTimeout(()=>{N(this,nt).isStale||this.updateResult()},n))},au=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,le)):this.options.refetchInterval)??!1},lu=function(t){re(this,ue,du).call(this),B(this,dr,t),!(un||Ot(this.options.enabled,N(this,le))===!1||!eu(N(this,dr))||N(this,dr)===0)&&B(this,en,Wr.setInterval(()=>{(this.options.refetchIntervalInBackground||Ah.isFocused())&&re(this,ue,Wi).call(this)},N(this,dr)))},ou=function(){re(this,ue,iu).call(this),re(this,ue,lu).call(this,re(this,ue,au).call(this))},cu=function(){N(this,Zr)&&(Wr.clearTimeout(N(this,Zr)),B(this,Zr,void 0))},du=function(){N(this,en)&&(Wr.clearInterval(N(this,en)),B(this,en,void 0))},uu=function(){const t=N(this,xt).getQueryCache().build(N(this,xt),this.options);if(t===N(this,le))return;const s=N(this,le);B(this,le,t),B(this,Ta,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},i0=function(t){ze.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(N(this,nt))}),N(this,xt).getQueryCache().notify({query:N(this,le),type:"observerResultsUpdated"})})},Mf);function Kw(e,t){return Ot(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function kp(e,t){return Kw(e,t)||e.state.data!==void 0&&hu(e,t,t.refetchOnMount)}function hu(e,t,s){if(Ot(t.enabled,e)!==!1&&Cr(t.staleTime,e)!=="static"){const n=typeof s=="function"?s(e):s;return n==="always"||n!==!1&&Dh(e,t)}return!1}function Sp(e,t,s,n){return(e!==t||Ot(n.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Dh(e,s)}function Dh(e,t){return Ot(t.enabled,e)!==!1&&e.isStaleByTime(Cr(t.staleTime,e))}function Qw(e,t){return!ko(e.getCurrentResult(),t)}function Cp(e){return{onFetch:(t,s)=>{var u,h,m,f,g;const n=t.options,i=(m=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,a=((f=t.state.data)==null?void 0:f.pages)||[],l=((g=t.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const w=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},p=Zg(t.options,t.fetchOptions),b=async(y,v,S)=>{if(x)return Promise.reject();if(v==null&&y.pages.length)return Promise.resolve(y);const k=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:v,direction:S?"backward":"forward",meta:t.options.meta};return w(D),D})(),R=await p(k),{maxPages:U}=t.options,E=S?Uw:Fw;return{pages:E(y.pages,R,U),pageParams:E(y.pageParams,v,U)}};if(i&&a.length){const y=i==="backward",v=y?Gw:_p,S={pages:a,pageParams:l},C=v(n,S);o=await b(S,C,y)}else{const y=e??a.length;do{const v=c===0?l[0]??n.initialPageParam:_p(n,o);if(c>0&&v==null)break;o=await b(o,v),c++}while(c<y)}return o};t.options.persister?t.fetchFn=()=>{var x,w;return(w=(x=t.options).persister)==null?void 0:w.call(x,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=d}}}function _p(e,{pages:t,pageParams:s}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,s[n],s):void 0}function Gw(e,{pages:t,pageParams:s}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,s[0],s):void 0}var Aa,us,it,tn,hs,Zs,Af,Yw=(Af=class extends r0{constructor(t){super();Y(this,hs);Y(this,Aa);Y(this,us);Y(this,it);Y(this,tn);B(this,Aa,t.client),this.mutationId=t.mutationId,B(this,it,t.mutationCache),B(this,us,[]),this.state=t.state||a0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){N(this,us).includes(t)||(N(this,us).push(t),this.clearGcTimeout(),N(this,it).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){B(this,us,N(this,us).filter(s=>s!==t)),this.scheduleGc(),N(this,it).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){N(this,us).length||(this.state.status==="pending"?this.scheduleGc():N(this,it).remove(this))}continue(){var t;return((t=N(this,tn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,o,c,d,u,h,m,f,g,x,w,p,b,y,v,S,C,k,R,U;const s=()=>{re(this,hs,Zs).call(this,{type:"continue"})},n={client:N(this,Aa),meta:this.options.meta,mutationKey:this.options.mutationKey};B(this,tn,s0({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(E,D)=>{re(this,hs,Zs).call(this,{type:"failed",failureCount:E,error:D})},onPause:()=>{re(this,hs,Zs).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,it).canRun(this)}));const i=this.state.status==="pending",a=!N(this,tn).canStart();try{if(i)s();else{re(this,hs,Zs).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(l=N(this,it).config).onMutate)==null?void 0:o.call(l,t,this,n));const D=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,n));D!==this.state.context&&re(this,hs,Zs).call(this,{type:"pending",context:D,variables:t,isPaused:a})}const E=await N(this,tn).start();return await((h=(u=N(this,it).config).onSuccess)==null?void 0:h.call(u,E,t,this.state.context,this,n)),await((f=(m=this.options).onSuccess)==null?void 0:f.call(m,E,t,this.state.context,n)),await((x=(g=N(this,it).config).onSettled)==null?void 0:x.call(g,E,null,this.state.variables,this.state.context,this,n)),await((p=(w=this.options).onSettled)==null?void 0:p.call(w,E,null,t,this.state.context,n)),re(this,hs,Zs).call(this,{type:"success",data:E}),E}catch(E){try{throw await((y=(b=N(this,it).config).onError)==null?void 0:y.call(b,E,t,this.state.context,this,n)),await((S=(v=this.options).onError)==null?void 0:S.call(v,E,t,this.state.context,n)),await((k=(C=N(this,it).config).onSettled)==null?void 0:k.call(C,void 0,E,this.state.variables,this.state.context,this,n)),await((U=(R=this.options).onSettled)==null?void 0:U.call(R,void 0,E,t,this.state.context,n)),E}finally{re(this,hs,Zs).call(this,{type:"error",error:E})}}finally{N(this,it).runNext(this)}}},Aa=new WeakMap,us=new WeakMap,it=new WeakMap,tn=new WeakMap,hs=new WeakSet,Zs=function(t){const s=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),ze.batch(()=>{N(this,us).forEach(n=>{n.onMutationUpdate(t)}),N(this,it).notify({mutation:this,type:"updated",action:t})})},Af);function a0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ps,Xt,Da,Df,Xw=(Df=class extends xi{constructor(t={}){super();Y(this,Ps);Y(this,Xt);Y(this,Da);this.config=t,B(this,Ps,new Set),B(this,Xt,new Map),B(this,Da,0)}build(t,s,n){const i=new Yw({client:t,mutationCache:this,mutationId:++rl(this,Da)._,options:t.defaultMutationOptions(s),state:n});return this.add(i),i}add(t){N(this,Ps).add(t);const s=wl(t);if(typeof s=="string"){const n=N(this,Xt).get(s);n?n.push(t):N(this,Xt).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(N(this,Ps).delete(t)){const s=wl(t);if(typeof s=="string"){const n=N(this,Xt).get(s);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&N(this,Xt).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=wl(t);if(typeof s=="string"){const n=N(this,Xt).get(s),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const s=wl(t);if(typeof s=="string"){const i=(n=N(this,Xt).get(s))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ze.batch(()=>{N(this,Ps).forEach(t=>{this.notify({type:"removed",mutation:t})}),N(this,Ps).clear(),N(this,Xt).clear()})}getAll(){return Array.from(N(this,Ps))}find(t){const s={exact:!0,...t};return this.getAll().find(n=>vp(s,n))}findAll(t={}){return this.getAll().filter(s=>vp(t,s))}notify(t){ze.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return ze.batch(()=>Promise.all(t.map(s=>s.continue().catch(lt))))}},Ps=new WeakMap,Xt=new WeakMap,Da=new WeakMap,Df);function wl(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Rs,ur,gt,Ts,Os,Bl,mu,Lf,Jw=(Lf=class extends xi{constructor(s,n){super();Y(this,Os);Y(this,Rs);Y(this,ur);Y(this,gt);Y(this,Ts);B(this,Rs,s),this.setOptions(n),this.bindMethods(),re(this,Os,Bl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var i;const n=this.options;this.options=N(this,Rs).defaultMutationOptions(s),ko(this.options,n)||N(this,Rs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,gt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&hn(n.mutationKey)!==hn(this.options.mutationKey)?this.reset():((i=N(this,gt))==null?void 0:i.state.status)==="pending"&&N(this,gt).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=N(this,gt))==null||s.removeObserver(this)}onMutationUpdate(s){re(this,Os,Bl).call(this),re(this,Os,mu).call(this,s)}getCurrentResult(){return N(this,ur)}reset(){var s;(s=N(this,gt))==null||s.removeObserver(this),B(this,gt,void 0),re(this,Os,Bl).call(this),re(this,Os,mu).call(this)}mutate(s,n){var i;return B(this,Ts,n),(i=N(this,gt))==null||i.removeObserver(this),B(this,gt,N(this,Rs).getMutationCache().build(N(this,Rs),this.options)),N(this,gt).addObserver(this),N(this,gt).execute(s)}},Rs=new WeakMap,ur=new WeakMap,gt=new WeakMap,Ts=new WeakMap,Os=new WeakSet,Bl=function(){var n;const s=((n=N(this,gt))==null?void 0:n.state)??a0();B(this,ur,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},mu=function(s){ze.batch(()=>{var n,i,a,l,o,c,d,u;if(N(this,Ts)&&this.hasListeners()){const h=N(this,ur).variables,m=N(this,ur).context,f={client:N(this,Rs),meta:this.options.meta,mutationKey:this.options.mutationKey};(s==null?void 0:s.type)==="success"?((i=(n=N(this,Ts)).onSuccess)==null||i.call(n,s.data,h,m,f),(l=(a=N(this,Ts)).onSettled)==null||l.call(a,s.data,null,h,m,f)):(s==null?void 0:s.type)==="error"&&((c=(o=N(this,Ts)).onError)==null||c.call(o,s.error,h,m,f),(u=(d=N(this,Ts)).onSettled)==null||u.call(d,void 0,s.error,h,m,f))}this.listeners.forEach(h=>{h(N(this,ur))})})},Lf),ms,Of,Zw=(Of=class extends xi{constructor(t={}){super();Y(this,ms);this.config=t,B(this,ms,new Map)}build(t,s,n){const i=s.queryKey,a=s.queryHash??Th(i,s);let l=this.get(a);return l||(l=new Ww({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(s),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){N(this,ms).has(t.queryHash)||(N(this,ms).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=N(this,ms).get(t.queryHash);s&&(t.destroy(),s===t&&N(this,ms).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ze.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return N(this,ms).get(t)}getAll(){return[...N(this,ms).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(n=>yp(s,n))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(n=>yp(t,n)):s}notify(t){ze.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){ze.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ze.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ms=new WeakMap,Of),Te,hr,mr,Jn,Zn,pr,ei,ti,If,ej=(If=class{constructor(e={}){Y(this,Te);Y(this,hr);Y(this,mr);Y(this,Jn);Y(this,Zn);Y(this,pr);Y(this,ei);Y(this,ti);B(this,Te,e.queryCache||new Zw),B(this,hr,e.mutationCache||new Xw),B(this,mr,e.defaultOptions||{}),B(this,Jn,new Map),B(this,Zn,new Map),B(this,pr,0)}mount(){rl(this,pr)._++,N(this,pr)===1&&(B(this,ei,Ah.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,Te).onFocus())})),B(this,ti,So.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,Te).onOnline())})))}unmount(){var e,t;rl(this,pr)._--,N(this,pr)===0&&((e=N(this,ei))==null||e.call(this),B(this,ei,void 0),(t=N(this,ti))==null||t.call(this),B(this,ti,void 0))}isFetching(e){return N(this,Te).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return N(this,hr).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=N(this,Te).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=N(this,Te).build(this,t),n=s.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Cr(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return N(this,Te).findAll(e).map(({queryKey:t,state:s})=>{const n=s.data;return[t,n]})}setQueryData(e,t,s){const n=this.defaultQueryOptions({queryKey:e}),i=N(this,Te).get(n.queryHash),a=i==null?void 0:i.state.data,l=Lw(t,a);if(l!==void 0)return N(this,Te).build(this,n).setData(l,{...s,manual:!0})}setQueriesData(e,t,s){return ze.batch(()=>N(this,Te).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=N(this,Te).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=N(this,Te);ze.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=N(this,Te);return ze.batch(()=>(s.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},n=ze.batch(()=>N(this,Te).findAll(e).map(i=>i.cancel(s)));return Promise.all(n).then(lt).catch(lt)}invalidateQueries(e,t={}){return ze.batch(()=>(N(this,Te).findAll(e).forEach(s=>{s.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},n=ze.batch(()=>N(this,Te).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,s);return s.throwOnError||(a=a.catch(lt)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(lt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=N(this,Te).build(this,t);return s.isStaleByTime(Cr(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(lt).catch(lt)}fetchInfiniteQuery(e){return e.behavior=Cp(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(lt).catch(lt)}ensureInfiniteQueryData(e){return e.behavior=Cp(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return So.isOnline()?N(this,hr).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,Te)}getMutationCache(){return N(this,hr)}getDefaultOptions(){return N(this,mr)}setDefaultOptions(e){B(this,mr,e)}setQueryDefaults(e,t){N(this,Jn).set(hn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...N(this,Jn).values()],s={};return t.forEach(n=>{ka(e,n.queryKey)&&Object.assign(s,n.defaultOptions)}),s}setMutationDefaults(e,t){N(this,Zn).set(hn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...N(this,Zn).values()],s={};return t.forEach(n=>{ka(e,n.mutationKey)&&Object.assign(s,n.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...N(this,mr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Th(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Mh&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...N(this,mr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){N(this,Te).clear(),N(this,hr).clear()}},Te=new WeakMap,hr=new WeakMap,mr=new WeakMap,Jn=new WeakMap,Zn=new WeakMap,pr=new WeakMap,ei=new WeakMap,ti=new WeakMap,If),l0=j.createContext(void 0),X=e=>{const t=j.useContext(l0);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},tj=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(l0.Provider,{value:e,children:t})),o0=j.createContext(!1),sj=()=>j.useContext(o0);o0.Provider;function rj(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var nj=j.createContext(rj()),ij=()=>j.useContext(nj),aj=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},lj=e=>{j.useEffect(()=>{e.clearReset()},[e])},oj=({result:e,errorResetBoundary:t,throwOnError:s,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||e0(s,[e.error,n])),cj=e=>{if(e.suspense){const s=i=>i==="static"?i:Math.max(i??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...i)=>s(n(...i)):s(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},dj=(e,t)=>e.isLoading&&e.isFetching&&!t,uj=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Ep=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function hj(e,t,s){var h,m,f,g,x;const n=sj(),i=ij(),a=X(),l=a.defaultQueryOptions(e);(m=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,l),l._optimisticResults=n?"isRestoring":"optimistic",cj(l),aj(l,i),lj(i);const o=!a.getQueryCache().get(l.queryHash),[c]=j.useState(()=>new t(a,l)),d=c.getOptimisticResult(l),u=!n&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(w=>{const p=u?c.subscribe(ze.batchCalls(w)):lt;return c.updateResult(),p},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(l)},[l,c]),uj(l,d))throw Ep(l,c,i);if(oj({result:d,errorResetBoundary:i,throwOnError:l.throwOnError,query:a.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw d.error;if((g=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||g.call(f,l,d),l.experimental_prefetchInRender&&!un&&dj(d,n)){const w=o?Ep(l,c,i):(x=a.getQueryCache().get(l.queryHash))==null?void 0:x.promise;w==null||w.catch(lt).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?d:c.trackResult(d)}function J(e,t){return hj(e,Vw)}function ee(e,t){const s=X(),[n]=j.useState(()=>new Jw(s,e));j.useEffect(()=>{n.setOptions(e)},[n,e]);const i=j.useSyncExternalStore(j.useCallback(l=>n.subscribe(ze.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=j.useCallback((l,o)=>{n.mutate(l,o).catch(lt)},[n]);if(i.error&&e0(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sa(){return Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Sa.apply(this,arguments)}var gr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gr||(gr={}));const Pp="popstate";function mj(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:l,hash:o}=n.location;return pu("",{pathname:a,search:l,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(n,i){return typeof i=="string"?i:Co(i)}return fj(t,s,null,e)}function Ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Lh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pj(){return Math.random().toString(36).substr(2,8)}function Rp(e,t){return{usr:e.state,key:e.key,idx:t}}function pu(e,t,s,n){return s===void 0&&(s=null),Sa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gi(t):t,{state:s,key:t&&t.key||n||pj()})}function Co(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gi(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function fj(e,t,s,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,o=gr.Pop,c=null,d=u();d==null&&(d=0,l.replaceState(Sa({},l.state,{idx:d}),""));function u(){return(l.state||{idx:null}).idx}function h(){o=gr.Pop;let w=u(),p=w==null?null:w-d;d=w,c&&c({action:o,location:x.location,delta:p})}function m(w,p){o=gr.Push;let b=pu(x.location,w,p);d=u()+1;let y=Rp(b,d),v=x.createHref(b);try{l.pushState(y,"",v)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(v)}a&&c&&c({action:o,location:x.location,delta:1})}function f(w,p){o=gr.Replace;let b=pu(x.location,w,p);d=u();let y=Rp(b,d),v=x.createHref(b);l.replaceState(y,"",v),a&&c&&c({action:o,location:x.location,delta:0})}function g(w){let p=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof w=="string"?w:Co(w);return b=b.replace(/ $/,"%20"),Ee(p,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,p)}let x={get action(){return o},get location(){return e(i,l)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Pp,h),c=w,()=>{i.removeEventListener(Pp,h),c=null}},createHref(w){return t(i,w)},createURL:g,encodeLocation(w){let p=g(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:f,go(w){return l.go(w)}};return x}var Tp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tp||(Tp={}));function xj(e,t,s){return s===void 0&&(s="/"),gj(e,t,s)}function gj(e,t,s,n){let i=typeof t=="string"?gi(t):t,a=ci(i.pathname||"/",s);if(a==null)return null;let l=c0(e);yj(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=Pj(a);o=_j(l[c],d)}return o}function c0(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let i=(a,l,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};c.relativePath.startsWith("/")&&(Ee(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=_r([n,c.relativePath]),u=s.concat(c);a.children&&a.children.length>0&&(Ee(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),c0(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:Sj(d,a.index),routesMeta:u})};return e.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,l);else for(let c of d0(a.path))i(a,l,c)}),t}function d0(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=d0(n.join("/")),o=[];return o.push(...l.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function yj(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:Cj(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const vj=/^:[\w-]+$/,bj=3,wj=2,jj=1,Nj=10,kj=-2,Mp=e=>e==="*";function Sj(e,t){let s=e.split("/"),n=s.length;return s.some(Mp)&&(n+=kj),t&&(n+=wj),s.filter(i=>!Mp(i)).reduce((i,a)=>i+(vj.test(a)?bj:a===""?jj:Nj),n)}function Cj(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function _j(e,t,s){let{routesMeta:n}=e,i={},a="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",h=fu({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h)return null;Object.assign(i,h.params),l.push({params:i,pathname:_r([a,h.pathname]),pathnameBase:Dj(_r([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=_r([a,h.pathnameBase]))}return l}function fu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=Ej(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:m,isOptional:f}=u;if(m==="*"){let x=o[h]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const g=o[h];return f&&!g?d[m]=void 0:d[m]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:e}}function Ej(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Lh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Pj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Lh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ci(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}const Rj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tj=e=>Rj.test(e);function Mj(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:i=""}=typeof e=="string"?gi(e):e,a;if(s)if(Tj(s))a=s;else{if(s.includes("//")){let l=s;s=s.replace(/\/\/+/g,"/"),Lh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+s))}s.startsWith("/")?a=Ap(s.substring(1),"/"):a=Ap(s,t)}else a=t;return{pathname:a,search:Lj(n),hash:Oj(i)}}function Ap(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function Hc(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Aj(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Oh(e,t){let s=Aj(e);return t?s.map((n,i)=>i===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Ih(e,t,s,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=gi(e):(i=Sa({},e),Ee(!i.pathname||!i.pathname.includes("?"),Hc("?","pathname","search",i)),Ee(!i.pathname||!i.pathname.includes("#"),Hc("#","pathname","hash",i)),Ee(!i.search||!i.search.includes("#"),Hc("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,o;if(l==null)o=s;else{let h=t.length-1;if(!n&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}o=h>=0?t[h]:"/"}let c=Mj(i,o),d=l&&l!=="/"&&l.endsWith("/"),u=(a||l===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const _r=e=>e.join("/").replace(/\/\/+/g,"/"),Dj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Lj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Oj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ij(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const u0=["post","put","patch","delete"];new Set(u0);const Fj=["get",...u0];new Set(Fj);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ca.apply(this,arguments)}const Xo=j.createContext(null),h0=j.createContext(null),$s=j.createContext(null),Jo=j.createContext(null),ws=j.createContext({outlet:null,matches:[],isDataRoute:!1}),m0=j.createContext(null);function Uj(e,t){let{relative:s}=t===void 0?{}:t;yi()||Ee(!1);let{basename:n,navigator:i}=j.useContext($s),{hash:a,pathname:l,search:o}=ec(e,{relative:s}),c=l;return n!=="/"&&(c=l==="/"?n:_r([n,l])),i.createHref({pathname:c,search:o,hash:a})}function yi(){return j.useContext(Jo)!=null}function xn(){return yi()||Ee(!1),j.useContext(Jo).location}function p0(e){j.useContext($s).static||j.useLayoutEffect(e)}function Hs(){let{isDataRoute:e}=j.useContext(ws);return e?eN():qj()}function qj(){yi()||Ee(!1);let e=j.useContext(Xo),{basename:t,future:s,navigator:n}=j.useContext($s),{matches:i}=j.useContext(ws),{pathname:a}=xn(),l=JSON.stringify(Oh(i,s.v7_relativeSplatPath)),o=j.useRef(!1);return p0(()=>{o.current=!0}),j.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let h=Ih(d,JSON.parse(l),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:_r([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,l,a,e])}const zj=j.createContext(null);function Bj(e){let t=j.useContext(ws).outlet;return t&&j.createElement(zj.Provider,{value:e},t)}function Zo(){let{matches:e}=j.useContext(ws),t=e[e.length-1];return t?t.params:{}}function ec(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=j.useContext($s),{matches:i}=j.useContext(ws),{pathname:a}=xn(),l=JSON.stringify(Oh(i,n.v7_relativeSplatPath));return j.useMemo(()=>Ih(e,JSON.parse(l),a,s==="path"),[e,l,a,s])}function $j(e,t){return Hj(e,t)}function Hj(e,t,s,n){yi()||Ee(!1);let{navigator:i}=j.useContext($s),{matches:a}=j.useContext(ws),l=a[a.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=xn(),u;if(t){var h;let w=typeof t=="string"?gi(t):t;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||Ee(!1),u=w}else u=d;let m=u.pathname||"/",f=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=xj(e,{pathname:f}),x=Gj(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:_r([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:_r([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,s,n);return t&&x?j.createElement(Jo.Provider,{value:{location:Ca({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:gr.Pop}},x):x}function Wj(){let e=Zj(),t=Ij(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),s?j.createElement("pre",{style:i},s):null,null)}const Vj=j.createElement(Wj,null);class Kj extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?j.createElement(ws.Provider,{value:this.props.routeContext},j.createElement(m0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qj(e){let{routeContext:t,match:s,children:n}=e,i=j.useContext(Xo);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),j.createElement(ws.Provider,{value:t},n)}function Gj(e,t,s,n){var i;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var a;if(!s)return null;if(s.errors)e=s.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let l=e,o=(i=s)==null?void 0:i.errors;if(o!=null){let u=l.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||Ee(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,d=-1;if(s&&n&&n.v7_partialHydration)for(let u=0;u<l.length;u++){let h=l[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:f}=s,g=h.route.loader&&m[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((u,h,m)=>{let f,g=!1,x=null,w=null;s&&(f=o&&h.route.id?o[h.route.id]:void 0,x=h.route.errorElement||Vj,c&&(d<0&&m===0?(tN("route-fallback"),g=!0,w=null):d===m&&(g=!0,w=h.route.hydrateFallbackElement||null)));let p=t.concat(l.slice(0,m+1)),b=()=>{let y;return f?y=x:g?y=w:h.route.Component?y=j.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=u,j.createElement(Qj,{match:h,routeContext:{outlet:u,matches:p,isDataRoute:s!=null},children:y})};return s&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?j.createElement(Kj,{location:s.location,revalidation:s.revalidation,component:x,error:f,children:b(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):b()},null)}var f0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(f0||{}),x0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(x0||{});function Yj(e){let t=j.useContext(Xo);return t||Ee(!1),t}function Xj(e){let t=j.useContext(h0);return t||Ee(!1),t}function Jj(e){let t=j.useContext(ws);return t||Ee(!1),t}function g0(e){let t=Jj(),s=t.matches[t.matches.length-1];return s.route.id||Ee(!1),s.route.id}function Zj(){var e;let t=j.useContext(m0),s=Xj(),n=g0();return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function eN(){let{router:e}=Yj(f0.UseNavigateStable),t=g0(x0.UseNavigateStable),s=j.useRef(!1);return p0(()=>{s.current=!0}),j.useCallback(function(i,a){a===void 0&&(a={}),s.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ca({fromRouteId:t},a)))},[e,t])}const Dp={};function tN(e,t,s){Dp[e]||(Dp[e]=!0)}function sN(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function sa(e){let{to:t,replace:s,state:n,relative:i}=e;yi()||Ee(!1);let{future:a,static:l}=j.useContext($s),{matches:o}=j.useContext(ws),{pathname:c}=xn(),d=Hs(),u=Ih(t,Oh(o,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(u);return j.useEffect(()=>d(JSON.parse(h),{replace:s,state:n,relative:i}),[d,h,i,s,n]),null}function y0(e){return Bj(e.context)}function ge(e){Ee(!1)}function rN(e){let{basename:t="/",children:s=null,location:n,navigationType:i=gr.Pop,navigator:a,static:l=!1,future:o}=e;yi()&&Ee(!1);let c=t.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:c,navigator:a,static:l,future:Ca({v7_relativeSplatPath:!1},o)}),[c,o,a,l]);typeof n=="string"&&(n=gi(n));let{pathname:u="/",search:h="",hash:m="",state:f=null,key:g="default"}=n,x=j.useMemo(()=>{let w=ci(u,c);return w==null?null:{location:{pathname:w,search:h,hash:m,state:f,key:g},navigationType:i}},[c,u,h,m,f,g,i]);return x==null?null:j.createElement($s.Provider,{value:d},j.createElement(Jo.Provider,{children:s,value:x}))}function nN(e){let{children:t,location:s}=e;return $j(xu(t),s)}new Promise(()=>{});function xu(e,t){t===void 0&&(t=[]);let s=[];return j.Children.forEach(e,(n,i)=>{if(!j.isValidElement(n))return;let a=[...t,i];if(n.type===j.Fragment){s.push.apply(s,xu(n.props.children,a));return}n.type!==ge&&Ee(!1),!n.props.index||!n.props.children||Ee(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=xu(n.props.children,a)),s.push(l)}),s}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},_o.apply(this,arguments)}function v0(e,t){if(e==null)return{};var s={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(s[i]=e[i]);return s}function iN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function aN(e,t){return e.button===0&&(!t||t==="_self")&&!iN(e)}function gu(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let n=e[s];return t.concat(Array.isArray(n)?n.map(i=>[s,i]):[[s,n]])},[]))}function lN(e,t){let s=gu(e);return t&&t.forEach((n,i)=>{s.has(i)||t.getAll(i).forEach(a=>{s.append(i,a)})}),s}const oN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cN=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],dN="6";try{window.__reactRouterVersion=dN}catch{}const uN=j.createContext({isTransitioning:!1}),hN="startTransition",Lp=bv[hN];function mN(e){let{basename:t,children:s,future:n,window:i}=e,a=j.useRef();a.current==null&&(a.current=mj({window:i,v5Compat:!0}));let l=a.current,[o,c]=j.useState({action:l.action,location:l.location}),{v7_startTransition:d}=n||{},u=j.useCallback(h=>{d&&Lp?Lp(()=>c(h)):c(h)},[c,d]);return j.useLayoutEffect(()=>l.listen(u),[l,u]),j.useEffect(()=>sN(n),[n]),j.createElement(rN,{basename:t,children:s,location:o.location,navigationType:o.action,navigator:l,future:n})}const pN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ke=j.forwardRef(function(t,s){let{onClick:n,relative:i,reloadDocument:a,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,m=v0(t,oN),{basename:f}=j.useContext($s),g,x=!1;if(typeof d=="string"&&fN.test(d)&&(g=d,pN))try{let y=new URL(window.location.href),v=d.startsWith("//")?new URL(y.protocol+d):new URL(d),S=ci(v.pathname,f);v.origin===y.origin&&S!=null?d=S+v.search+v.hash:x=!0}catch{}let w=Uj(d,{relative:i}),p=yN(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:i,viewTransition:h});function b(y){n&&n(y),y.defaultPrevented||p(y)}return j.createElement("a",_o({},m,{href:g||w,onClick:x||a?n:b,ref:s,target:c}))}),xN=j.forwardRef(function(t,s){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:l=!1,style:o,to:c,viewTransition:d,children:u}=t,h=v0(t,cN),m=ec(c,{relative:h.relative}),f=xn(),g=j.useContext(h0),{navigator:x,basename:w}=j.useContext($s),p=g!=null&&vN(m)&&d===!0,b=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,y=f.pathname,v=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(y=y.toLowerCase(),v=v?v.toLowerCase():null,b=b.toLowerCase()),v&&w&&(v=ci(v,w)||v);const S=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let C=y===b||!l&&y.startsWith(b)&&y.charAt(S)==="/",k=v!=null&&(v===b||!l&&v.startsWith(b)&&v.charAt(b.length)==="/"),R={isActive:C,isPending:k,isTransitioning:p},U=C?n:void 0,E;typeof a=="function"?E=a(R):E=[a,C?"active":null,k?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let D=typeof o=="function"?o(R):o;return j.createElement(Ke,_o({},h,{"aria-current":U,className:E,ref:s,style:D,to:c,viewTransition:d}),typeof u=="function"?u(R):u)});var yu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(yu||(yu={}));var Op;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Op||(Op={}));function gN(e){let t=j.useContext(Xo);return t||Ee(!1),t}function yN(e,t){let{target:s,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:o}=t===void 0?{}:t,c=Hs(),d=xn(),u=ec(e,{relative:l});return j.useCallback(h=>{if(aN(h,s)){h.preventDefault();let m=n!==void 0?n:Co(d)===Co(u);c(e,{replace:m,state:i,preventScrollReset:a,relative:l,viewTransition:o})}},[d,c,u,n,i,s,e,a,l,o])}function Fh(e){let t=j.useRef(gu(e)),s=j.useRef(!1),n=xn(),i=j.useMemo(()=>lN(n.search,s.current?null:t.current),[n.search]),a=Hs(),l=j.useCallback((o,c)=>{const d=gu(typeof o=="function"?o(i):o);s.current=!0,a("?"+d,c)},[a,i]);return[i,l]}function vN(e,t){t===void 0&&(t={});let s=j.useContext(uN);s==null&&Ee(!1);let{basename:n}=gN(yu.useViewTransitionState),i=ec(e,{relative:t.relative});if(!s.isTransitioning)return!1;let a=ci(s.currentLocation.pathname,n)||s.currentLocation.pathname,l=ci(s.nextLocation.pathname,n)||s.nextLocation.pathname;return fu(i.pathname,l)!=null||fu(i.pathname,a)!=null}function b0(e,t){return function(){return e.apply(t,arguments)}}const{toString:bN}=Object.prototype,{getPrototypeOf:Uh}=Object,{iterator:tc,toStringTag:w0}=Symbol,sc=(e=>t=>{const s=bN.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),ns=e=>(e=e.toLowerCase(),t=>sc(t)===e),rc=e=>t=>typeof t===e,{isArray:vi}=Array,di=rc("undefined");function qa(e){return e!==null&&!di(e)&&e.constructor!==null&&!di(e.constructor)&&Nt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const j0=ns("ArrayBuffer");function wN(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&j0(e.buffer),t}const jN=rc("string"),Nt=rc("function"),N0=rc("number"),za=e=>e!==null&&typeof e=="object",NN=e=>e===!0||e===!1,$l=e=>{if(sc(e)!=="object")return!1;const t=Uh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(w0 in e)&&!(tc in e)},kN=e=>{if(!za(e)||qa(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},SN=ns("Date"),CN=ns("File"),_N=ns("Blob"),EN=ns("FileList"),PN=e=>za(e)&&Nt(e.pipe),RN=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Nt(e.append)&&((t=sc(e))==="formdata"||t==="object"&&Nt(e.toString)&&e.toString()==="[object FormData]"))},TN=ns("URLSearchParams"),[MN,AN,DN,LN]=["ReadableStream","Request","Response","Headers"].map(ns),ON=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ba(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),vi(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(qa(e))return;const a=s?Object.getOwnPropertyNames(e):Object.keys(e),l=a.length;let o;for(n=0;n<l;n++)o=a[n],t.call(null,e[o],o,e)}}function k0(e,t){if(qa(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,i;for(;n-- >0;)if(i=s[n],t===i.toLowerCase())return i;return null}const Vr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,S0=e=>!di(e)&&e!==Vr;function vu(){const{caseless:e,skipUndefined:t}=S0(this)&&this||{},s={},n=(i,a)=>{const l=e&&k0(s,a)||a;$l(s[l])&&$l(i)?s[l]=vu(s[l],i):$l(i)?s[l]=vu({},i):vi(i)?s[l]=i.slice():(!t||!di(i))&&(s[l]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Ba(arguments[i],n);return s}const IN=(e,t,s,{allOwnKeys:n}={})=>(Ba(t,(i,a)=>{s&&Nt(i)?e[a]=b0(i,s):e[a]=i},{allOwnKeys:n}),e),FN=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),UN=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},qN=(e,t,s,n)=>{let i,a,l;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)l=i[a],(!n||n(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=s!==!1&&Uh(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},zN=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},BN=e=>{if(!e)return null;if(vi(e))return e;let t=e.length;if(!N0(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},$N=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Uh(Uint8Array)),HN=(e,t)=>{const n=(e&&e[tc]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},WN=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},VN=ns("HTMLFormElement"),KN=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,i){return n.toUpperCase()+i}),Ip=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),QN=ns("RegExp"),C0=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};Ba(s,(i,a)=>{let l;(l=t(i,a,e))!==!1&&(n[a]=l||i)}),Object.defineProperties(e,n)},GN=e=>{C0(e,(t,s)=>{if(Nt(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(Nt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},YN=(e,t)=>{const s={},n=i=>{i.forEach(a=>{s[a]=!0})};return vi(e)?n(e):n(String(e).split(t)),s},XN=()=>{},JN=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function ZN(e){return!!(e&&Nt(e.append)&&e[w0]==="FormData"&&e[tc])}const e1=e=>{const t=new Array(10),s=(n,i)=>{if(za(n)){if(t.indexOf(n)>=0)return;if(qa(n))return n;if(!("toJSON"in n)){t[i]=n;const a=vi(n)?[]:{};return Ba(n,(l,o)=>{const c=s(l,i+1);!di(c)&&(a[o]=c)}),t[i]=void 0,a}}return n};return s(e,0)},t1=ns("AsyncFunction"),s1=e=>e&&(za(e)||Nt(e))&&Nt(e.then)&&Nt(e.catch),_0=((e,t)=>e?setImmediate:t?((s,n)=>(Vr.addEventListener("message",({source:i,data:a})=>{i===Vr&&a===s&&n.length&&n.shift()()},!1),i=>{n.push(i),Vr.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Nt(Vr.postMessage)),r1=typeof queueMicrotask<"u"?queueMicrotask.bind(Vr):typeof process<"u"&&process.nextTick||_0,n1=e=>e!=null&&Nt(e[tc]),T={isArray:vi,isArrayBuffer:j0,isBuffer:qa,isFormData:RN,isArrayBufferView:wN,isString:jN,isNumber:N0,isBoolean:NN,isObject:za,isPlainObject:$l,isEmptyObject:kN,isReadableStream:MN,isRequest:AN,isResponse:DN,isHeaders:LN,isUndefined:di,isDate:SN,isFile:CN,isBlob:_N,isRegExp:QN,isFunction:Nt,isStream:PN,isURLSearchParams:TN,isTypedArray:$N,isFileList:EN,forEach:Ba,merge:vu,extend:IN,trim:ON,stripBOM:FN,inherits:UN,toFlatObject:qN,kindOf:sc,kindOfTest:ns,endsWith:zN,toArray:BN,forEachEntry:HN,matchAll:WN,isHTMLForm:VN,hasOwnProperty:Ip,hasOwnProp:Ip,reduceDescriptors:C0,freezeMethods:GN,toObjectSet:YN,toCamelCase:KN,noop:XN,toFiniteNumber:JN,findKey:k0,global:Vr,isContextDefined:S0,isSpecCompliantForm:ZN,toJSONObject:e1,isAsyncFn:t1,isThenable:s1,setImmediate:_0,asap:r1,isIterable:n1};function Z(e,t,s,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}T.inherits(Z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const E0=Z.prototype,P0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{P0[e]={value:e}});Object.defineProperties(Z,P0);Object.defineProperty(E0,"isAxiosError",{value:!0});Z.from=(e,t,s,n,i,a)=>{const l=Object.create(E0);T.toFlatObject(e,l,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Z.call(l,o,c,s,n,i),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",a&&Object.assign(l,a),l};const i1=null;function bu(e){return T.isPlainObject(e)||T.isArray(e)}function R0(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function Fp(e,t,s){return e?e.concat(t).map(function(i,a){return i=R0(i),!s&&a?"["+i+"]":i}).join(s?".":""):t}function a1(e){return T.isArray(e)&&!e.some(bu)}const l1=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function nc(e,t,s){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=T.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,w){return!T.isUndefined(w[x])});const n=s.metaTokens,i=s.visitor||u,a=s.dots,l=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(i))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(T.isDate(g))return g.toISOString();if(T.isBoolean(g))return g.toString();if(!c&&T.isBlob(g))throw new Z("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(g)||T.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,x,w){let p=g;if(g&&!w&&typeof g=="object"){if(T.endsWith(x,"{}"))x=n?x:x.slice(0,-2),g=JSON.stringify(g);else if(T.isArray(g)&&a1(g)||(T.isFileList(g)||T.endsWith(x,"[]"))&&(p=T.toArray(g)))return x=R0(x),p.forEach(function(y,v){!(T.isUndefined(y)||y===null)&&t.append(l===!0?Fp([x],v,a):l===null?x:x+"[]",d(y))}),!1}return bu(g)?!0:(t.append(Fp(w,x,a),d(g)),!1)}const h=[],m=Object.assign(l1,{defaultVisitor:u,convertValue:d,isVisitable:bu});function f(g,x){if(!T.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(g),T.forEach(g,function(p,b){(!(T.isUndefined(p)||p===null)&&i.call(t,p,T.isString(b)?b.trim():b,x,m))===!0&&f(p,x?x.concat(b):[b])}),h.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return f(e),t}function Up(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function qh(e,t){this._pairs=[],e&&nc(e,this,t)}const T0=qh.prototype;T0.append=function(t,s){this._pairs.push([t,s])};T0.toString=function(t){const s=t?function(n){return t.call(this,n,Up)}:Up;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function o1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function M0(e,t,s){if(!t)return e;const n=s&&s.encode||o1;T.isFunction(s)&&(s={serialize:s});const i=s&&s.serialize;let a;if(i?a=i(t,s):a=T.isURLSearchParams(t)?t.toString():new qh(t,s).toString(n),a){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class qp{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(n){n!==null&&t(n)})}}const A0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},c1=typeof URLSearchParams<"u"?URLSearchParams:qh,d1=typeof FormData<"u"?FormData:null,u1=typeof Blob<"u"?Blob:null,h1={isBrowser:!0,classes:{URLSearchParams:c1,FormData:d1,Blob:u1},protocols:["http","https","file","blob","url","data"]},zh=typeof window<"u"&&typeof document<"u",wu=typeof navigator=="object"&&navigator||void 0,m1=zh&&(!wu||["ReactNative","NativeScript","NS"].indexOf(wu.product)<0),p1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",f1=zh&&window.location.href||"http://localhost",x1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zh,hasStandardBrowserEnv:m1,hasStandardBrowserWebWorkerEnv:p1,navigator:wu,origin:f1},Symbol.toStringTag,{value:"Module"})),tt={...x1,...h1};function g1(e,t){return nc(e,new tt.classes.URLSearchParams,{visitor:function(s,n,i,a){return tt.isNode&&T.isBuffer(s)?(this.append(n,s.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function y1(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function v1(e){const t={},s=Object.keys(e);let n;const i=s.length;let a;for(n=0;n<i;n++)a=s[n],t[a]=e[a];return t}function D0(e){function t(s,n,i,a){let l=s[a++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=a>=s.length;return l=!l&&T.isArray(i)?i.length:l,c?(T.hasOwnProp(i,l)?i[l]=[i[l],n]:i[l]=n,!o):((!i[l]||!T.isObject(i[l]))&&(i[l]=[]),t(s,n,i[l],a)&&T.isArray(i[l])&&(i[l]=v1(i[l])),!o)}if(T.isFormData(e)&&T.isFunction(e.entries)){const s={};return T.forEachEntry(e,(n,i)=>{t(y1(n),i,s,0)}),s}return null}function b1(e,t,s){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const $a={transitional:A0,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",i=n.indexOf("application/json")>-1,a=T.isObject(t);if(a&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return i?JSON.stringify(D0(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return g1(t,this.formSerializer).toString();if((o=T.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return nc(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(s.setContentType("application/json",!1),b1(t)):t}],transformResponse:[function(t){const s=this.transitional||$a.transitional,n=s&&s.forcedJSONParsing,i=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(n&&!this.responseType||i)){const l=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?Z.from(o,Z.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tt.classes.FormData,Blob:tt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{$a.headers[e]={}});const w1=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),j1=e=>{const t={};let s,n,i;return e&&e.split(`
`).forEach(function(l){i=l.indexOf(":"),s=l.substring(0,i).trim().toLowerCase(),n=l.substring(i+1).trim(),!(!s||t[s]&&w1[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},zp=Symbol("internals");function Di(e){return e&&String(e).trim().toLowerCase()}function Hl(e){return e===!1||e==null?e:T.isArray(e)?e.map(Hl):String(e)}function N1(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const k1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Wc(e,t,s,n,i){if(T.isFunction(n))return n.call(this,t,s);if(i&&(t=s),!!T.isString(t)){if(T.isString(n))return t.indexOf(n)!==-1;if(T.isRegExp(n))return n.test(t)}}function S1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function C1(e,t){const s=T.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(i,a,l){return this[n].call(this,t,i,a,l)},configurable:!0})})}let kt=class{constructor(t){t&&this.set(t)}set(t,s,n){const i=this;function a(o,c,d){const u=Di(c);if(!u)throw new Error("header name must be a non-empty string");const h=T.findKey(i,u);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||c]=Hl(o))}const l=(o,c)=>T.forEach(o,(d,u)=>a(d,u,c));if(T.isPlainObject(t)||t instanceof this.constructor)l(t,s);else if(T.isString(t)&&(t=t.trim())&&!k1(t))l(j1(t),s);else if(T.isObject(t)&&T.isIterable(t)){let o={},c,d;for(const u of t){if(!T.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?T.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}l(o,s)}else t!=null&&a(s,t,n);return this}get(t,s){if(t=Di(t),t){const n=T.findKey(this,t);if(n){const i=this[n];if(!s)return i;if(s===!0)return N1(i);if(T.isFunction(s))return s.call(this,i,n);if(T.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Di(t),t){const n=T.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||Wc(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let i=!1;function a(l){if(l=Di(l),l){const o=T.findKey(n,l);o&&(!s||Wc(n,n[o],o,s))&&(delete n[o],i=!0)}}return T.isArray(t)?t.forEach(a):a(t),i}clear(t){const s=Object.keys(this);let n=s.length,i=!1;for(;n--;){const a=s[n];(!t||Wc(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const s=this,n={};return T.forEach(this,(i,a)=>{const l=T.findKey(n,a);if(l){s[l]=Hl(i),delete s[a];return}const o=t?S1(a):String(a).trim();o!==a&&delete s[a],s[o]=Hl(i),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return T.forEach(this,(n,i)=>{n!=null&&n!==!1&&(s[i]=t&&T.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[zp]=this[zp]={accessors:{}}).accessors,i=this.prototype;function a(l){const o=Di(l);n[o]||(C1(i,l),n[o]=!0)}return T.isArray(t)?t.forEach(a):a(t),this}};kt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(kt.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});T.freezeMethods(kt);function Vc(e,t){const s=this||$a,n=t||s,i=kt.from(n.headers);let a=n.data;return T.forEach(e,function(o){a=o.call(s,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function L0(e){return!!(e&&e.__CANCEL__)}function bi(e,t,s){Z.call(this,e??"canceled",Z.ERR_CANCELED,t,s),this.name="CanceledError"}T.inherits(bi,Z,{__CANCEL__:!0});function O0(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new Z("Request failed with status code "+s.status,[Z.ERR_BAD_REQUEST,Z.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function _1(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function E1(e,t){e=e||10;const s=new Array(e),n=new Array(e);let i=0,a=0,l;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[a];l||(l=d),s[i]=c,n[i]=d;let h=a,m=0;for(;h!==i;)m+=s[h++],h=h%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-l<t)return;const f=u&&d-u;return f?Math.round(m*1e3/f):void 0}}function P1(e,t){let s=0,n=1e3/t,i,a;const l=(d,u=Date.now())=>{s=u,i=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const u=Date.now(),h=u-s;h>=n?l(d,u):(i=d,a||(a=setTimeout(()=>{a=null,l(i)},n-h)))},()=>i&&l(i)]}const Eo=(e,t,s=3)=>{let n=0;const i=E1(50,250);return P1(a=>{const l=a.loaded,o=a.lengthComputable?a.total:void 0,c=l-n,d=i(c),u=l<=o;n=l;const h={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-l)/d:void 0,event:a,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},s)},Bp=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},$p=e=>(...t)=>T.asap(()=>e(...t)),R1=tt.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,tt.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(tt.origin),tt.navigator&&/(msie|trident)/i.test(tt.navigator.userAgent)):()=>!0,T1=tt.hasStandardBrowserEnv?{write(e,t,s,n,i,a,l){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];T.isNumber(s)&&o.push(`expires=${new Date(s).toUTCString()}`),T.isString(n)&&o.push(`path=${n}`),T.isString(i)&&o.push(`domain=${i}`),a===!0&&o.push("secure"),T.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function M1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function A1(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function I0(e,t,s){let n=!M1(t);return e&&(n||s==!1)?A1(e,t):t}const Hp=e=>e instanceof kt?{...e}:e;function mn(e,t){t=t||{};const s={};function n(d,u,h,m){return T.isPlainObject(d)&&T.isPlainObject(u)?T.merge.call({caseless:m},d,u):T.isPlainObject(u)?T.merge({},u):T.isArray(u)?u.slice():u}function i(d,u,h,m){if(T.isUndefined(u)){if(!T.isUndefined(d))return n(void 0,d,h,m)}else return n(d,u,h,m)}function a(d,u){if(!T.isUndefined(u))return n(void 0,u)}function l(d,u){if(T.isUndefined(u)){if(!T.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function o(d,u,h){if(h in t)return n(d,u);if(h in e)return n(void 0,d)}const c={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,u,h)=>i(Hp(d),Hp(u),h,!0)};return T.forEach(Object.keys({...e,...t}),function(u){const h=c[u]||i,m=h(e[u],t[u],u);T.isUndefined(m)&&h!==o||(s[u]=m)}),s}const F0=e=>{const t=mn({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:l,auth:o}=t;if(t.headers=l=kt.from(l),t.url=M0(I0(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),T.isFormData(s)){if(tt.hasStandardBrowserEnv||tt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(T.isFunction(s.getHeaders)){const c=s.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,h])=>{d.includes(u.toLowerCase())&&l.set(u,h)})}}if(tt.hasStandardBrowserEnv&&(n&&T.isFunction(n)&&(n=n(t)),n||n!==!1&&R1(t.url))){const c=i&&a&&T1.read(a);c&&l.set(i,c)}return t},D1=typeof XMLHttpRequest<"u",L1=D1&&function(e){return new Promise(function(s,n){const i=F0(e);let a=i.data;const l=kt.from(i.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=i,u,h,m,f,g;function x(){f&&f(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function p(){if(!w)return;const y=kt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),S={data:!o||o==="text"||o==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:y,config:e,request:w};O0(function(k){s(k),x()},function(k){n(k),x()},S),w=null}"onloadend"in w?w.onloadend=p:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(p)},w.onabort=function(){w&&(n(new Z("Request aborted",Z.ECONNABORTED,e,w)),w=null)},w.onerror=function(v){const S=v&&v.message?v.message:"Network Error",C=new Z(S,Z.ERR_NETWORK,e,w);C.event=v||null,n(C),w=null},w.ontimeout=function(){let v=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||A0;i.timeoutErrorMessage&&(v=i.timeoutErrorMessage),n(new Z(v,S.clarifyTimeoutError?Z.ETIMEDOUT:Z.ECONNABORTED,e,w)),w=null},a===void 0&&l.setContentType(null),"setRequestHeader"in w&&T.forEach(l.toJSON(),function(v,S){w.setRequestHeader(S,v)}),T.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),o&&o!=="json"&&(w.responseType=i.responseType),d&&([m,g]=Eo(d,!0),w.addEventListener("progress",m)),c&&w.upload&&([h,f]=Eo(c),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(u=y=>{w&&(n(!y||y.type?new bi(null,e,w):y),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const b=_1(i.url);if(b&&tt.protocols.indexOf(b)===-1){n(new Z("Unsupported protocol "+b+":",Z.ERR_BAD_REQUEST,e));return}w.send(a||null)})},O1=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,i;const a=function(d){if(!i){i=!0,o();const u=d instanceof Error?d:this.reason;n.abort(u instanceof Z?u:new bi(u instanceof Error?u.message:u))}};let l=t&&setTimeout(()=>{l=null,a(new Z(`timeout ${t} of ms exceeded`,Z.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>T.asap(o),c}},I1=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,i;for(;n<s;)i=n+t,yield e.slice(n,i),n=i},F1=async function*(e,t){for await(const s of U1(e))yield*I1(s,t)},U1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},Wp=(e,t,s,n)=>{const i=F1(e,t);let a=0,l,o=c=>{l||(l=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await i.next();if(d){o(),c.close();return}let h=u.byteLength;if(s){let m=a+=h;s(m)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),i.return()}},{highWaterMark:2})},Vp=64*1024,{isFunction:jl}=T,q1=(({Request:e,Response:t})=>({Request:e,Response:t}))(T.global),{ReadableStream:Kp,TextEncoder:Qp}=T.global,Gp=(e,...t)=>{try{return!!e(...t)}catch{return!1}},z1=e=>{e=T.merge.call({skipUndefined:!0},q1,e);const{fetch:t,Request:s,Response:n}=e,i=t?jl(t):typeof fetch=="function",a=jl(s),l=jl(n);if(!i)return!1;const o=i&&jl(Kp),c=i&&(typeof Qp=="function"?(g=>x=>g.encode(x))(new Qp):async g=>new Uint8Array(await new s(g).arrayBuffer())),d=a&&o&&Gp(()=>{let g=!1;const x=new s(tt.origin,{body:new Kp,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!x}),u=l&&o&&Gp(()=>T.isReadableStream(new n("").body)),h={stream:u&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(x,w)=>{let p=x&&x[g];if(p)return p.call(x);throw new Z(`Response type '${g}' is not supported`,Z.ERR_NOT_SUPPORT,w)})});const m=async g=>{if(g==null)return 0;if(T.isBlob(g))return g.size;if(T.isSpecCompliantForm(g))return(await new s(tt.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(T.isArrayBufferView(g)||T.isArrayBuffer(g))return g.byteLength;if(T.isURLSearchParams(g)&&(g=g+""),T.isString(g))return(await c(g)).byteLength},f=async(g,x)=>{const w=T.toFiniteNumber(g.getContentLength());return w??m(x)};return async g=>{let{url:x,method:w,data:p,signal:b,cancelToken:y,timeout:v,onDownloadProgress:S,onUploadProgress:C,responseType:k,headers:R,withCredentials:U="same-origin",fetchOptions:E}=F0(g),D=t||fetch;k=k?(k+"").toLowerCase():"text";let _=O1([b,y&&y.toAbortSignal()],v),V=null;const O=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let G;try{if(C&&d&&w!=="get"&&w!=="head"&&(G=await f(R,p))!==0){let H=new s(x,{method:"POST",body:p,duplex:"half"}),se;if(T.isFormData(p)&&(se=H.headers.get("content-type"))&&R.setContentType(se),H.body){const[ie,Oe]=Bp(G,Eo($p(C)));p=Wp(H.body,Vp,ie,Oe)}}T.isString(U)||(U=U?"include":"omit");const W=a&&"credentials"in s.prototype,ae={...E,signal:_,method:w.toUpperCase(),headers:R.normalize().toJSON(),body:p,duplex:"half",credentials:W?U:void 0};V=a&&new s(x,ae);let P=await(a?D(V,E):D(x,ae));const L=u&&(k==="stream"||k==="response");if(u&&(S||L&&O)){const H={};["status","statusText","headers"].forEach(xe=>{H[xe]=P[xe]});const se=T.toFiniteNumber(P.headers.get("content-length")),[ie,Oe]=S&&Bp(se,Eo($p(S),!0))||[];P=new n(Wp(P.body,Vp,ie,()=>{Oe&&Oe(),O&&O()}),H)}k=k||"text";let q=await h[T.findKey(h,k)||"text"](P,g);return!L&&O&&O(),await new Promise((H,se)=>{O0(H,se,{data:q,headers:kt.from(P.headers),status:P.status,statusText:P.statusText,config:g,request:V})})}catch(W){throw O&&O(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new Z("Network Error",Z.ERR_NETWORK,g,V),{cause:W.cause||W}):Z.from(W,W&&W.code,g,V)}}},B1=new Map,U0=e=>{let t=e&&e.env||{};const{fetch:s,Request:n,Response:i}=t,a=[n,i,s];let l=a.length,o=l,c,d,u=B1;for(;o--;)c=a[o],d=u.get(c),d===void 0&&u.set(c,d=o?new Map:z1(t)),u=d;return d};U0();const Bh={http:i1,xhr:L1,fetch:{get:U0}};T.forEach(Bh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Yp=e=>`- ${e}`,$1=e=>T.isFunction(e)||e===null||e===!1;function H1(e,t){e=T.isArray(e)?e:[e];const{length:s}=e;let n,i;const a={};for(let l=0;l<s;l++){n=e[l];let o;if(i=n,!$1(n)&&(i=Bh[(o=String(n)).toLowerCase()],i===void 0))throw new Z(`Unknown adapter '${o}'`);if(i&&(T.isFunction(i)||(i=i.get(t))))break;a[o||"#"+l]=i}if(!i){const l=Object.entries(a).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=s?l.length>1?`since :
`+l.map(Yp).join(`
`):" "+Yp(l[0]):"as no adapter specified";throw new Z("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const q0={getAdapter:H1,adapters:Bh};function Kc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new bi(null,e)}function Xp(e){return Kc(e),e.headers=kt.from(e.headers),e.data=Vc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),q0.getAdapter(e.adapter||$a.adapter,e)(e).then(function(n){return Kc(e),n.data=Vc.call(e,e.transformResponse,n),n.headers=kt.from(n.headers),n},function(n){return L0(n)||(Kc(e),n&&n.response&&(n.response.data=Vc.call(e,e.transformResponse,n.response),n.response.headers=kt.from(n.response.headers))),Promise.reject(n)})}const z0="1.13.2",ic={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ic[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Jp={};ic.transitional=function(t,s,n){function i(a,l){return"[Axios v"+z0+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return(a,l,o)=>{if(t===!1)throw new Z(i(l," has been removed"+(s?" in "+s:"")),Z.ERR_DEPRECATED);return s&&!Jp[l]&&(Jp[l]=!0,console.warn(i(l," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(a,l,o):!0}};ic.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function W1(e,t,s){if(typeof e!="object")throw new Z("options must be an object",Z.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],l=t[a];if(l){const o=e[a],c=o===void 0||l(o,a,e);if(c!==!0)throw new Z("option "+a+" must be "+c,Z.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Z("Unknown option "+a,Z.ERR_BAD_OPTION)}}const Wl={assertOptions:W1,validators:ic},os=Wl.validators;let nn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new qp,response:new qp}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=mn(this.defaults,s);const{transitional:n,paramsSerializer:i,headers:a}=s;n!==void 0&&Wl.assertOptions(n,{silentJSONParsing:os.transitional(os.boolean),forcedJSONParsing:os.transitional(os.boolean),clarifyTimeoutError:os.transitional(os.boolean)},!1),i!=null&&(T.isFunction(i)?s.paramsSerializer={serialize:i}:Wl.assertOptions(i,{encode:os.function,serialize:os.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Wl.assertOptions(s,{baseUrl:os.spelling("baseURL"),withXsrfToken:os.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let l=a&&T.merge(a.common,a[s.method]);a&&T.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),s.headers=kt.concat(l,a);const o=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(s)===!1||(c=c&&x.synchronous,o.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let u,h=0,m;if(!c){const g=[Xp.bind(this),void 0];for(g.unshift(...o),g.push(...d),m=g.length,u=Promise.resolve(s);h<m;)u=u.then(g[h++],g[h++]);return u}m=o.length;let f=s;for(;h<m;){const g=o[h++],x=o[h++];try{f=g(f)}catch(w){x.call(this,w);break}}try{u=Xp.call(this,f)}catch(g){return Promise.reject(g)}for(h=0,m=d.length;h<m;)u=u.then(d[h++],d[h++]);return u}getUri(t){t=mn(this.defaults,t);const s=I0(t.baseURL,t.url,t.allowAbsoluteUrls);return M0(s,t.params,t.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(t){nn.prototype[t]=function(s,n){return this.request(mn(n||{},{method:t,url:s,data:(n||{}).data}))}});T.forEach(["post","put","patch"],function(t){function s(n){return function(a,l,o){return this.request(mn(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}nn.prototype[t]=s(),nn.prototype[t+"Form"]=s(!0)});let V1=class B0{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(a){s=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const l=new Promise(o=>{n.subscribe(o),a=o}).then(i);return l.cancel=function(){n.unsubscribe(a)},l},t(function(a,l,o){n.reason||(n.reason=new bi(a,l,o),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new B0(function(i){t=i}),cancel:t}}};function K1(e){return function(s){return e.apply(null,s)}}function Q1(e){return T.isObject(e)&&e.isAxiosError===!0}const ju={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ju).forEach(([e,t])=>{ju[t]=e});function $0(e){const t=new nn(e),s=b0(nn.prototype.request,t);return T.extend(s,nn.prototype,t,{allOwnKeys:!0}),T.extend(s,t,null,{allOwnKeys:!0}),s.create=function(i){return $0(mn(e,i))},s}const Le=$0($a);Le.Axios=nn;Le.CanceledError=bi;Le.CancelToken=V1;Le.isCancel=L0;Le.VERSION=z0;Le.toFormData=nc;Le.AxiosError=Z;Le.Cancel=Le.CanceledError;Le.all=function(t){return Promise.all(t)};Le.spread=K1;Le.isAxiosError=Q1;Le.mergeConfig=mn;Le.AxiosHeaders=kt;Le.formToJSON=e=>D0(T.isHTMLForm(e)?new FormData(e):e);Le.getAdapter=q0.getAdapter;Le.HttpStatusCode=ju;Le.default=Le;const{Axios:x_,AxiosError:g_,CanceledError:y_,isCancel:v_,CancelToken:b_,VERSION:w_,all:j_,Cancel:N_,isAxiosError:k_,spread:S_,toFormData:C_,AxiosHeaders:__,HttpStatusCode:E_,formToJSON:P_,getAdapter:R_,mergeConfig:T_}=Le,M=Le.create({baseURL:"/api/v1",withCredentials:!0,headers:{"Content-Type":"application/json"}});M.interceptors.response.use(e=>e,e=>{var n,i,a;const t=(n=e.response)==null?void 0:n.status,s=(a=(i=e.response)==null?void 0:i.data)==null?void 0:a.code;return t===401?(window.location.pathname.startsWith("/login")||(window.location.href="/api/v1/auth/login"),Promise.reject(e)):t===403?s==="NOT_STAFF"?(window.location.href="/access-denied",Promise.reject(e)):(window.location.pathname.startsWith("/dashboard")||(window.location.href="/dashboard?error=permission_denied"),Promise.reject(e)):Promise.reject(e)});const Qc={getMe:async()=>{const{data:e}=await M.get("/auth/me");return e},logout:async()=>{await M.post("/auth/logout")},getLoginUrl:()=>"/api/v1/auth/login"},Ha={list:async(e={})=>{const{data:t}=await M.get("/whitelist",{params:e});return t},getStats:async()=>{const{data:e}=await M.get("/whitelist/stats");return e},getDetail:async e=>{const{data:t}=await M.get(`/whitelist/${e}`);return t},grant:async e=>{const{data:t}=await M.post("/whitelist",e);return t},extend:async(e,t)=>{const{data:s}=await M.put(`/whitelist/${e}/extend`,t);return s},revoke:async(e,t)=>{const{data:s}=await M.post(`/whitelist/${e}/revoke`,t);return s},revokeEntry:async(e,t)=>{const{data:s}=await M.post(`/whitelist/entry/${e}/revoke`,{reason:t});return s},editEntry:async(e,t)=>{const{data:s}=await M.put(`/whitelist/entry/${e}`,t);return s},upgradeConfidence:async(e,t)=>{const{data:s}=await M.post(`/whitelist/${e}/upgrade-confidence`,{reason:t});return s}},$h={list:async(e={})=>{const{data:t}=await M.get("/audit",{params:e});return t},getStats:async e=>{const{data:t}=await M.get("/audit/stats",{params:e?{hours:e}:void 0});return t},getActionTypes:async()=>{const{data:e}=await M.get("/audit/action-types");return e},getActors:async()=>{const{data:e}=await M.get("/audit/actors");return e},getDetail:async e=>{const{data:t}=await M.get(`/audit/${e}`);return t}},G1={getUnlinkedStaff:async()=>{const{data:e}=await M.get("/security/unlinked-staff");return e}},Y1={searchMembers:async e=>{const{data:t}=await M.get("/discord/members",{params:{search:e}});return t},getMember:async e=>{const{data:t}=await M.get(`/discord/member/${e}`);return t}},X1={lookupPlayer:async e=>{const{data:t}=await M.get(`/battlemetrics/player/${e}`);return t}},Hh={list:async(e={})=>{const{data:t}=await M.get("/members",{params:e});return t},getRoles:async()=>{const{data:e}=await M.get("/members/roles");return e},add:async e=>{const{data:t}=await M.post("/members",e);return t}},Wa={list:async()=>{const{data:e}=await M.get("/permissions");return e},getRoles:async()=>{const{data:e}=await M.get("/permissions/roles");return e},getDefinitions:async()=>{const{data:e}=await M.get("/permissions/definitions");return e},update:async(e,t)=>{const{data:s}=await M.put(`/permissions/${e}`,t);return s},reset:async()=>{const{data:e}=await M.post("/permissions/seed",{confirm:"RESET_ALL_PERMISSIONS"});return e}},gn={list:async()=>{const{data:e}=await M.get("/squadgroups");return e},getRoles:async()=>{const{data:e}=await M.get("/squadgroups/roles");return e},getRole:async e=>{const{data:t}=await M.get(`/squadgroups/${e}`);return t},add:async e=>{const{data:t}=await M.post("/squadgroups",e);return t},update:async(e,t)=>{const{data:s}=await M.put(`/squadgroups/${e}`,t);return s},remove:async e=>{const{data:t}=await M.delete(`/squadgroups/${e}`);return t},reset:async()=>{const{data:e}=await M.post("/squadgroups/seed",{confirm:"RESET_ALL_SQUADGROUPS"});return e},sync:async()=>{const{data:e}=await M.post("/squadgroups/sync");return e}},ct={list:async e=>{const{data:t}=await M.get("/stats-templates",{params:e?{active:"true"}:void 0});return t},getDetail:async e=>{const{data:t}=await M.get(`/stats-templates/${e}`);return t},create:async e=>{const{data:t}=await M.post("/stats-templates",e,{headers:{"Content-Type":"multipart/form-data"}});return t},update:async(e,t)=>{const{data:s}=await M.put(`/stats-templates/${e}`,t);return s},updateImage:async(e,t)=>{const{data:s}=await M.put(`/stats-templates/${e}/image`,t,{headers:{"Content-Type":"multipart/form-data"}});return s},delete:async e=>{const{data:t}=await M.delete(`/stats-templates/${e}`);return t},setDefault:async e=>{const{data:t}=await M.post(`/stats-templates/${e}/set-default`);return t},getImageUrl:e=>`/api/v1/stats-templates/${e}/image`,getRoleMappings:async()=>{const{data:e}=await M.get("/stats-templates/role-mappings");return e},createRoleMapping:async e=>{const{data:t}=await M.post("/stats-templates/role-mappings",e);return t},deleteRoleMapping:async e=>{const{data:t}=await M.delete(`/stats-templates/role-mappings/${e}`);return t},refreshCache:async()=>{const{data:e}=await M.post("/stats-templates/refresh-cache");return e},seed:async()=>{const{data:e}=await M.post("/stats-templates/seed");return e}},Dt={list:async(e={})=>{const{data:t}=await M.get("/players",{params:e});return t},getProfile:async e=>{const{data:t}=await M.get(`/players/${e}`);return t},getSessions:async(e,t=1,s=10)=>{const{data:n}=await M.get(`/players/${e}/sessions`,{params:{page:t,limit:s}});return n},getAuditLogs:async(e,t=1,s=10)=>{const{data:n}=await M.get(`/players/${e}/audit`,{params:{page:t,limit:s}});return n},getSeedingActivity:async(e,t=1,s=10)=>{const{data:n}=await M.get(`/players/${e}/seeding`,{params:{page:t,limit:s}});return n},getDutyHistory:async(e,t=1,s=10)=>{const{data:n}=await M.get(`/players/${e}/duty`,{params:{page:t,limit:s}});return n},getWhitelistHistory:async e=>{const{data:t}=await M.get(`/players/${e}/whitelist`);return t},getUnlinkHistory:async e=>{const{data:t}=await M.get(`/players/${e}/unlinks`);return t},getLinkedAccounts:async e=>{const{data:t}=await M.get(`/players/${e}/linked-accounts`);return t},getPotentialLinks:async e=>{const{data:t}=await M.get(`/players/${e}/potential-links`);return t},linkAccount:async(e,t,s)=>{const{data:n}=await M.post(`/players/${e}/link`,{discordUserId:t,reason:s});return n},resetStats:async(e,t)=>{const{data:s}=await M.post(`/players/${e}/reset-stats`,{reason:t});return s},getGameStats:async e=>{const{data:t}=await M.get(`/players/${e}/stats`);return t},getKillfeed:async e=>{const{data:t}=await M.get(`/players/${e}/killfeed`);return t}},is={getServers:async()=>{const{data:e}=await M.get("/seeding/servers");return e},listSessions:async e=>{const{data:t}=await M.get("/seeding/sessions",{params:e});return t},getActiveSession:async()=>{const{data:e}=await M.get("/seeding/sessions/active");return e},getSession:async e=>{const{data:t}=await M.get(`/seeding/sessions/${e}`);return t},getParticipants:async(e,t)=>{const{data:s}=await M.get(`/seeding/sessions/${e}/participants`,{params:t});return s},createSession:async e=>{const{data:t}=await M.post("/seeding/sessions",e);return t},closeSession:async e=>{const{data:t}=await M.post(`/seeding/sessions/${e}/close`);return t},cancelSession:async(e,t)=>{const{data:s}=await M.post(`/seeding/sessions/${e}/cancel`,{reason:t});return s},getClosePreview:async e=>{const{data:t}=await M.get(`/seeding/sessions/${e}/close-preview`);return t},reverseRewards:async(e,t)=>{const{data:s}=await M.post(`/seeding/sessions/${e}/reverse-rewards`,{reason:t});return s},revokeParticipantRewards:async(e,t,s)=>{const{data:n}=await M.post(`/seeding/sessions/${e}/participants/${t}/revoke-rewards`,{reason:s});return n}},H0={getLeaderboard:async(e="week",t="both",s=25)=>{const{data:n}=await M.get("/duty/leaderboard",{params:{period:e,type:t,limit:s}});return n},getSummary:async(e="week",t="both")=>{const{data:s}=await M.get("/duty/summary",{params:{period:e,type:t}});return s},getUserStats:async(e,t="week",s="both")=>{const{data:n}=await M.get(`/duty/user/${e}`,{params:{period:t,type:s}});return n},getSessions:async(e="all",t,s=50)=>{const{data:n}=await M.get("/duty/sessions",{params:{status:e,type:t,limit:s}});return n},getSession:async e=>{const{data:t}=await M.get(`/duty/sessions/${e}`);return t},extendSession:async e=>{const{data:t}=await M.post(`/duty/sessions/${e}/extend`);return t},getStaffOverview:async(e="points",t="desc",s="week")=>{const{data:n}=await M.get("/duty/staff-overview",{params:{sortBy:e,sortOrder:t,period:s}});return n}},ac={get:async()=>{const{data:e}=await M.get("/duty/settings");return e},getVoiceChannels:async()=>{const{data:e}=await M.get("/duty/voice-channels");return e},update:async e=>{const{data:t}=await M.put("/duty/settings",{updates:e});return t},getAuditLog:async(e=50)=>{const{data:t}=await M.get("/duty/settings/audit",{params:{limit:e}});return t},reset:async()=>{const{data:e}=await M.post("/duty/settings/reset",{confirm:"RESET_DUTY_SETTINGS"});return e}},wi={list:async()=>{const{data:e}=await M.get("/info-buttons");return e},get:async e=>{const{data:t}=await M.get(`/info-buttons/${e}`);return t},create:async e=>{const{data:t}=await M.post("/info-buttons",e);return t},update:async(e,t)=>{const{data:s}=await M.put(`/info-buttons/${e}`,t);return s},delete:async e=>{const{data:t}=await M.delete(`/info-buttons/${e}`);return t},reorder:async e=>{const{data:t}=await M.put("/info-buttons/reorder",{order:e});return t},reloadPost:async(e=!1)=>{const{data:t}=await M.post("/info-buttons/reload-post",{recreate:e});return t}},Zp={get:async()=>{const{data:e}=await M.get("/user/preferences");return e},update:async e=>{const{data:t}=await M.put("/user/preferences",{preferences:e});return t}},Ws={getServers:async()=>{const{data:e}=await M.get("/connections/servers");return e},getServer:async e=>{const{data:t}=await M.get(`/connections/servers/${e}`);return t},createServer:async e=>{const{data:t}=await M.post("/connections/servers",e);return t},updateServer:async(e,t)=>{const{data:s}=await M.put(`/connections/servers/${e}`,t);return s},deleteServer:async e=>{const{data:t}=await M.delete(`/connections/servers/${e}`,{data:{confirm:e}});return t},reconnectServer:async e=>{const{data:t}=await M.post(`/connections/servers/${e}/reconnect`);return t},getSettings:async()=>{const{data:e}=await M.get("/connections/settings");return e},updateSettings:async e=>{const{data:t}=await M.put("/connections/settings",{updates:e});return t},getDbStatus:async()=>{const{data:e}=await M.get("/connections/db-status");return e},getAuditLog:async e=>{const{data:t}=await M.get("/connections/audit",{params:e?{limit:e}:void 0});return t}},W0=j.createContext(null);function J1({children:e}){const t=X(),[s,n]=j.useState(!1),{data:i,isLoading:a,error:l}=J({queryKey:["auth","me"],queryFn:Qc.getMe,retry:!1,staleTime:1e3*60*5});j.useEffect(()=>{a||n(!0)},[a]);const o=j.useCallback(()=>{window.location.href=Qc.getLoginUrl()},[]),c=j.useCallback(async()=>{await Qc.logout(),t.setQueryData(["auth","me"],null),t.invalidateQueries({queryKey:["auth"]})},[t]),d=j.useCallback(m=>{var f;return i?((f=i.permissions)==null?void 0:f.includes(m))??!1:!1},[i]),u=!s||a,h=l?null:i;return r.jsx(W0.Provider,{value:{user:h??null,isLoading:u,login:o,logout:c,hasPermission:d},children:e})}function Q(){const e=j.useContext(W0);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),F=(e,t)=>{const s=j.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:o="",children:c,...d},u)=>j.createElement("svg",{ref:u,...Z1,width:i,height:i,stroke:n,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${e2(e)}`,o].join(" "),...d},[...t.map(([h,m])=>j.createElement(h,m)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=F("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=F("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=F("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=F("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=F("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=F("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=F("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=F("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=F("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=F("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=F("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=F("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=F("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=F("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=F("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=F("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=F("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=F("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=F("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=F("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=F("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=F("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=F("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=F("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=F("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=F("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=F("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=F("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=F("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=F("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=F("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=F("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=F("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=F("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=F("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=F("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=F("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=F("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=F("Link2Off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=F("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=F("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=F("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=F("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=F("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=F("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=F("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=F("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=F("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=F("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=F("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=F("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=F("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=F("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=F("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=F("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=F("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=F("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=F("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=F("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=F("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=F("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=F("ShieldX",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m14.5 9-5 5",key:"1m49dw"}],["path",{d:"m9.5 9 5 5",key:"wyx7zg"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=F("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=F("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=F("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=F("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=F("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=F("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=F("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=F("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=F("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=F("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=F("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=F("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=F("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=F("UserSearch",[["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}],["path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2",key:"3bnktk"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=F("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=F("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=F("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=F("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=F("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=F("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=F("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function ry(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(s=ry(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function A2(){for(var e,t,s=0,n="",i=arguments.length;s<i;s++)(e=arguments[s])&&(t=ry(e))&&(n&&(n+=" "),n+=t);return n}const Jh="-",D2=e=>{const t=O2(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{const o=l.split(Jh);return o[0]===""&&o.length!==1&&o.shift(),ny(o,t)||L2(l)},getConflictingClassGroupIds:(l,o)=>{const c=s[l]||[];return o&&n[l]?[...c,...n[l]]:c}}},ny=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const s=e[0],n=t.nextPart.get(s),i=n?ny(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(Jh);return(l=t.validators.find(({validator:o})=>o(a)))==null?void 0:l.classGroupId},rf=/^\[(.+)\]$/,L2=e=>{if(rf.test(e)){const t=rf.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},O2=e=>{const{theme:t,prefix:s}=e,n={nextPart:new Map,validators:[]};return F2(Object.entries(e.classGroups),s).forEach(([a,l])=>{Cu(l,n,a,t)}),n},Cu=(e,t,s,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:nf(t,i);a.classGroupId=s;return}if(typeof i=="function"){if(I2(i)){Cu(i(n),t,s,n);return}t.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([a,l])=>{Cu(l,nf(t,a),s,n)})})},nf=(e,t)=>{let s=e;return t.split(Jh).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},I2=e=>e.isThemeGetter,F2=(e,t)=>t?e.map(([s,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,o])=>[t+l,o])):a);return[s,i]}):e,U2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,n=new Map;const i=(a,l)=>{s.set(a,l),t++,t>e&&(t=0,n=s,s=new Map)};return{get(a){let l=s.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return i(a,l),l},set(a,l){s.has(a)?s.set(a,l):i(a,l)}}},iy="!",q2=e=>{const{separator:t,experimentalParseClassName:s}=e,n=t.length===1,i=t[0],a=t.length,l=o=>{const c=[];let d=0,u=0,h;for(let w=0;w<o.length;w++){let p=o[w];if(d===0){if(p===i&&(n||o.slice(w,w+a)===t)){c.push(o.slice(u,w)),u=w+a;continue}if(p==="/"){h=w;continue}}p==="["?d++:p==="]"&&d--}const m=c.length===0?o:o.substring(u),f=m.startsWith(iy),g=f?m.substring(1):m,x=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:x}};return s?o=>s({className:o,parseClassName:l}):l},z2=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(n=>{n[0]==="["?(t.push(...s.sort(),n),s=[]):s.push(n)}),t.push(...s.sort()),t},B2=e=>({cache:U2(e.cacheSize),parseClassName:q2(e),...D2(e)}),$2=/\s+/,H2=(e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],l=e.trim().split($2);let o="";for(let c=l.length-1;c>=0;c-=1){const d=l[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:f}=s(d);let g=!!f,x=n(g?m.substring(0,f):m);if(!x){if(!g){o=d+(o.length>0?" "+o:o);continue}if(x=n(m),!x){o=d+(o.length>0?" "+o:o);continue}g=!1}const w=z2(u).join(":"),p=h?w+iy:w,b=p+x;if(a.includes(b))continue;a.push(b);const y=i(x,g);for(let v=0;v<y.length;++v){const S=y[v];a.push(p+S)}o=d+(o.length>0?" "+o:o)}return o};function W2(){let e=0,t,s,n="";for(;e<arguments.length;)(t=arguments[e++])&&(s=ay(t))&&(n&&(n+=" "),n+=s);return n}const ay=e=>{if(typeof e=="string")return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=ay(e[n]))&&(s&&(s+=" "),s+=t);return s};function V2(e,...t){let s,n,i,a=l;function l(c){const d=t.reduce((u,h)=>h(u),e());return s=B2(d),n=s.cache.get,i=s.cache.set,a=o,o(c)}function o(c){const d=n(c);if(d)return d;const u=H2(c,s);return i(c,u),u}return function(){return a(W2.apply(null,arguments))}}const ve=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},ly=/^\[(?:([a-z-]+):)?(.+)\]$/i,K2=/^\d+\/\d+$/,Q2=new Set(["px","full","screen"]),G2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Y2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,X2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,J2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Z2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ks=e=>Bn(e)||Q2.has(e)||K2.test(e),Gs=e=>Ni(e,"length",l4),Bn=e=>!!e&&!Number.isNaN(Number(e)),Yc=e=>Ni(e,"number",Bn),Li=e=>!!e&&Number.isInteger(Number(e)),e4=e=>e.endsWith("%")&&Bn(e.slice(0,-1)),te=e=>ly.test(e),Ys=e=>G2.test(e),t4=new Set(["length","size","percentage"]),s4=e=>Ni(e,t4,oy),r4=e=>Ni(e,"position",oy),n4=new Set(["image","url"]),i4=e=>Ni(e,n4,c4),a4=e=>Ni(e,"",o4),Oi=()=>!0,Ni=(e,t,s)=>{const n=ly.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):s(n[2]):!1},l4=e=>Y2.test(e)&&!X2.test(e),oy=()=>!1,o4=e=>J2.test(e),c4=e=>Z2.test(e),d4=()=>{const e=ve("colors"),t=ve("spacing"),s=ve("blur"),n=ve("brightness"),i=ve("borderColor"),a=ve("borderRadius"),l=ve("borderSpacing"),o=ve("borderWidth"),c=ve("contrast"),d=ve("grayscale"),u=ve("hueRotate"),h=ve("invert"),m=ve("gap"),f=ve("gradientColorStops"),g=ve("gradientColorStopPositions"),x=ve("inset"),w=ve("margin"),p=ve("opacity"),b=ve("padding"),y=ve("saturate"),v=ve("scale"),S=ve("sepia"),C=ve("skew"),k=ve("space"),R=ve("translate"),U=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",te,t],_=()=>[te,t],V=()=>["",ks,Gs],O=()=>["auto",Bn,te],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",te],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Bn,te];return{cacheSize:500,separator:":",theme:{colors:[Oi],spacing:[ks,Gs],blur:["none","",Ys,te],brightness:H(),borderColor:[e],borderRadius:["none","","full",Ys,te],borderSpacing:_(),borderWidth:V(),contrast:H(),grayscale:L(),hueRotate:H(),invert:L(),gap:_(),gradientColorStops:[e],gradientColorStopPositions:[e4,Gs],inset:D(),margin:D(),opacity:H(),padding:_(),saturate:H(),scale:H(),sepia:L(),skew:H(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",te]}],container:["container"],columns:[{columns:[Ys]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),te]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Li,te]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",te]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Li,te]}],"grid-cols":[{"grid-cols":[Oi]}],"col-start-end":[{col:["auto",{span:["full",Li,te]},te]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Oi]}],"row-start-end":[{row:["auto",{span:[Li,te]},te]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",te]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",te,t]}],"min-w":[{"min-w":[te,t,"min","max","fit"]}],"max-w":[{"max-w":[te,t,"none","full","min","max","fit","prose",{screen:[Ys]},Ys]}],h:[{h:[te,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[te,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[te,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[te,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ys,Gs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yc]}],"font-family":[{font:[Oi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",te]}],"line-clamp":[{"line-clamp":["none",Bn,Yc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ks,te]}],"list-image":[{"list-image":["none",te]}],"list-style-type":[{list:["none","disc","decimal",te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ks,Gs]}],"underline-offset":[{"underline-offset":["auto",ks,te]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),r4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",s4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},i4]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:W()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[ks,te]}],"outline-w":[{outline:[ks,Gs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[ks,Gs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ys,a4]}],"shadow-color":[{shadow:[Oi]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ys,te]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",te]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",te]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[Li,te]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",te]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",te]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",te]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ks,Gs,Yc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},u4=V2(d4);function fe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Dr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const cy=6048e5,h4=864e5,dy=6e4,uy=36e5,Nl=43200,af=1440;let m4={};function Xa(){return m4}function Pa(e,t){var o,c,d,u;const s=Xa(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,i=fe(e),a=i.getDay(),l=(a<n?7:0)+a-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function To(e){return Pa(e,{weekStartsOn:1})}function hy(e){const t=fe(e),s=t.getFullYear(),n=Dr(e,0);n.setFullYear(s+1,0,4),n.setHours(0,0,0,0);const i=To(n),a=Dr(e,0);a.setFullYear(s,0,4),a.setHours(0,0,0,0);const l=To(a);return t.getTime()>=i.getTime()?s+1:t.getTime()>=l.getTime()?s:s-1}function _u(e){const t=fe(e);return t.setHours(0,0,0,0),t}function Mo(e){const t=fe(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function p4(e,t){const s=_u(e),n=_u(t),i=+s-Mo(s),a=+n-Mo(n);return Math.round((i-a)/h4)}function f4(e){const t=hy(e),s=Dr(e,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),To(s)}function Kl(e,t){const s=fe(e),n=fe(t),i=s.getTime()-n.getTime();return i<0?-1:i>0?1:i}function x4(e){return Dr(e,Date.now())}function g4(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function y4(e){if(!g4(e)&&typeof e!="number")return!1;const t=fe(e);return!isNaN(Number(t))}function v4(e,t){const s=fe(e),n=fe(t),i=s.getFullYear()-n.getFullYear(),a=s.getMonth()-n.getMonth();return i*12+a}function b4(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function w4(e,t){return+fe(e)-+fe(t)}function my(e){const t=fe(e);return t.setHours(23,59,59,999),t}function j4(e){const t=fe(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function N4(e){const t=fe(e);return+my(t)==+j4(t)}function k4(e,t){const s=fe(e),n=fe(t),i=Kl(s,n),a=Math.abs(v4(s,n));let l;if(a<1)l=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-i*a);let o=Kl(s,n)===-i;N4(fe(e))&&a===1&&Kl(e,n)===1&&(o=!1),l=i*(a-Number(o))}return l===0?0:l}function S4(e,t,s){const n=w4(e,t)/1e3;return b4(s==null?void 0:s.roundingMethod)(n)}function C4(e){const t=fe(e),s=Dr(e,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}const _4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},E4=(e,t,s)=>{let n;const i=_4[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function Xc(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const P4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},R4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},T4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},M4={date:Xc({formats:P4,defaultWidth:"full"}),time:Xc({formats:R4,defaultWidth:"full"}),dateTime:Xc({formats:T4,defaultWidth:"full"})},A4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},D4=(e,t,s,n)=>A4[e];function Ii(e){return(t,s)=>{const n=s!=null&&s.context?String(s.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,o=s!=null&&s.width?String(s.width):l;i=e.formattingValues[o]||e.formattingValues[l]}else{const l=e.defaultWidth,o=s!=null&&s.width?String(s.width):e.defaultWidth;i=e.values[o]||e.values[l]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const L4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},O4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},I4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},F4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},U4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},q4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},z4=(e,t)=>{const s=Number(e),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},B4={ordinalNumber:z4,era:Ii({values:L4,defaultWidth:"wide"}),quarter:Ii({values:O4,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ii({values:I4,defaultWidth:"wide"}),day:Ii({values:F4,defaultWidth:"wide"}),dayPeriod:Ii({values:U4,defaultWidth:"wide",formattingValues:q4,defaultFormattingWidth:"wide"})};function Fi(e){return(t,s={})=>{const n=s.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const l=a[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?H4(o,h=>h.test(l)):$4(o,h=>h.test(l));let d;d=e.valueCallback?e.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const u=t.slice(l.length);return{value:d,rest:u}}}function $4(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function H4(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function W4(e){return(t,s={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let l=e.valueCallback?e.valueCallback(a[0]):a[0];l=s.valueCallback?s.valueCallback(l):l;const o=t.slice(i.length);return{value:l,rest:o}}}const V4=/^(\d+)(th|st|nd|rd)?/i,K4=/\d+/i,Q4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},G4={any:[/^b/i,/^(a|c)/i]},Y4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},X4={any:[/1/i,/2/i,/3/i,/4/i]},J4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Z4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ek={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nk={ordinalNumber:W4({matchPattern:V4,parsePattern:K4,valueCallback:e=>parseInt(e,10)}),era:Fi({matchPatterns:Q4,defaultMatchWidth:"wide",parsePatterns:G4,defaultParseWidth:"any"}),quarter:Fi({matchPatterns:Y4,defaultMatchWidth:"wide",parsePatterns:X4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fi({matchPatterns:J4,defaultMatchWidth:"wide",parsePatterns:Z4,defaultParseWidth:"any"}),day:Fi({matchPatterns:ek,defaultMatchWidth:"wide",parsePatterns:tk,defaultParseWidth:"any"}),dayPeriod:Fi({matchPatterns:sk,defaultMatchWidth:"any",parsePatterns:rk,defaultParseWidth:"any"})},py={code:"en-US",formatDistance:E4,formatLong:M4,formatRelative:D4,localize:B4,match:nk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ik(e){const t=fe(e);return p4(t,C4(t))+1}function ak(e){const t=fe(e),s=+To(t)-+f4(t);return Math.round(s/cy)+1}function fy(e,t){var u,h,m,f;const s=fe(e),n=s.getFullYear(),i=Xa(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(m=i.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??1,l=Dr(e,0);l.setFullYear(n+1,0,a),l.setHours(0,0,0,0);const o=Pa(l,t),c=Dr(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const d=Pa(c,t);return s.getTime()>=o.getTime()?n+1:s.getTime()>=d.getTime()?n:n-1}function lk(e,t){var o,c,d,u;const s=Xa(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??s.firstWeekContainsDate??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,i=fy(e,t),a=Dr(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Pa(a,t)}function ok(e,t){const s=fe(e),n=+Pa(s,t)-+lk(s,t);return Math.round(n/cy)+1}function me(e,t){const s=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return s+n}const Xs={y(e,t){const s=e.getFullYear(),n=s>0?s:1-s;return me(t==="yy"?n%100:n,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):me(s+1,2)},d(e,t){return me(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return me(e.getHours()%12||12,t.length)},H(e,t){return me(e.getHours(),t.length)},m(e,t){return me(e.getMinutes(),t.length)},s(e,t){return me(e.getSeconds(),t.length)},S(e,t){const s=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,s-3));return me(i,t.length)}},wn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lf={G:function(e,t,s){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return s.ordinalNumber(i,{unit:"year"})}return Xs.y(e,t)},Y:function(e,t,s,n){const i=fy(e,n),a=i>0?i:1-i;if(t==="YY"){const l=a%100;return me(l,2)}return t==="Yo"?s.ordinalNumber(a,{unit:"year"}):me(a,t.length)},R:function(e,t){const s=hy(e);return me(s,t.length)},u:function(e,t){const s=e.getFullYear();return me(s,t.length)},Q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return me(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return me(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,s){const n=e.getMonth();switch(t){case"M":case"MM":return Xs.M(e,t);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,s){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return me(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,s,n){const i=ok(e,n);return t==="wo"?s.ordinalNumber(i,{unit:"week"}):me(i,t.length)},I:function(e,t,s){const n=ak(e);return t==="Io"?s.ordinalNumber(n,{unit:"week"}):me(n,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):Xs.d(e,t)},D:function(e,t,s){const n=ik(e);return t==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):me(n,t.length)},E:function(e,t,s){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,s,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return me(a,2);case"eo":return s.ordinalNumber(a,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,s,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return me(a,t.length);case"co":return s.ordinalNumber(a,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,s){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return me(i,t.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,s){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,s){const n=e.getHours();let i;switch(n===12?i=wn.noon:n===0?i=wn.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,s){const n=e.getHours();let i;switch(n>=17?i=wn.evening:n>=12?i=wn.afternoon:n>=4?i=wn.morning:i=wn.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return Xs.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):Xs.H(e,t)},K:function(e,t,s){const n=e.getHours()%12;return t==="Ko"?s.ordinalNumber(n,{unit:"hour"}):me(n,t.length)},k:function(e,t,s){let n=e.getHours();return n===0&&(n=24),t==="ko"?s.ordinalNumber(n,{unit:"hour"}):me(n,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xs.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Xs.s(e,t)},S:function(e,t){return Xs.S(e,t)},X:function(e,t,s){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return cf(n);case"XXXX":case"XX":return zr(n);case"XXXXX":case"XXX":default:return zr(n,":")}},x:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"x":return cf(n);case"xxxx":case"xx":return zr(n);case"xxxxx":case"xxx":default:return zr(n,":")}},O:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+of(n,":");case"OOOO":default:return"GMT"+zr(n,":")}},z:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+of(n,":");case"zzzz":default:return"GMT"+zr(n,":")}},t:function(e,t,s){const n=Math.trunc(e.getTime()/1e3);return me(n,t.length)},T:function(e,t,s){const n=e.getTime();return me(n,t.length)}};function of(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?s+String(i):s+String(i)+t+me(a,2)}function cf(e,t){return e%60===0?(e>0?"-":"+")+me(Math.abs(e)/60,2):zr(e,t)}function zr(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),i=me(Math.trunc(n/60),2),a=me(n%60,2);return s+i+t+a}const df=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},xy=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ck=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],n=s[1],i=s[2];if(!i)return df(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",df(n,t)).replace("{{time}}",xy(i,t))},dk={p:xy,P:ck},uk=/^D+$/,hk=/^Y+$/,mk=["D","DD","YY","YYYY"];function pk(e){return uk.test(e)}function fk(e){return hk.test(e)}function xk(e,t,s){const n=gk(e,t,s);if(console.warn(n),mk.includes(e))throw new RangeError(n)}function gk(e,t,s){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bk=/^'([^]*?)'?$/,wk=/''/g,jk=/[a-zA-Z]/;function Nk(e,t,s){var u,h,m,f;const n=Xa(),i=n.locale??py,a=n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,l=n.weekStartsOn??((f=(m=n.locale)==null?void 0:m.options)==null?void 0:f.weekStartsOn)??0,o=fe(e);if(!y4(o))throw new RangeError("Invalid time value");let c=t.match(vk).map(g=>{const x=g[0];if(x==="p"||x==="P"){const w=dk[x];return w(g,i.formatLong)}return g}).join("").match(yk).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const x=g[0];if(x==="'")return{isToken:!1,value:kk(g)};if(lf[x])return{isToken:!0,value:g};if(x.match(jk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(c=i.localize.preprocessor(o,c));const d={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return c.map(g=>{if(!g.isToken)return g.value;const x=g.value;(fk(x)||pk(x))&&xk(x,t,String(e));const w=lf[x[0]];return w(o,x,i.localize,d)}).join("")}function kk(e){const t=e.match(bk);return t?t[1].replace(wk,"'"):e}function Sk(e,t,s){const n=Xa(),i=(s==null?void 0:s.locale)??n.locale??py,a=2520,l=Kl(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const o=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:l});let c,d;l>0?(c=fe(t),d=fe(e)):(c=fe(e),d=fe(t));const u=S4(d,c),h=(Mo(d)-Mo(c))/1e3,m=Math.round((u-h)/60);let f;if(m<2)return s!=null&&s.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,o):u<10?i.formatDistance("lessThanXSeconds",10,o):u<20?i.formatDistance("lessThanXSeconds",20,o):u<40?i.formatDistance("halfAMinute",0,o):u<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):m===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",m,o);if(m<45)return i.formatDistance("xMinutes",m,o);if(m<90)return i.formatDistance("aboutXHours",1,o);if(m<af){const g=Math.round(m/60);return i.formatDistance("aboutXHours",g,o)}else{if(m<a)return i.formatDistance("xDays",1,o);if(m<Nl){const g=Math.round(m/af);return i.formatDistance("xDays",g,o)}else if(m<Nl*2)return f=Math.round(m/Nl),i.formatDistance("aboutXMonths",f,o)}if(f=k4(d,c),f<12){const g=Math.round(m/Nl);return i.formatDistance("xMonths",g,o)}else{const g=f%12,x=Math.trunc(f/12);return g<3?i.formatDistance("aboutXYears",x,o):g<9?i.formatDistance("overXYears",x,o):i.formatDistance("almostXYears",x+1,o)}}function gy(e,t){return Sk(e,x4(e),t)}function Ao(e,t){const n=Pk(e);let i;if(n.date){const c=Rk(n.date,2);i=Tk(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let l=0,o;if(n.time&&(l=Mk(n.time),isNaN(l)))return new Date(NaN);if(n.timezone){if(o=Ak(n.timezone),isNaN(o))return new Date(NaN)}else{const c=new Date(a+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+l+o)}const kl={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ck=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,_k=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ek=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Pk(e){const t={},s=e.split(kl.dateTimeDelimiter);let n;if(s.length>2)return t;if(/:/.test(s[0])?n=s[0]:(t.date=s[0],n=s[1],kl.timeZoneDelimiter.test(t.date)&&(t.date=e.split(kl.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=kl.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function Rk(e,t){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(s);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function Tk(e,t){if(t===null)return new Date(NaN);const s=e.match(Ck);if(!s)return new Date(NaN);const n=!!s[4],i=Ui(s[1]),a=Ui(s[2])-1,l=Ui(s[3]),o=Ui(s[4]),c=Ui(s[5])-1;if(n)return Fk(t,o,c)?Dk(t,o,c):new Date(NaN);{const d=new Date(0);return!Ok(t,a,l)||!Ik(t,i)?new Date(NaN):(d.setUTCFullYear(t,a,Math.max(i,l)),d)}}function Ui(e){return e?parseInt(e):1}function Mk(e){const t=e.match(_k);if(!t)return NaN;const s=Jc(t[1]),n=Jc(t[2]),i=Jc(t[3]);return Uk(s,n,i)?s*uy+n*dy+i*1e3:NaN}function Jc(e){return e&&parseFloat(e.replace(",","."))||0}function Ak(e){if(e==="Z")return 0;const t=e.match(Ek);if(!t)return 0;const s=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return qk(n,i)?s*(n*uy+i*dy):NaN}function Dk(e,t,s){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,a=(t-1)*7+s+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const Lk=[31,null,31,30,31,30,31,31,30,31,30,31];function yy(e){return e%400===0||e%4===0&&e%100!==0}function Ok(e,t,s){return t>=0&&t<=11&&s>=1&&s<=(Lk[t]||(yy(e)?29:28))}function Ik(e,t){return t>=1&&t<=(yy(e)?366:365)}function Fk(e,t,s){return t>=1&&t<=53&&s>=0&&s<=6}function Uk(e,t,s){return e===24?t===0&&s===0:s>=0&&s<60&&t>=0&&t<60&&e>=0&&e<25}function qk(e,t){return t>=0&&t<=59}function ce(...e){return u4(A2(e))}function Pt(e){if(!e)return"N/A";const t=typeof e=="string"?Ao(e):e;return Nk(t,"MMM d, yyyy h:mm a")}function Pr(e){if(!e)return"N/A";const t=typeof e=="string"?Ao(e):e;return gy(t,{addSuffix:!0})}function zk(e){switch(e){case"active":return"bg-green-500/20 text-green-400 border-green-500/30";case"permanent":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"expired":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"revoked":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}}function Bk(e){switch(e){case"role":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"manual":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"donation":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"import":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}}async function $k(e){if(navigator.clipboard&&window.isSecureContext)try{return await navigator.clipboard.writeText(e),!0}catch{}try{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();const s=document.execCommand("copy");return document.body.removeChild(t),s}catch{return!1}}function vy(e){switch(e){case"info":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"warn":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"error":return"bg-red-500/20 text-red-400 border-red-500/30";case"critical":return"bg-red-700/30 text-red-300 border-red-600/40";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}}function by(e){return e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase())}const Hk=[{name:"Dashboard",href:"/",icon:p2},{name:"Players",href:"/players",icon:R2,permission:"VIEW_PLAYERS"},{name:"Members",href:"/members",icon:rt,permission:"VIEW_MEMBERS"},{name:"Seeding",href:"/seeding",icon:Z0,permission:"VIEW_SEEDING"},{name:"Duty Stats",href:"/duty",icon:Ht,permission:"VIEW_DUTY"},{name:"Audit Logs",href:"/audit",icon:ut,permission:"VIEW_AUDIT"},{name:"Unlinked Staff",href:"/security/unlinked-staff",icon:ty,permission:"VIEW_SECURITY"},{name:"Permissions",href:"/admin/permissions",icon:h2,permission:"MANAGE_PERMISSIONS"},{name:"Squad Groups",href:"/admin/squadgroups",icon:m2,permission:"MANAGE_PERMISSIONS"},{name:"Stats Templates",href:"/admin/stats-templates",icon:Vl,permission:"VIEW_STATS_TEMPLATES"},{name:"Duty Settings",href:"/admin/duty-settings",icon:vs,permission:"MANAGE_DUTY_SETTINGS"},{name:"Info Buttons",href:"/admin/info-buttons",icon:Ea,permission:"MANAGE_INFO_BUTTONS"},{name:"Connections",href:"/admin/connections",icon:J0,permission:"MANAGE_CONNECTIONS"},{name:"My Settings",href:"/settings",icon:vs}];function Wk(){const{hasPermission:e}=Q(),t=Hk.filter(s=>s.permission?e(s.permission):!0);return r.jsxs("div",{className:"w-64 bg-discord-darker flex flex-col",children:[r.jsx("div",{className:"h-16 flex items-center px-6 border-b border-discord-light",children:r.jsx("h1",{className:"text-xl font-bold text-white",children:"Roster Control"})}),r.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1",children:t.map(s=>r.jsxs(xN,{to:s.disabled?"#":s.href,onClick:n=>s.disabled&&n.preventDefault(),className:({isActive:n})=>ce("flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors",s.disabled?"text-gray-600 cursor-not-allowed":n?"bg-discord-blurple text-white":"text-gray-300 hover:bg-discord-light hover:text-white"),children:[r.jsx(s.icon,{className:"w-5 h-5"}),s.name,s.disabled&&r.jsx("span",{className:"ml-auto text-xs bg-discord-light px-2 py-0.5 rounded",children:"Soon"})]},s.name))}),r.jsx("div",{className:"p-4 border-t border-discord-light",children:r.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Roster Control v1.0"})})]})}function Vk(){var l;const{user:e,logout:t}=Q(),[s,n]=j.useState(!1),i=j.useRef(null);j.useEffect(()=>{function o(c){i.current&&!i.current.contains(c.target)&&n(!1)}return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]);const a=async()=>{await t(),window.location.href="/login"};return r.jsx("header",{className:"h-16 bg-discord-light border-b border-discord-lighter flex items-center justify-end px-6",children:r.jsxs("div",{className:"relative",ref:i,children:[r.jsxs("button",{onClick:()=>n(!s),className:"flex items-center gap-3 hover:bg-discord-lighter px-3 py-2 rounded-md transition-colors",children:[r.jsx("img",{src:e==null?void 0:e.avatarUrl,alt:e==null?void 0:e.username,className:"w-8 h-8 rounded-full"}),r.jsx("span",{className:"text-sm font-medium text-white",children:(e==null?void 0:e.displayName)||(e==null?void 0:e.username)}),r.jsx(Ka,{className:"w-4 h-4 text-gray-400"})]}),s&&r.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-discord-darker rounded-md shadow-lg border border-discord-lighter py-1 z-50",children:[r.jsxs("div",{className:"px-4 py-2 border-b border-discord-lighter",children:[r.jsx("p",{className:"text-sm font-medium text-white",children:e==null?void 0:e.username}),r.jsxs("p",{className:"text-xs text-gray-400",children:[((l=e==null?void 0:e.roles)==null?void 0:l.length)||0," roles"]})]}),r.jsxs("button",{onClick:a,className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-400 hover:bg-discord-light transition-colors",children:[r.jsx(x2,{className:"w-4 h-4"}),"Sign out"]})]})]})})}function Kk(){return r.jsxs("div",{className:"min-h-screen bg-discord-dark flex",children:[r.jsx(Wk,{}),r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsx(Vk,{}),r.jsx("main",{className:"flex-1 p-6 overflow-auto",children:r.jsx(y0,{})})]})]})}function Qk(){const{user:e,isLoading:t,login:s}=Q(),n=Hs();return j.useEffect(()=>{e&&!t&&n("/",{replace:!0})},[e,t,n]),t?r.jsx("div",{className:"min-h-screen bg-discord-dark flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-discord-blurple"})}):r.jsx("div",{className:"min-h-screen bg-discord-dark flex items-center justify-center",children:r.jsxs("div",{className:"bg-discord-light rounded-lg p-8 max-w-md w-full mx-4 shadow-xl",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Roster Control"}),r.jsx("p",{className:"text-gray-400",children:"Dashboard for Squad server management"})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("button",{onClick:s,className:"w-full bg-discord-blurple hover:bg-discord-blurple/80 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center gap-3 transition-colors",children:[r.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"})}),"Login with Discord"]})}),r.jsx("div",{className:"mt-8 pt-6 border-t border-discord-lighter",children:r.jsx("p",{className:"text-sm text-gray-500 text-center",children:"You must be a member of the Discord server with appropriate roles to access the dashboard."})})]})})}const bs=Object.create(null);bs.open="0";bs.close="1";bs.ping="2";bs.pong="3";bs.message="4";bs.upgrade="5";bs.noop="6";const Ql=Object.create(null);Object.keys(bs).forEach(e=>{Ql[bs[e]]=e});const Eu={type:"error",data:"parser error"},wy=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",jy=typeof ArrayBuffer=="function",Ny=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Zh=({type:e,data:t},s,n)=>wy&&t instanceof Blob?s?n(t):uf(t,n):jy&&(t instanceof ArrayBuffer||Ny(t))?s?n(t):uf(new Blob([t]),n):n(bs[e]+(t||"")),uf=(e,t)=>{const s=new FileReader;return s.onload=function(){const n=s.result.split(",")[1];t("b"+(n||""))},s.readAsDataURL(e)};function hf(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Zc;function Gk(e,t){if(wy&&e.data instanceof Blob)return e.data.arrayBuffer().then(hf).then(t);if(jy&&(e.data instanceof ArrayBuffer||Ny(e.data)))return t(hf(e.data));Zh(e,!1,s=>{Zc||(Zc=new TextEncoder),t(Zc.encode(s))})}const mf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vi=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<mf.length;e++)Vi[mf.charCodeAt(e)]=e;const Yk=e=>{let t=e.length*.75,s=e.length,n,i=0,a,l,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(n=0;n<s;n+=4)a=Vi[e.charCodeAt(n)],l=Vi[e.charCodeAt(n+1)],o=Vi[e.charCodeAt(n+2)],c=Vi[e.charCodeAt(n+3)],u[i++]=a<<2|l>>4,u[i++]=(l&15)<<4|o>>2,u[i++]=(o&3)<<6|c&63;return d},Xk=typeof ArrayBuffer=="function",em=(e,t)=>{if(typeof e!="string")return{type:"message",data:ky(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:Jk(e.substring(1),t)}:Ql[s]?e.length>1?{type:Ql[s],data:e.substring(1)}:{type:Ql[s]}:Eu},Jk=(e,t)=>{if(Xk){const s=Yk(e);return ky(s,t)}else return{base64:!0,data:e}},ky=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Sy="",Zk=(e,t)=>{const s=e.length,n=new Array(s);let i=0;e.forEach((a,l)=>{Zh(a,!1,o=>{n[l]=o,++i===s&&t(n.join(Sy))})})},eS=(e,t)=>{const s=e.split(Sy),n=[];for(let i=0;i<s.length;i++){const a=em(s[i],t);if(n.push(a),a.type==="error")break}return n};function tS(){return new TransformStream({transform(e,t){Gk(e,s=>{const n=s.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(s)})}})}let ed;function Sl(e){return e.reduce((t,s)=>t+s.length,0)}function Cl(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)s[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),s}function sS(e,t){ed||(ed=new TextDecoder);const s=[];let n=0,i=-1,a=!1;return new TransformStream({transform(l,o){for(s.push(l);;){if(n===0){if(Sl(s)<1)break;const c=Cl(s,1);a=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Sl(s)<2)break;const c=Cl(s,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(Sl(s)<8)break;const c=Cl(s,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){o.enqueue(Eu);break}i=u*Math.pow(2,32)+d.getUint32(4),n=3}else{if(Sl(s)<i)break;const c=Cl(s,i);o.enqueue(em(a?c:ed.decode(c),t)),n=0}if(i===0||i>e){o.enqueue(Eu);break}}}})}const Cy=4;function Fe(e){if(e)return rS(e)}function rS(e){for(var t in Fe.prototype)e[t]=Fe.prototype[t];return e}Fe.prototype.on=Fe.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Fe.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};Fe.prototype.off=Fe.prototype.removeListener=Fe.prototype.removeAllListeners=Fe.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<s.length;i++)if(n=s[i],n===t||n.fn===t){s.splice(i,1);break}return s.length===0&&delete this._callbacks["$"+e],this};Fe.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(s){s=s.slice(0);for(var n=0,i=s.length;n<i;++n)s[n].apply(this,t)}return this};Fe.prototype.emitReserved=Fe.prototype.emit;Fe.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Fe.prototype.hasListeners=function(e){return!!this.listeners(e).length};const dc=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),Ut=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),nS="arraybuffer";function _y(e,...t){return t.reduce((s,n)=>(e.hasOwnProperty(n)&&(s[n]=e[n]),s),{})}const iS=Ut.setTimeout,aS=Ut.clearTimeout;function uc(e,t){t.useNativeTimers?(e.setTimeoutFn=iS.bind(Ut),e.clearTimeoutFn=aS.bind(Ut)):(e.setTimeoutFn=Ut.setTimeout.bind(Ut),e.clearTimeoutFn=Ut.clearTimeout.bind(Ut))}const lS=1.33;function oS(e){return typeof e=="string"?cS(e):Math.ceil((e.byteLength||e.size)*lS)}function cS(e){let t=0,s=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(n++,s+=4);return s}function Ey(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function dS(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function uS(e){let t={},s=e.split("&");for(let n=0,i=s.length;n<i;n++){let a=s[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class hS extends Error{constructor(t,s,n){super(t),this.description=s,this.context=n,this.type="TransportError"}}class tm extends Fe{constructor(t){super(),this.writable=!1,uc(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,s,n){return super.emitReserved("error",new hS(t,s,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=em(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=dS(t);return s.length?"?"+s:""}}class mS extends tm{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||s()})),this.writable||(n++,this.once("drain",function(){--n||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};eS(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Zk(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=Ey()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}}let Py=!1;try{Py=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const pS=Py;function fS(){}class xS extends mS{constructor(t){if(super(t),typeof location<"u"){const s=location.protocol==="https:";let n=location.port;n||(n=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,s){const n=this.request({method:"POST",data:t});n.on("success",s),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,n)=>{this.onError("xhr poll error",s,n)}),this.pollXhr=t}}class ys extends Fe{constructor(t,s,n){super(),this.createRequest=t,uc(this,n),this._opts=n,this._method=n.method||"GET",this._uri=s,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const s=_y(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(s);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=ys.requestsCount++,ys.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=fS,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ys.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ys.requestsCount=0;ys.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",pf);else if(typeof addEventListener=="function"){const e="onpagehide"in Ut?"pagehide":"unload";addEventListener(e,pf,!1)}}function pf(){for(let e in ys.requests)ys.requests.hasOwnProperty(e)&&ys.requests[e].abort()}const gS=function(){const e=Ry({xdomain:!1});return e&&e.responseType!==null}();class yS extends xS{constructor(t){super(t);const s=t&&t.forceBase64;this.supportsBinary=gS&&!s}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new ys(Ry,this.uri(),t)}}function Ry(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||pS))return new XMLHttpRequest}catch{}if(!t)try{return new Ut[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Ty=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class vS extends tm{get name(){return"websocket"}doOpen(){const t=this.uri(),s=this.opts.protocols,n=Ty?{}:_y(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,s,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],i=s===t.length-1;Zh(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}i&&dc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=Ey()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}}const td=Ut.WebSocket||Ut.MozWebSocket;class bS extends vS{createSocket(t,s,n){return Ty?new td(t,s,n):s?new td(t,s):new td(t)}doWrite(t,s){this.ws.send(s)}}class wS extends tm{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=sS(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(s).getReader(),i=tS();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{n.read().then(({done:o,value:c})=>{o||(this.onPacket(c),a())}).catch(o=>{})};a();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],i=s===t.length-1;this._writer.write(n).then(()=>{i&&dc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const jS={websocket:bS,webtransport:wS,polling:yS},NS=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,kS=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Pu(e){if(e.length>8e3)throw"URI too long";const t=e,s=e.indexOf("["),n=e.indexOf("]");s!=-1&&n!=-1&&(e=e.substring(0,s)+e.substring(s,n).replace(/:/g,";")+e.substring(n,e.length));let i=NS.exec(e||""),a={},l=14;for(;l--;)a[kS[l]]=i[l]||"";return s!=-1&&n!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=SS(a,a.path),a.queryKey=CS(a,a.query),a}function SS(e,t){const s=/\/{2,9}/g,n=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function CS(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(s[i]=a)}),s}const Ru=typeof addEventListener=="function"&&typeof removeEventListener=="function",Gl=[];Ru&&addEventListener("offline",()=>{Gl.forEach(e=>e())},!1);class Rr extends Fe{constructor(t,s){if(super(),this.binaryType=nS,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(s=t,t=null),t){const n=Pu(t);s.hostname=n.host,s.secure=n.protocol==="https"||n.protocol==="wss",s.port=n.port,n.query&&(s.query=n.query)}else s.host&&(s.hostname=Pu(s.host).host);uc(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=uS(this.opts.query)),Ru&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Gl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=Cy,s.transport=t,this.id&&(s.sid=this.id);const n=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Rr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(t);s.open(),this.setTransport(s)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",Rr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=t.data,this._onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(s+=oS(i)),n>0&&s>this._maxPayload)return this.writeBuffer.slice(0,n);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,dc(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,s,n){return this._sendPacket("message",t,s,n),this}send(t,s,n){return this._sendPacket("message",t,s,n),this}_sendPacket(t,s,n,i){if(typeof s=="function"&&(i=s,s=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:t,data:s,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},n=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Rr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ru&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Gl.indexOf(this._offlineEventListener);n!==-1&&Gl.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this._prevBufferLen=0}}}Rr.protocol=Cy;class _S extends Rr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let s=this.createTransport(t),n=!1;Rr.priorWebsocketSuccess=!1;const i=()=>{n||(s.send([{type:"ping",data:"probe"}]),s.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Rr.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=s.name,this.emitReserved("upgradeError",m)}}))};function a(){n||(n=!0,u(),s.close(),s=null)}const l=h=>{const m=new Error("probe error: "+h);m.transport=s.name,a(),this.emitReserved("upgradeError",m)};function o(){l("transport closed")}function c(){l("socket closed")}function d(h){s&&h.name!==s.name&&a()}const u=()=>{s.removeListener("open",i),s.removeListener("error",l),s.removeListener("close",o),this.off("close",c),this.off("upgrading",d)};s.once("open",i),s.once("error",l),s.once("close",o),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||s.open()},200):s.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const s=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&s.push(t[n]);return s}}let ES=class extends _S{constructor(t,s={}){const n=typeof t=="object"?t:s;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>jS[i]).filter(i=>!!i)),super(t,n)}};function PS(e,t="",s){let n=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),n=Pu(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(s&&s.port===n.port?"":":"+n.port),n}const RS=typeof ArrayBuffer=="function",TS=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,My=Object.prototype.toString,MS=typeof Blob=="function"||typeof Blob<"u"&&My.call(Blob)==="[object BlobConstructor]",AS=typeof File=="function"||typeof File<"u"&&My.call(File)==="[object FileConstructor]";function sm(e){return RS&&(e instanceof ArrayBuffer||TS(e))||MS&&e instanceof Blob||AS&&e instanceof File}function Yl(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,n=e.length;s<n;s++)if(Yl(e[s]))return!0;return!1}if(sm(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Yl(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&Yl(e[s]))return!0;return!1}function DS(e){const t=[],s=e.data,n=e;return n.data=Tu(s,t),n.attachments=t.length,{packet:n,buffers:t}}function Tu(e,t){if(!e)return e;if(sm(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let n=0;n<e.length;n++)s[n]=Tu(e[n],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=Tu(e[n],t));return s}return e}function LS(e,t){return e.data=Mu(e.data,t),delete e.attachments,e}function Mu(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=Mu(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=Mu(e[s],t));return e}const OS=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],IS=5;var oe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(oe||(oe={}));class FS{constructor(t){this.replacer=t}encode(t){return(t.type===oe.EVENT||t.type===oe.ACK)&&Yl(t)?this.encodeAsBinary({type:t.type===oe.EVENT?oe.BINARY_EVENT:oe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===oe.BINARY_EVENT||t.type===oe.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=DS(t),n=this.encodeAsString(s.packet),i=s.buffers;return i.unshift(n),i}}function ff(e){return Object.prototype.toString.call(e)==="[object Object]"}class rm extends Fe{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const n=s.type===oe.BINARY_EVENT;n||s.type===oe.BINARY_ACK?(s.type=n?oe.EVENT:oe.ACK,this.reconstructor=new US(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(sm(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const n={type:Number(t.charAt(0))};if(oe[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===oe.BINARY_EVENT||n.type===oe.BINARY_ACK){const a=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const l=t.substring(a,s);if(l!=Number(l)||t.charAt(s)!=="-")throw new Error("Illegal attachments");n.attachments=Number(l)}if(t.charAt(s+1)==="/"){const a=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););n.nsp=t.substring(a,s)}else n.nsp="/";const i=t.charAt(s+1);if(i!==""&&Number(i)==i){const a=s+1;for(;++s;){const l=t.charAt(s);if(l==null||Number(l)!=l){--s;break}if(s===t.length)break}n.id=Number(t.substring(a,s+1))}if(t.charAt(++s)){const a=this.tryParse(t.substr(s));if(rm.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case oe.CONNECT:return ff(s);case oe.DISCONNECT:return s===void 0;case oe.CONNECT_ERROR:return typeof s=="string"||ff(s);case oe.EVENT:case oe.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&OS.indexOf(s[0])===-1);case oe.ACK:case oe.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class US{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=LS(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const qS=Object.freeze(Object.defineProperty({__proto__:null,Decoder:rm,Encoder:FS,get PacketType(){return oe},protocol:IS},Symbol.toStringTag,{value:"Module"}));function Zt(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const zS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ay extends Fe{constructor(t,s,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Zt(t,"open",this.onopen.bind(this)),Zt(t,"packet",this.onpacket.bind(this)),Zt(t,"error",this.onerror.bind(this)),Zt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){var n,i,a;if(zS.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const l={type:oe.EVENT,data:s};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const u=this.ids++,h=s.pop();this._registerAckCallback(u,h),l.id=u}const o=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!o||(c?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(t,s){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=s;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);s.call(this,new Error("operation has timed out"))},i),l=(...o)=>{this.io.clearTimeoutFn(a),s.apply(this,o)};l.withError=!0,this.acks[t]=l}emitWithAck(t,...s){return new Promise((n,i)=>{const a=(l,o)=>l?i(l):n(o);a.withError=!0,s.push(a),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(i)):(this._queue.shift(),s&&s(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:oe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case oe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case oe.EVENT:case oe.BINARY_EVENT:this.onevent(t);break;case oe.ACK:case oe.BINARY_ACK:this.onack(t);break;case oe.DISCONNECT:this.ondisconnect();break;case oe.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const n of s)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let n=!1;return function(...i){n||(n=!0,s.packet({type:oe.ACK,id:t,data:i}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:oe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const n of s)n.apply(this,t.data)}}}function ki(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ki.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+s:e-s}return Math.min(e,this.max)|0};ki.prototype.reset=function(){this.attempts=0};ki.prototype.setMin=function(e){this.ms=e};ki.prototype.setMax=function(e){this.max=e};ki.prototype.setJitter=function(e){this.jitter=e};class Au extends Fe{constructor(t,s){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,uc(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((n=s.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new ki({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const i=s.parser||qS;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new ES(this.uri,this.opts);const s=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Zt(s,"open",function(){n.onopen(),t&&t()}),a=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),t?t(o):this.maybeReconnectOnOpen()},l=Zt(s,"error",a);if(this._timeout!==!1){const o=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),s.close()},o);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Zt(t,"ping",this.onping.bind(this)),Zt(t,"data",this.ondata.bind(this)),Zt(t,"error",this.onerror.bind(this)),Zt(t,"close",this.onclose.bind(this)),Zt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){dc(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new Ay(this,t,s),this.nsps[t]=n),n}_destroy(t){const s=Object.keys(this.nsps);for(const n of s)if(this.nsps[n].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let n=0;n<s.length;n++)this.engine.write(s[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,s){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},s);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const qi={};function Xl(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=PS(e,t.path||"/socket.io"),n=s.source,i=s.id,a=s.path,l=qi[i]&&a in qi[i].nsps,o=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let c;return o?c=new Au(n,t):(qi[i]||(qi[i]=new Au(n,t)),c=qi[i]),s.query&&!t.query&&(t.query=s.queryKey),c.socket(s.path,t)}Object.assign(Xl,{Manager:Au,Socket:Ay,io:Xl,connect:Xl});let We=null,sd=0;const xf=10,Du=new Set;function BS(){return We||(We=Xl({path:"/socket.io",withCredentials:!0,autoConnect:!1,reconnectionAttempts:xf,reconnectionDelay:1e3,reconnectionDelayMax:5e3}),We.on("connect",()=>{sd=0,console.log("[Socket] Connected to server")}),We.on("disconnect",e=>{console.log("[Socket] Disconnected:",e)}),We.on("connect_error",e=>{sd++,console.error("[Socket] Connection error:",e.message),sd>=xf&&console.warn("[Socket] Max reconnection attempts reached")}),We.on("serverStatus",e=>{Du.forEach(t=>{try{t(e)}catch(s){console.error("[Socket] Error in serverStatus handler:",s)}})})),We}function $S(){const e=BS();e.connected||e.connect()}function HS(){We!=null&&We.connected&&We.disconnect()}function WS(){return(We==null?void 0:We.connected)??!1}function VS(e){return Du.add(e),()=>{Du.delete(e)}}function gf(){We!=null&&We.connected&&We.emit("requestServerStatus")}async function KS(){const{data:e}=await M.get("/servers/status");return e.data}function QS(){const{user:e}=Q(),[t,s]=j.useState(!1),[n,i]=j.useState(null),{data:a,isLoading:l,error:o,refetch:c}=J({queryKey:["servers","status"],queryFn:KS,enabled:!!e,refetchInterval:t?!1:3e4,staleTime:1e4}),[d,u]=j.useState(null),h=j.useCallback(f=>{u(f.servers),i(f.timestamp)},[]);return j.useEffect(()=>{if(!e)return;$S();const f=()=>{s(WS())},g=VS(h),x=setInterval(f,1e3);return f(),()=>{g(),clearInterval(x),HS()}},[e,h]),j.useEffect(()=>{t&&gf()},[t]),{servers:d??a??[],isLoading:l&&!d,error:o,socketConnected:t,lastUpdate:n,refresh:()=>{t?gf():c()}}}const Jl={staff:{hidden:!1,defaultExpanded:!0},members:{hidden:!1,defaultExpanded:!1},public:{hidden:!1,defaultExpanded:!1}},Dy={dashboard:{sections:Jl}},Ly="roster_control_preferences",Oy="roster_control_preferences_timestamp";function GS(){try{const e=localStorage.getItem(Ly);if(e)return JSON.parse(e)}catch{}return Dy}function yf(e){localStorage.setItem(Ly,JSON.stringify(e)),localStorage.setItem(Oy,new Date().toISOString())}function YS(){return localStorage.getItem(Oy)}function Iy(e,t){const s={...e};for(const n of Object.keys(t)){const i=t[n];i&&typeof i=="object"&&!Array.isArray(i)?s[n]=Iy(e[n]||{},i):i!==void 0&&(s[n]=i)}return s}function nm(){const{user:e}=Q(),t=X(),[s,n]=j.useState(GS),i=j.useRef(!1),{data:a,isLoading:l}=J({queryKey:["userPreferences"],queryFn:Zp.get,enabled:!!e,staleTime:1e3*60*5}),o=ee({mutationFn:Zp.update,onSuccess:h=>{t.setQueryData(["userPreferences"],{success:!0,preferences:h.preferences,lastSync:h.lastSync})}});j.useEffect(()=>{if(a!=null&&a.preferences&&!i.current){const h=YS(),m=a.lastSync;if(!h||m&&new Date(m)>new Date(h)){const f=Iy(Dy,a.preferences);n(f),yf(f)}else o.mutate(s);i.current=!0}},[a,s,o]);const c=j.useCallback((h,m)=>{n(f=>{var w,p,b;const g=((p=(w=f.dashboard)==null?void 0:w.sections)==null?void 0:p[h])||Jl[h],x={...f,dashboard:{...f.dashboard,sections:{...Jl,...(b=f.dashboard)==null?void 0:b.sections,[h]:{...g,...m}}}};if(yf(x),e){const y={dashboard:{sections:{[h]:{...g,...m}}}};o.mutate(y)}return x})},[e,o]),d=j.useCallback(h=>{var m,f;return{...Jl[h],...(f=(m=s.dashboard)==null?void 0:m.sections)==null?void 0:f[h]}},[s]),u=j.useCallback(()=>({staff:d("staff"),members:d("members"),public:d("public")}),[d]);return{preferences:s,isLoading:l&&!i.current,isSyncing:o.isPending,updateSectionPreference:c,getSectionPreferences:d,getAllSectionPreferences:u}}function XS(e,t){const s=e/t*100;return s>=90?"text-green-400":s>=50?"text-yellow-400":s>=20?"text-orange-400":"text-gray-400"}function JS(e){const t=e.replace("#",""),s=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),i=parseInt(t.substring(4,6),16);return(.299*s+.587*n+.114*i)/255>.5?"#1a1a1a":"#ffffff"}function Fy(e){return e?{backgroundColor:e,color:JS(e)}:{}}function ZS(e){if(!e.connected)return{color:"text-red-400",label:"Disconnected"};switch(e.state){case"connected":return{color:"text-green-400",label:"Connected"};case"degraded":return{color:"text-yellow-400",label:"Degraded"};case"connecting":return{color:"text-blue-400",label:"Connecting"};case"failed":return{color:"text-red-400",label:"Failed"};default:return{color:"text-gray-400",label:e.state||"Unknown"}}}function rd({title:e,icon:t,iconColor:s,count:n,isExpanded:i,onToggle:a,children:l,emptyMessage:o="None",hidden:c}){return c?null:r.jsxs("div",{className:"border-t border-discord-darker pt-3 pb-3",children:[r.jsxs("button",{onClick:a,className:"flex items-center gap-1.5 w-full text-left hover:bg-discord-darker/50 -mx-2 px-2 py-1 rounded transition-colors",children:[i?r.jsx(Ka,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}):r.jsx(ji,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),r.jsx("span",{className:`w-4 h-4 ${s} flex-shrink-0`,children:t}),r.jsxs("span",{className:"text-sm text-gray-400",children:[e," (",n,")"]})]}),i&&r.jsx("div",{className:"mt-2 ml-6",children:n>0?l:r.jsx("p",{className:"text-sm text-gray-500 italic",children:o})})]})}function eC({staff:e}){return r.jsx("div",{className:"space-y-1.5",children:e.map(t=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx(Ke,{to:`/players/${t.steamId}`,className:"text-white truncate flex-1 mr-2 hover:text-discord-blurple transition-colors",children:t.displayName}),r.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-discord-darker text-gray-300 flex-shrink-0",style:Fy(t.roleColor),children:t.role})]},t.discordId))})}function tC({members:e}){return r.jsx("div",{className:"space-y-1.5",children:e.map(t=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx(Ke,{to:`/players/${t.steamId}`,className:"text-white truncate flex-1 mr-2 hover:text-discord-blurple transition-colors",children:t.displayName}),r.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-discord-darker text-gray-300 flex-shrink-0",style:Fy(t.roleColor),children:"Member"})]},t.discordId))})}function sC({players:e}){return r.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:e.map(t=>r.jsx(Ke,{to:`/players/${t.steamId}`,className:"block text-sm text-gray-400 truncate hover:text-discord-blurple transition-colors",children:t.displayName},t.steamId))})}function rC({server:e,expandedSections:t,onToggleSection:s,sectionPreferences:n}){var w,p,b,y,v,S;const i=ZS(e),a=e.connected?e.playerCount:0,l=e.connected?XS(e.playerCount,e.maxPlayers):"text-gray-500",o=e.connected?e.publicQueue+e.reserveQueue:0,c=o>0,d=`${e.id}-staff`,u=`${e.id}-members`,h=`${e.id}-public`,m=e.connected,f=m?((w=e.onlineStaff)==null?void 0:w.length)??0:0,g=m?((p=e.onlineMembers)==null?void 0:p.length)??0:0,x=m?((b=e.onlinePublic)==null?void 0:b.length)??0:0;return r.jsxs("div",{className:"bg-discord-light rounded-lg p-5 hover:bg-discord-lighter transition-colors",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-lg font-semibold text-white truncate",children:e.name}),r.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[e.connected?r.jsx(Xh,{className:`w-3.5 h-3.5 ${i.color}`}):r.jsx(Yh,{className:`w-3.5 h-3.5 ${i.color}`}),r.jsx("span",{className:`text-xs ${i.color}`,children:i.label})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`text-2xl font-bold ${l}`,children:[a,r.jsxs("span",{className:"text-gray-500 text-lg",children:["/",e.maxPlayers]})]}),r.jsxs("div",{className:"flex items-center gap-1 justify-end text-xs text-gray-400",children:[r.jsx(rt,{className:"w-3 h-3"}),r.jsx("span",{children:"players"})]}),c&&r.jsxs("div",{className:"flex items-center gap-1 justify-end text-xs text-yellow-400 mt-1",children:[r.jsx(Ht,{className:"w-3 h-3"}),r.jsxs("span",{children:[o," in queue"]}),e.reserveQueue>0&&r.jsxs("span",{className:"text-gray-500",children:["(",e.reserveQueue," res)"]})]})]})]}),r.jsx(rd,{title:"Staff Online",icon:r.jsx(ut,{className:"w-4 h-4"}),iconColor:"text-discord-blurple",count:f,isExpanded:t[d]??!1,onToggle:()=>s(e.id,"staff"),emptyMessage:m?"No staff online":"Server disconnected",hidden:(y=n==null?void 0:n.staff)==null?void 0:y.hidden,children:r.jsx(eC,{staff:m?e.onlineStaff||[]:[]})}),r.jsx(rd,{title:"Members",icon:r.jsx(ey,{className:"w-4 h-4"}),iconColor:"text-green-400",count:g,isExpanded:t[u]??!1,onToggle:()=>s(e.id,"members"),emptyMessage:m?"No members online":"Server disconnected",hidden:(v=n==null?void 0:n.members)==null?void 0:v.hidden,children:r.jsx(tC,{members:m?e.onlineMembers||[]:[]})}),r.jsx(rd,{title:"Public",icon:r.jsx(rt,{className:"w-4 h-4"}),iconColor:"text-gray-400",count:x,isExpanded:t[h]??!1,onToggle:()=>s(e.id,"public"),emptyMessage:m?"No public players":"Server disconnected",hidden:(S=n==null?void 0:n.public)==null?void 0:S.hidden,children:r.jsx(sC,{players:m?e.onlinePublic||[]:[]})})]})}function nC(){const[e,t]=Fh(),[s,n]=j.useState(!1),[i,a]=j.useState({}),l=j.useRef(!1),{servers:o,isLoading:c,error:d,socketConnected:u,lastUpdate:h,refresh:m}=QS(),{getAllSectionPreferences:f}=nm(),g=f();j.useEffect(()=>{if(o.length>0&&!l.current){const y=f(),v={};o.forEach(S=>{v[`${S.id}-staff`]=y.staff.defaultExpanded,v[`${S.id}-members`]=y.members.defaultExpanded,v[`${S.id}-public`]=y.public.defaultExpanded}),a(v),l.current=!0}},[o,f]);const x=j.useCallback((y,v)=>{const S=`${y}-${v}`;a(C=>({...C,[S]:!C[S]}))},[]);j.useEffect(()=>{e.get("error")==="permission_denied"&&(n(!0),e.delete("error"),t(e,{replace:!0}))},[e,t]);const w=o.reduce((y,v)=>y+v.playerCount,0),p=o.reduce((y,v)=>y+v.maxPlayers,0),b=o.filter(y=>y.connected).length;return r.jsxs("div",{className:"space-y-6",children:[s&&r.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(Ge,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-red-400 font-medium",children:"Permission Denied"}),r.jsx("p",{className:"text-gray-300 text-sm mt-1",children:"You no longer have permission to access that resource. Your roles may have changed."})]}),r.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-white",children:""})]}),r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Server Status"}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Real-time overview of all Squad servers"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex items-center gap-1.5 text-sm",children:u?r.jsxs(r.Fragment,{children:[r.jsx(Xh,{className:"w-4 h-4 text-green-400"}),r.jsx("span",{className:"text-green-400",children:"Live"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Yh,{className:"w-4 h-4 text-yellow-400"}),r.jsx("span",{className:"text-yellow-400",children:"Polling"})]})}),r.jsx("button",{onClick:m,disabled:c,className:"p-2 rounded-md bg-discord-light hover:bg-discord-lighter transition-colors disabled:opacity-50",title:"Refresh server status",children:r.jsx(dt,{className:`w-4 h-4 text-gray-400 ${c?"animate-spin":""}`})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-discord-light rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-discord-blurple/20 p-2 rounded-lg",children:r.jsx(Ro,{className:"w-5 h-5 text-discord-blurple"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Servers"}),r.jsxs("p",{className:"text-xl font-bold text-white",children:[b,r.jsxs("span",{className:"text-gray-500 text-sm font-normal",children:["/",o.length]})]})]})]})}),r.jsx("div",{className:"bg-discord-light rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-green-500/20 p-2 rounded-lg",children:r.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Total Players"}),r.jsxs("p",{className:"text-xl font-bold text-white",children:[w,r.jsxs("span",{className:"text-gray-500 text-sm font-normal",children:["/",p]})]})]})]})}),r.jsx("div",{className:"bg-discord-light rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-purple-500/20 p-2 rounded-lg",children:r.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Staff Online"}),r.jsx("p",{className:"text-xl font-bold text-white",children:o.reduce((y,v)=>{var S;return y+(((S=v.onlineStaff)==null?void 0:S.length)??0)},0)})]})]})})]}),h&&r.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated ",gy(new Date(h),{addSuffix:!0})]}),d&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4",children:r.jsx("p",{className:"text-red-400",children:"Failed to load server status. Please try again."})}),c&&o.length===0&&r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(dt,{className:"w-8 h-8 text-gray-400 animate-spin"})}),o.length>0&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:o.map(y=>r.jsx(rC,{server:y,expandedSections:i,onToggleSection:x,sectionPreferences:g},y.id))}),!c&&o.length===0&&!d&&r.jsxs("div",{className:"bg-discord-light rounded-lg p-8 text-center",children:[r.jsx(Ro,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-medium text-white mb-1",children:"No Servers Connected"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"No SquadJS server connections are configured or available."})]})]})}function iC(e={}){const{user:t}=Q();return J({queryKey:["players","list",e],queryFn:()=>Dt.list(e),enabled:!!t})}function aC(e){const{user:t}=Q();return J({queryKey:["players","profile",e],queryFn:()=>Dt.getProfile(e),enabled:!!t&&!!e})}function lC(e,t=1,s=!0){const{user:n}=Q();return J({queryKey:["players","sessions",e,t],queryFn:()=>Dt.getSessions(e,t),enabled:!!n&&!!e&&s})}function oC(e,t=1,s=!0){const{user:n}=Q();return J({queryKey:["players","audit",e,t],queryFn:()=>Dt.getAuditLogs(e,t),enabled:!!n&&!!e&&s})}function cC(e,t=1,s=!0){const{user:n}=Q();return J({queryKey:["players","seeding",e,t],queryFn:()=>Dt.getSeedingActivity(e,t),enabled:!!n&&!!e&&s})}function dC(e,t=1,s=!0){const{user:n}=Q();return J({queryKey:["players","duty",e,t],queryFn:()=>Dt.getDutyHistory(e,t),enabled:!!n&&!!e&&s})}function uC(e,t=!0){const{user:s}=Q();return J({queryKey:["players","whitelist",e],queryFn:()=>Dt.getWhitelistHistory(e),enabled:!!s&&!!e&&t})}function Uy(e,t=!0){const{user:s}=Q();return J({queryKey:["players","game-stats",e],queryFn:()=>Dt.getGameStats(e),enabled:!!s&&!!e&&t,staleTime:60*1e3,retry:1})}function hC(e,t=!0){const{user:s}=Q();return J({queryKey:["players","killfeed",e],queryFn:()=>Dt.getKillfeed(e),enabled:!!s&&!!e&&t,staleTime:60*1e3,retry:1})}function mC(e,t=!0){const{user:s}=Q();return J({queryKey:["players","unlinks",e],queryFn:()=>Dt.getUnlinkHistory(e),enabled:!!s&&!!e&&t})}function pC(e,t=!0){const{user:s}=Q();return J({queryKey:["players","linked-accounts",e],queryFn:()=>Dt.getLinkedAccounts(e),enabled:!!s&&!!e&&t})}function fC(){const e=X();return ee({mutationFn:({steamid64:t,discordUserId:s,reason:n})=>Dt.linkAccount(t,s,n),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:["players","profile",s.steamid64]}),e.invalidateQueries({queryKey:["players","potential-links",s.steamid64]}),e.invalidateQueries({queryKey:["players","linked-accounts",s.steamid64]})}})}function xC(){const e=X();return ee({mutationFn:({steamid64:t,reason:s})=>Dt.resetStats(t,s),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:["players","profile",s.steamid64]}),e.invalidateQueries({queryKey:["players","game-stats",s.steamid64]})}})}function qy(){const e=X();return ee({mutationFn:t=>Ha.grant(t),onSuccess:()=>{e.invalidateQueries({queryKey:["whitelist"]}),e.invalidateQueries({queryKey:["players","whitelist"]}),e.invalidateQueries({queryKey:["players","profile"]})}})}function gC(){const e=X();return ee({mutationFn:({steamid64:t,request:s})=>Ha.revoke(t,s),onSuccess:()=>{e.invalidateQueries({queryKey:["whitelist"]}),e.invalidateQueries({queryKey:["players","whitelist"]}),e.invalidateQueries({queryKey:["players","profile"]})}})}function yC(){const e=X();return ee({mutationFn:({id:t,reason:s})=>Ha.revokeEntry(t,s),onSuccess:()=>{e.invalidateQueries({queryKey:["whitelist"]}),e.invalidateQueries({queryKey:["players","whitelist"]}),e.invalidateQueries({queryKey:["players","profile"]})}})}function vC(){const e=X();return ee({mutationFn:({id:t,request:s})=>Ha.editEntry(t,s),onSuccess:()=>{e.invalidateQueries({queryKey:["whitelist"]}),e.invalidateQueries({queryKey:["players","whitelist"]}),e.invalidateQueries({queryKey:["players","profile"]})}})}function zy(){const e=X();return ee({mutationFn:({steamid64:t,reason:s})=>Ha.upgradeConfidence(t,s),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:["players","profile",s.steamid64]}),e.invalidateQueries({queryKey:["players","whitelist",s.steamid64]}),e.invalidateQueries({queryKey:["players","linked-accounts",s.steamid64]}),e.invalidateQueries({queryKey:["whitelist"]})}})}const bC=[{label:"7 Days",value:7,type:"days"},{label:"1 Month",value:1,type:"months"},{label:"3 Months",value:3,type:"months"},{label:"6 Months",value:6,type:"months"},{label:"1 Year",value:12,type:"months"},{label:"Permanent",value:null,type:null}],wC=["donator","service-member","first-responder","reporting","contest-winner","other"];function jC({onClose:e}){const t=qy(),[s,n]=j.useState({steamid64:"",username:"",discord_username:"",reason:"",duration_value:1,duration_type:"months",note:""}),[i,a]=j.useState({}),l=()=>{const d={};return s.steamid64?/^7656\d{13}$/.test(s.steamid64)||(d.steamid64="Invalid Steam64 ID format (should be 17 digits starting with 7656)"):d.steamid64="Steam ID is required",s.reason||(d.reason="Reason is required"),a(d),Object.keys(d).length===0},o=async d=>{if(d.preventDefault(),!l())return;const u={steamid64:s.steamid64,username:s.username||void 0,discord_username:s.discord_username||void 0,reason:s.reason,duration_value:s.duration_value,duration_type:s.duration_type,note:s.note||void 0};try{await t.mutateAsync(u),e()}catch{}},c=d=>{n({...s,duration_value:d.value,duration_type:d.type})};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-discord-lighter",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Grant Whitelist"}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(ht,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:o,className:"p-4 space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Steam64 ID ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{type:"text",value:s.steamid64,onChange:d=>n({...s,steamid64:d.target.value}),placeholder:"76561198000000000",className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple"}),i.steamid64&&r.jsx("p",{className:"text-red-400 text-xs mt-1",children:i.steamid64})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"In-game Username (optional)"}),r.jsx("input",{type:"text",value:s.username,onChange:d=>n({...s,username:d.target.value}),placeholder:"Player username",className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Discord Username (optional)"}),r.jsx("input",{type:"text",value:s.discord_username,onChange:d=>n({...s,discord_username:d.target.value}),placeholder:"username#0000 or @username",className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Reason ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsxs("select",{value:s.reason,onChange:d=>n({...s,reason:d.target.value}),className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white focus:outline-none focus:border-discord-blurple",children:[r.jsx("option",{value:"",children:"Select a reason"}),wC.map(d=>r.jsx("option",{value:d,children:d.replace(/-/g," ").replace(/\b\w/g,u=>u.toUpperCase())},d))]}),i.reason&&r.jsx("p",{className:"text-red-400 text-xs mt-1",children:i.reason})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:bC.map(d=>r.jsx("button",{type:"button",onClick:()=>c(d),className:`px-3 py-1.5 text-sm rounded-md border transition-colors ${s.duration_value===d.value&&s.duration_type===d.type?"bg-discord-blurple border-discord-blurple text-white":"bg-discord-darker border-discord-lighter text-gray-300 hover:border-discord-blurple"}`,children:d.label},d.label))}),s.duration_value!==null&&r.jsxs("div",{className:"flex gap-2 mt-3",children:[r.jsx("input",{type:"number",min:"1",value:s.duration_value||"",onChange:d=>n({...s,duration_value:parseInt(d.target.value)||1}),className:"w-24 bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white focus:outline-none focus:border-discord-blurple"}),r.jsxs("select",{value:s.duration_type||"months",onChange:d=>n({...s,duration_type:d.target.value}),className:"bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white focus:outline-none focus:border-discord-blurple",children:[r.jsx("option",{value:"hours",children:"Hours"}),r.jsx("option",{value:"days",children:"Days"}),r.jsx("option",{value:"months",children:"Months"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Note (optional)"}),r.jsx("textarea",{value:s.note,onChange:d=>n({...s,note:d.target.value}),placeholder:"Additional notes...",rows:2,className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple resize-none"})]}),t.error&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-md p-3",children:r.jsx("p",{className:"text-sm text-red-400",children:t.error.message||"Failed to grant whitelist"})}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-discord-lighter",children:[r.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:t.isPending,className:"bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t.isPending?"Granting...":"Grant Whitelist"})]})]})]})})}function Ct({text:e,className:t="",size:s=3}){const[n,i]=j.useState(!1),a=async()=>{await $k(e)&&(i(!0),setTimeout(()=>i(!1),2e3))};return r.jsx("button",{onClick:a,className:`hover:text-white transition-colors ${t}`,title:n?"Copied!":"Copy",children:n?r.jsx(fs,{className:`w-${s} h-${s} text-green-400`,style:{width:`${s*4}px`,height:`${s*4}px`}}):r.jsx(a2,{style:{width:`${s*4}px`,height:`${s*4}px`}})})}function NC(){const e=Hs(),[t,s]=j.useState(!1),[n,i]=j.useState(""),[a,l]=j.useState(""),{data:o,isLoading:c}=iC({search:a||void 0,limit:10}),d=f=>{f.preventDefault(),l(n.trim())},u=f=>{switch(f){case"active":return"bg-green-500/20 text-green-400 border-green-500/30";case"permanent":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"expired":return"bg-gray-500/20 text-gray-400 border-gray-500/30";case"revoked":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},h=a.length>0,m=({player:f})=>r.jsxs("tr",{className:"border-b border-discord-lighter hover:bg-discord-darker/50 transition-colors cursor-pointer",onClick:()=>e(`/players/${f.steamid64}`),children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-3",children:[f.isLinked&&f.avatar_url?r.jsx("img",{src:f.avatar_url,alt:"",className:"w-8 h-8 rounded-full"}):r.jsx("div",{className:"w-8 h-8 rounded-full bg-discord-lighter flex items-center justify-center",children:r.jsx(hi,{className:"w-4 h-4 text-gray-400"})}),r.jsx("div",{children:f.isLinked&&f.discord_username?r.jsx("p",{className:"text-white font-medium",children:f.discord_username}):r.jsx("p",{className:"text-gray-500",children:"-"})})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-white",children:f.username||"-"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("code",{className:"text-sm text-blue-400 font-mono",children:f.steamid64}),r.jsx("span",{onClick:g=>g.stopPropagation(),children:r.jsx(Ct,{text:f.steamid64,size:3})})]})}),r.jsx("td",{className:"px-4 py-3",children:f.isLinked?r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ui,{className:"w-4 h-4 text-green-400"}),r.jsx("span",{className:"text-green-400 text-sm",children:"Yes"})]}):r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(f2,{className:"w-4 h-4 text-red-400"}),r.jsx("span",{className:"text-red-400 text-sm",children:"No"})]})}),r.jsx("td",{className:"px-4 py-3",children:f.hasWhitelist?r.jsx("span",{className:ce("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border",u(f.whitelistStatus)),children:f.whitelistStatus}):r.jsx("span",{className:"text-gray-500 text-sm",children:"None"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-gray-400 text-sm",children:f.lastSeen?Pr(f.lastSeen):"Never"})})]});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Player Search"}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Search for players by Steam ID, username, or Discord"})]}),r.jsxs("button",{onClick:()=>s(!0),className:"bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2",children:[r.jsx(Tt,{className:"w-4 h-4"}),"Grant Whitelist"]})]}),r.jsx("div",{className:"bg-discord-light rounded-lg p-6",children:r.jsxs("form",{onSubmit:d,className:"flex gap-4",autoComplete:"off",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Ls,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"search",placeholder:"Enter Steam64 ID, username, or Discord username...",value:n,onChange:f=>i(f.target.value),className:"w-full bg-discord-darker border border-discord-lighter rounded-md pl-12 pr-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple text-lg",autoFocus:!0,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,"data-form-type":"other","data-lpignore":"true","data-1p-ignore":"true"})]}),r.jsx("button",{type:"submit",className:"bg-discord-blurple hover:bg-discord-blurple/80 text-white px-6 py-3 rounded-md font-medium transition-colors",children:"Search"})]})}),h&&r.jsx("div",{className:"space-y-3",children:c?r.jsxs("div",{className:"bg-discord-light rounded-lg p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-discord-blurple mx-auto"}),r.jsx("p",{className:"text-gray-400 mt-3",children:"Searching..."})]}):o!=null&&o.players&&o.players.length>0?r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"text-sm text-gray-400",children:["Found ",o.pagination.total," result",o.pagination.total!==1?"s":""]}),r.jsx("div",{className:"bg-discord-light rounded-lg overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-discord-darker",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Discord User"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"In-Game Name"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Steam ID"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ui,{className:"w-3 h-3"}),"Linked"]})}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ut,{className:"w-3 h-3"}),"Whitelist"]})}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ht,{className:"w-3 h-3"}),"Last Seen"]})})]})}),r.jsx("tbody",{className:"divide-y divide-discord-lighter",children:o.players.map(f=>r.jsx(m,{player:f},f.steamid64))})]})})}),o.pagination.total>10&&r.jsx("p",{className:"text-sm text-gray-500 text-center pt-2",children:"Showing first 10 results. Refine your search for more specific results."})]}):r.jsxs("div",{className:"bg-discord-light rounded-lg p-8 text-center",children:[r.jsx(Ls,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),r.jsxs("p",{className:"text-gray-400",children:['No players found matching "',a,'"']}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Try searching by Steam64 ID, in-game username, or Discord username"})]})}),!h&&r.jsxs("div",{className:"bg-discord-light rounded-lg p-12 text-center",children:[r.jsx(Ls,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Search for a player"}),r.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Enter a Steam64 ID, in-game username, or Discord username to find a player's profile"})]}),t&&r.jsx(jC,{onClose:()=>s(!1)})]})}const kC={today:"Today",week:"This Week",month:"This Month","all-time":"All Time"},SC={admin:"Admin",tutor:"Tutor",both:"All Staff"},vf={week:"This Week",month:"This Month"};function $n(e,t=!1){if(e<=0)return t?"0m":"0 minutes";const s=Math.floor(e/1e3),n=Math.floor(s/60),i=Math.floor(n/60),a=Math.floor(i/24),l=i%24,o=n%60;if(t)return a>0?`${a}d ${l}h`:i>0?`${i}h ${o}m`:`${n}m`;const c=[];return a>0&&c.push(`${a} day${a!==1?"s":""}`),l>0&&c.push(`${l} hour${l!==1?"s":""}`),o>0&&a===0&&c.push(`${o} minute${o!==1?"s":""}`),c.length>0?c.join(" "):"0 minutes"}function _l(e,t=!1){return $n(e*60*1e3,t)}function CC({stats:e,isLoading:t}){if(t)return r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((n,i)=>r.jsxs("div",{className:"bg-discord-light rounded-lg p-4 animate-pulse",children:[r.jsx("div",{className:"h-4 w-24 bg-discord-lighter rounded mb-2"}),r.jsx("div",{className:"h-8 w-16 bg-discord-lighter rounded"})]},i))});if(!e)return r.jsx("div",{className:"bg-discord-light rounded-lg p-6 text-center text-gray-400",children:"No data available for this period"});const s=[{label:"Active Staff",value:e.totalUsers.toString(),subtext:`${e.currentlyOnDuty} currently on duty`,icon:rt,iconColor:"text-blue-400",bgColor:"bg-blue-400/10"},{label:"Total Duty Time",value:$n(e.totalTime,!0),subtext:`${kC[e.period]} - ${SC[e.dutyType]}`,icon:Ht,iconColor:"text-green-400",bgColor:"bg-green-400/10"},{label:"Total Sessions",value:e.totalSessions.toString(),subtext:`${(e.averageSessionsPerUser||0).toFixed(1)} avg per staff`,icon:V0,iconColor:"text-purple-400",bgColor:"bg-purple-400/10"},{label:"Avg Time per Staff",value:$n(e.averageTimePerUser,!0),subtext:"Per active staff member",icon:Ya,iconColor:"text-orange-400",bgColor:"bg-orange-400/10"}];return r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:s.map(n=>r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-gray-400 text-sm",children:n.label}),r.jsx("div",{className:`p-2 rounded-lg ${n.bgColor}`,children:r.jsx(n.icon,{className:`w-4 h-4 ${n.iconColor}`})})]}),r.jsx("div",{className:"text-2xl font-bold text-white",children:n.value}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:n.subtext})]},n.label))})})}function _C(e,t="week",s="both"){return J({queryKey:["duty","user",e,t,s],queryFn:()=>H0.getUserStats(e,t,s),enabled:!!e,staleTime:60*1e3})}function EC(e="points",t="desc",s="week"){const{user:n,hasPermission:i}=Q(),a=i("VIEW_DUTY");return J({queryKey:["duty","staff-overview",e,t,s],queryFn:()=>H0.getStaffOverview(e,t,s),enabled:!!n&&a,staleTime:60*1e3})}function PC({discordId:e,className:t=""}){const{data:s,isLoading:n,error:i}=_C(e,"all-time","both");if(n||i||!(s!=null&&s.data)||s.data.sessionCount===0)return null;const a=s.data;return r.jsxs("div",{className:`bg-discord-light rounded-lg p-4 ${t}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ht,{className:"w-4 h-4 text-green-400"}),r.jsx("h3",{className:"text-white font-medium",children:"Duty Stats"})]}),a.currentlyOnDuty&&r.jsxs("span",{className:"flex items-center gap-1.5 text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded-full",children:[r.jsx(_a,{className:"w-3 h-3"}),"On Duty"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"bg-discord-darker rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-xs mb-1",children:[r.jsx(Ht,{className:"w-3 h-3"}),"Total Time"]}),r.jsx("div",{className:"text-white font-semibold",children:$n(a.totalTime,!0)})]}),r.jsxs("div",{className:"bg-discord-darker rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-xs mb-1",children:[r.jsx(V0,{className:"w-3 h-3"}),"Sessions"]}),r.jsx("div",{className:"text-white font-semibold",children:a.sessionCount})]}),r.jsxs("div",{className:"bg-discord-darker rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-xs mb-1",children:[r.jsx(Ya,{className:"w-3 h-3"}),"Avg Session"]}),r.jsx("div",{className:"text-white font-semibold",children:$n(a.averageSessionTime,!0)})]}),r.jsxs("div",{className:"bg-discord-darker rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-xs mb-1",children:[r.jsx(_a,{className:"w-3 h-3"}),"Longest"]}),r.jsx("div",{className:"text-white font-semibold",children:$n(a.longestSession,!0)})]})]}),a.lastActive&&r.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Last active: ",new Date(a.lastActive).toLocaleDateString()]})]})}const RC={points:"Points",time:"Duty Time",tickets:"Tickets",voice:"Voice Time",server:"Server Time",admin_cam:"Admin Cam",chat:"Chat"};function TC({entries:e,isLoading:t,sortBy:s,sortOrder:n="desc",onSortChange:i,hideHeader:a=!1}){const[l,o]=j.useState(""),c=l?e.filter(h=>h.displayName.toLowerCase().includes(l.toLowerCase())):e;if(t)return r.jsxs("div",{className:"bg-discord-light rounded-lg overflow-hidden",children:[!a&&r.jsxs("div",{className:"p-4 border-b border-discord-lighter",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Staff Overview"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"All-time activity including off-duty contributions"})]}),r.jsx("div",{className:"p-8 text-center text-gray-400",children:"Loading..."})]});if(e.length===0)return r.jsxs("div",{className:"bg-discord-light rounded-lg overflow-hidden",children:[!a&&r.jsxs("div",{className:"p-4 border-b border-discord-lighter",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Staff Overview"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"All-time activity including off-duty contributions"})]}),r.jsx("div",{className:"p-8 text-center text-gray-400",children:"No staff activity recorded yet"})]});const d=({field:h})=>s!==h?r.jsx(s2,{className:"w-3 h-3 opacity-0 group-hover:opacity-50 transition-opacity"}):n==="desc"?r.jsx(t2,{className:"w-3 h-3 text-discord-blurple"}):r.jsx(r2,{className:"w-3 h-3 text-discord-blurple"}),u=({field:h,children:m,icon:f})=>r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider cursor-pointer hover:text-white transition-colors group",onClick:()=>i(h),children:r.jsxs("div",{className:"flex items-center gap-1",children:[f&&r.jsx(f,{className:"w-3 h-3"}),m,r.jsx(d,{field:h})]})});return r.jsxs("div",{className:"bg-discord-light rounded-lg overflow-hidden",children:[!a&&r.jsx("div",{className:"p-4 border-b border-discord-lighter",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Staff Overview"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"All-time activity including off-duty contributions"})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Sorted by: ",r.jsxs("span",{className:"text-gray-300",children:[RC[s]," (",n==="desc"?"High to Low":"Low to High",")"]})]})]})}),r.jsx("div",{className:"p-4 border-b border-discord-lighter",children:r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:[r.jsx(Ls,{className:`w-4 h-4 ${l?"text-discord-blurple":"text-gray-400"}`}),l&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-discord-blurple text-white text-[10px] font-bold rounded-full min-w-[16px] h-4 flex items-center justify-center px-1",children:c.length})]}),r.jsx("input",{type:"text",value:l,onChange:h=>o(h.target.value),placeholder:"Search staff...",className:`w-full pl-10 pr-10 py-2 border rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple transition-colors ${l?"bg-discord-blurple/10 border-discord-blurple/50":"bg-discord-darker border-discord-lighter"}`}),l&&r.jsx("button",{onClick:()=>o(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:r.jsx(ht,{className:"w-4 h-4"})})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsxs("thead",{className:"bg-discord-darker/50",children:[r.jsxs("tr",{className:"border-b border-discord-lighter/30",children:[r.jsx("th",{colSpan:2}),r.jsx("th",{colSpan:2,className:"px-4 py-2 text-center text-xs font-semibold text-green-400 uppercase tracking-wider bg-green-400/5",children:"Duty"}),r.jsx("th",{colSpan:2,className:"px-4 py-2 text-center text-xs font-semibold text-purple-400 uppercase tracking-wider bg-purple-400/5",children:"Discord"}),r.jsx("th",{colSpan:3,className:"px-4 py-2 text-center text-xs font-semibold text-blue-400 uppercase tracking-wider bg-blue-400/5",children:"In-Game"}),r.jsx("th",{})]}),r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Rank"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Staff Member"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider cursor-pointer hover:text-white transition-colors bg-green-400/5 group",onClick:()=>i("time"),children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ht,{className:"w-3 h-3"}),"Duty Time",r.jsx(d,{field:"time"})]})}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider bg-green-400/5",children:"Sessions"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider cursor-pointer hover:text-white transition-colors bg-purple-400/5 group",onClick:()=>i("voice"),children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(g2,{className:"w-3 h-3"}),"Voice",r.jsx(d,{field:"voice"})]})}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider cursor-pointer hover:text-white transition-colors bg-purple-400/5 group",onClick:()=>i("tickets"),children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ea,{className:"w-3 h-3"}),"Tickets",r.jsx(d,{field:"tickets"})]})}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider cursor-pointer hover:text-white transition-colors bg-blue-400/5 group",onClick:()=>i("server"),children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(o2,{className:"w-3 h-3"}),"Server",r.jsx(d,{field:"server"})]})}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider cursor-pointer hover:text-white transition-colors bg-blue-400/5 group",onClick:()=>i("admin_cam"),children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(K0,{className:"w-3 h-3"}),"Admin Cam",r.jsx(d,{field:"admin_cam"})]})}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider cursor-pointer hover:text-white transition-colors bg-blue-400/5 group",onClick:()=>i("chat"),children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(X0,{className:"w-3 h-3"}),"Chat",r.jsx(d,{field:"chat"})]})}),r.jsx(u,{field:"points",icon:Nu,children:"Points"})]})]}),r.jsx("tbody",{className:"divide-y divide-discord-lighter",children:c.map(h=>r.jsxs("tr",{className:"hover:bg-discord-lighter/50 transition-colors",children:[r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsxs("span",{className:"text-gray-400",children:["#",h.rank]})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:h.steamId?r.jsxs(Ke,{to:`/players/${h.steamId}`,className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[h.avatarUrl?r.jsx("img",{src:h.avatarUrl,alt:h.displayName,className:"w-8 h-8 rounded-full"}):r.jsx("div",{className:"w-8 h-8 rounded-full bg-discord-blurple/30 flex items-center justify-center",children:r.jsx(hi,{className:"w-4 h-4 text-discord-blurple"})}),r.jsx("span",{className:"text-white font-medium hover:text-discord-blurple transition-colors",children:h.displayName})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[h.avatarUrl?r.jsx("img",{src:h.avatarUrl,alt:h.displayName,className:"w-8 h-8 rounded-full"}):r.jsx("div",{className:"w-8 h-8 rounded-full bg-discord-blurple/30 flex items-center justify-center",children:r.jsx(hi,{className:"w-4 h-4 text-discord-blurple"})}),r.jsx("span",{className:"text-white font-medium",children:h.displayName})]})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap bg-green-400/5",children:r.jsx("span",{className:"text-green-400 font-semibold",children:_l(h.totalDutyMinutes,!0)})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap bg-green-400/5",children:r.jsx("span",{className:"text-green-400",children:h.totalSessions})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap bg-purple-400/5",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-purple-400",children:_l(h.totalVoiceMinutes,!0)}),h.offDutyVoiceMinutes>0&&r.jsxs("span",{className:"text-xs text-gray-500",children:[_l(h.offDutyVoiceMinutes,!0)," off-duty"]})]})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap bg-purple-400/5",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-purple-400",children:h.totalTicketResponses}),h.offDutyTicketResponses>0&&r.jsxs("span",{className:"text-xs text-gray-500",children:[h.offDutyTicketResponses," off-duty"]})]})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap bg-blue-400/5",children:r.jsx("span",{className:"text-blue-400",children:_l(h.totalServerMinutes,!0)})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap bg-blue-400/5",children:r.jsx("span",{className:"text-blue-400",children:h.totalAdminCamEvents})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap bg-blue-400/5",children:r.jsx("span",{className:"text-blue-400",children:h.totalIngameChatMessages})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-yellow-400 font-semibold",children:h.totalPoints.toLocaleString()}),h.offDutyPoints>0&&r.jsxs("span",{className:"text-xs text-gray-500",children:[h.offDutyPoints.toLocaleString()," off-duty"]})]})})]},h.discordUserId))})]})})]})}function MC({channels:e,selectedIds:t,onChange:s,disabled:n,label:i,description:a}){const[l,o]=j.useState(!1),c=e.reduce((m,f)=>{const g=f.parentName||"No Category";return m[g]||(m[g]=[]),m[g].push(f),m},{}),d=m=>{n||(t.includes(m)?s(t.filter(f=>f!==m)):s([...t,m]))},u=m=>{n||s(t.filter(f=>f!==m))},h=m=>{var f;return((f=e.find(g=>g.id===m))==null?void 0:f.name)||m};return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300",children:i}),a&&r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:a})]}),t.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(m=>r.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-discord-blurple/20 text-discord-blurple px-2.5 py-1 rounded-full text-sm",children:[r.jsx(Su,{className:"w-3.5 h-3.5"}),h(m),!n&&r.jsx("button",{type:"button",onClick:()=>u(m),className:"hover:text-white transition-colors",children:r.jsx(ht,{className:"w-3.5 h-3.5"})})]},m))}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{type:"button",onClick:()=>!n&&o(!l),disabled:n,className:`w-full flex items-center justify-between bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-left ${n?"opacity-50 cursor-not-allowed":"hover:border-discord-blurple cursor-pointer"}`,children:[r.jsx("span",{className:"text-gray-400 text-sm",children:t.length===0?"Select channels...":`${t.length} channel${t.length>1?"s":""} selected`}),r.jsx(Ka,{className:`w-4 h-4 text-gray-400 transition-transform ${l?"rotate-180":""}`})]}),l&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),r.jsxs("div",{className:"absolute z-20 mt-1 w-full bg-discord-darker border border-discord-lighter rounded-md shadow-lg max-h-64 overflow-y-auto",children:[Object.entries(c).map(([m,f])=>r.jsxs("div",{children:[r.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase bg-discord-light/50 sticky top-0",children:m}),f.map(g=>{const x=t.includes(g.id);return r.jsxs("button",{type:"button",onClick:()=>d(g.id),className:`w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-discord-lighter transition-colors ${x?"bg-discord-blurple/10":""}`,children:[r.jsx(Su,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"flex-1 text-sm text-gray-200",children:g.name}),x&&r.jsx(fs,{className:"w-4 h-4 text-discord-blurple"})]},g.id)})]},m)),e.length===0&&r.jsx("div",{className:"px-3 py-4 text-center text-gray-500 text-sm",children:"No voice channels found"})]})]})]})]})}function Tr({text:e}){const[t,s]=j.useState(!1);return r.jsxs("div",{className:"relative inline-block",children:[r.jsx(u2,{className:"w-4 h-4 text-gray-500 hover:text-gray-300 cursor-help ml-1.5",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)}),t&&r.jsx("div",{className:"absolute z-50 w-64 p-2.5 text-xs text-gray-200 bg-discord-darker border border-discord-lighter rounded-md shadow-lg -top-2 left-6 leading-relaxed",children:e})]})}function AC({weeklyTarget:e,pointValues:t}){const s=j.useMemo(()=>{const{base_per_minute:a,voice_per_minute:l,ticket_response:o,admin_cam:c,ingame_chat:d,on_duty_multiplier:u}=t,h=a*u,m=l*u;return{dutyHours:e/(h*60),voiceHours:e/(m*60),ticketResponses:e/(o*u),adminCamUses:e/(c*u),ingameMessages:e/(d*u)}},[e,t]),n=j.useMemo(()=>{const{base_per_minute:a,voice_per_minute:l,ticket_response:o,admin_cam:c,ingame_chat:d,on_duty_multiplier:u}=t,h=f=>f.dutyHours*60*a*u+f.voiceHours*60*l*u+f.ticketResponses*o*u+f.adminCamUses*c*u+f.ingameMessages*d*u,m=f=>{const g=h(f);if(g===0)return f;const x=e/g;return{dutyHours:Math.round(f.dutyHours*x*10)/10,voiceHours:Math.round(f.voiceHours*x*10)/10,ticketResponses:Math.round(f.ticketResponses*x),adminCamUses:Math.round(f.adminCamUses*x),ingameMessages:Math.round(f.ingameMessages*x)}};return[{name:"Balanced",description:"Mix of all activities",...m({dutyHours:10,voiceHours:5,ticketResponses:15,adminCamUses:10,ingameMessages:30})},{name:"Voice-Focused",description:"Heavy voice channel presence",...m({dutyHours:8,voiceHours:12,ticketResponses:5,adminCamUses:5,ingameMessages:10})},{name:"Support-Focused",description:"Ticket and chat heavy",...m({dutyHours:8,voiceHours:2,ticketResponses:30,adminCamUses:5,ingameMessages:50})}]},[e,t]),i=a=>a>=1e3?a.toLocaleString(void 0,{maximumFractionDigits:0}):a>=100?a.toFixed(0):(a>=10,a.toFixed(1));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3 bg-discord-darker rounded-lg p-4",children:[r.jsx(Ya,{className:"w-5 h-5 text-discord-blurple"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-400",children:"Weekly Points Target"}),r.jsxs("div",{className:"text-2xl font-bold text-white",children:[e.toLocaleString()," pts"]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400 mb-3",children:[r.jsx("span",{className:"font-medium",children:"Point Equivalencies"}),r.jsx(Tr,{text:"How much of each activity alone would be needed to reach the weekly target. Staff typically combine multiple activities."})]}),r.jsx("div",{className:"bg-discord-darker rounded-lg overflow-hidden",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-discord-lighter",children:[r.jsx("th",{className:"text-left text-gray-400 font-medium px-4 py-2",children:"Activity"}),r.jsxs("th",{className:"text-right text-gray-400 font-medium px-4 py-2",children:["Amount for ",e.toLocaleString()," pts"]})]})}),r.jsxs("tbody",{className:"divide-y divide-discord-lighter/50",children:[r.jsxs("tr",{children:[r.jsxs("td",{className:"px-4 py-2.5 text-gray-300 flex items-center gap-2",children:[r.jsx(Ht,{className:"w-4 h-4 text-blue-400"}),"On-Duty Time"]}),r.jsxs("td",{className:"px-4 py-2.5 text-white text-right font-medium tabular-nums",children:[i(s.dutyHours)," hours"]})]}),r.jsxs("tr",{children:[r.jsxs("td",{className:"px-4 py-2.5 text-gray-300 flex items-center gap-2",children:[r.jsx(Su,{className:"w-4 h-4 text-green-400"}),"Voice Channel Time"]}),r.jsxs("td",{className:"px-4 py-2.5 text-white text-right font-medium tabular-nums",children:[i(s.voiceHours)," hours"]})]}),r.jsxs("tr",{children:[r.jsxs("td",{className:"px-4 py-2.5 text-gray-300 flex items-center gap-2",children:[r.jsx(Ea,{className:"w-4 h-4 text-yellow-400"}),"Ticket Responses"]}),r.jsxs("td",{className:"px-4 py-2.5 text-white text-right font-medium tabular-nums",children:[i(s.ticketResponses)," responses"]})]}),r.jsxs("tr",{children:[r.jsxs("td",{className:"px-4 py-2.5 text-gray-300 flex items-center gap-2",children:[r.jsx(K0,{className:"w-4 h-4 text-purple-400"}),"Admin Cam Uses"]}),r.jsxs("td",{className:"px-4 py-2.5 text-white text-right font-medium tabular-nums",children:[i(s.adminCamUses)," uses"]})]}),r.jsxs("tr",{children:[r.jsxs("td",{className:"px-4 py-2.5 text-gray-300 flex items-center gap-2",children:[r.jsx(X0,{className:"w-4 h-4 text-orange-400"}),"In-Game Messages"]}),r.jsxs("td",{className:"px-4 py-2.5 text-white text-right font-medium tabular-nums",children:[i(s.ingameMessages)," messages"]})]})]})]})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400 mb-3",children:[r.jsx("span",{className:"font-medium",children:"Example Activity Mixes"}),r.jsx(Tr,{text:"Sample combinations of activities that would achieve the weekly target. These are guidelines - actual staff activity will vary."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:n.map(a=>r.jsxs("div",{className:"bg-discord-darker rounded-lg p-4",children:[r.jsx("div",{className:"font-medium text-white mb-1",children:a.name}),r.jsx("div",{className:"text-xs text-gray-500 mb-3",children:a.description}),r.jsxs("div",{className:"space-y-1.5 text-xs",children:[r.jsxs("div",{className:"flex justify-between text-gray-400",children:[r.jsx("span",{children:"Duty time"}),r.jsxs("span",{className:"text-gray-300",children:[a.dutyHours,"h"]})]}),r.jsxs("div",{className:"flex justify-between text-gray-400",children:[r.jsx("span",{children:"Voice time"}),r.jsxs("span",{className:"text-gray-300",children:[a.voiceHours,"h"]})]}),r.jsxs("div",{className:"flex justify-between text-gray-400",children:[r.jsx("span",{children:"Tickets"}),r.jsx("span",{className:"text-gray-300",children:a.ticketResponses})]}),r.jsxs("div",{className:"flex justify-between text-gray-400",children:[r.jsx("span",{children:"Admin cam"}),r.jsx("span",{className:"text-gray-300",children:a.adminCamUses})]}),r.jsxs("div",{className:"flex justify-between text-gray-400",children:[r.jsx("span",{children:"In-game chat"}),r.jsx("span",{className:"text-gray-300",children:a.ingameMessages})]})]})]},a.name))})]}),t.on_duty_multiplier!==1&&r.jsxs("div",{className:"text-xs text-gray-500",children:["* All calculations include the ",t.on_duty_multiplier,"x on-duty multiplier"]})]})}function DC(e){if(e===0)return"0h";const t=Math.floor(e/60),s=e%60;return t===0?`${s}m`:s===0?`${t}h`:`${t}h ${s}m`}function LC({profile:e,steamid64:t,onTabChange:s}){var h,m,f,g,x,w,p,b,y;const[n,i]=j.useState(!1),a=zy(),[l,o]=j.useState(""),{data:c,isLoading:d}=Uy(t),u=v=>{switch(v){case"active":return"bg-green-500/20 text-green-400 border-green-500/30";case"permanent":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"expired":return"bg-gray-500/20 text-gray-400 border-gray-500/30";case"revoked":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("button",{onClick:()=>s("activity"),className:"bg-discord-light rounded-lg p-4 text-left hover:bg-discord-lighter transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(_a,{className:"w-5 h-5 text-blue-400"}),r.jsx("h3",{className:"font-medium text-white",children:"Activity"})]}),r.jsxs("dl",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Total Playtime"}),r.jsx("dd",{className:"text-white",children:DC(e.activity.totalPlaytimeMinutes)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Join Count"}),r.jsx("dd",{className:"text-white",children:e.activity.joinCount})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Last Seen"}),r.jsx("dd",{className:"text-white",children:e.activity.lastSeen?Pr(e.activity.lastSeen):"Never"})]})]}),r.jsx("p",{className:"text-xs text-discord-blurple mt-3",children:"View session history"})]}),r.jsxs("button",{onClick:()=>s("whitelist"),className:"bg-discord-light rounded-lg p-4 text-left hover:bg-discord-lighter transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(ut,{className:"w-5 h-5 text-green-400"}),r.jsx("h3",{className:"font-medium text-white",children:"Whitelist"})]}),r.jsx("div",{className:"space-y-3",children:e.whitelist.hasWhitelist?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:ce("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border",u(e.whitelist.status)),children:e.whitelist.status}),e.whitelist.expiration&&e.whitelist.status==="active"&&r.jsxs("p",{className:"text-sm text-gray-400",children:["Expires ",Pr(e.whitelist.expiration)]}),e.whitelist.isPermanent&&r.jsx("p",{className:"text-sm text-gray-400",children:"No expiration"}),r.jsxs("p",{className:"text-xs text-gray-500",children:[e.whitelist.entryCount," entries"]})]}):r.jsx("p",{className:"text-sm text-gray-400",children:"No active whitelist"})}),r.jsx("p",{className:"text-xs text-discord-blurple mt-3",children:"Manage whitelist"})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ui,{className:"w-5 h-5 text-purple-400"}),r.jsx("h3",{className:"font-medium text-white",children:"Account Link"})]}),e.discordLink&&e.discordLink.confidence_score<1&&r.jsxs("button",{onClick:v=>{v.stopPropagation(),i(!0)},className:"bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded text-xs font-medium transition-colors flex items-center gap-1",title:"Upgrade to 100% confidence",children:[r.jsx(Ya,{className:"w-3 h-3"}),"Upgrade"]})]}),r.jsxs("button",{onClick:()=>s("account"),className:"w-full text-left",children:[e.discordLink?r.jsxs("dl",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Confidence"}),r.jsxs("dd",{className:ce("font-medium",e.discordLink.confidence_score>=1?"text-green-400":e.discordLink.confidence_score>=.7?"text-yellow-400":"text-red-400"),children:[(e.discordLink.confidence_score*100).toFixed(0),"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Source"}),r.jsx("dd",{className:"text-white capitalize",children:e.discordLink.link_source})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Linked Accounts"}),r.jsx("dd",{className:"text-white",children:e.allLinks.length})]})]}):e.potentialLink?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[r.jsx(Ge,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Potential link found"})]}),r.jsxs("dl",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Confidence"}),r.jsxs("dd",{className:"text-yellow-400 font-medium",children:[(e.potentialLink.confidence_score*100).toFixed(0),"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Source"}),r.jsx("dd",{className:"text-white capitalize",children:e.potentialLink.link_source})]})]})]}):r.jsx("p",{className:"text-sm text-gray-400",children:"No account linked"}),r.jsx("p",{className:"text-xs text-discord-blurple mt-3 hover:underline",children:"View account details"})]})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(na,{className:"w-5 h-5 text-orange-400"}),r.jsx("h3",{className:"font-medium text-white",children:"BattleMetrics"})]}),(h=e.battlemetrics)!=null&&h.found?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("dl",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Player Name"}),r.jsx("dd",{className:"text-white",children:e.battlemetrics.playerName||"Unknown"})]}),e.battlemetrics.playerId&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Player ID"}),r.jsx("dd",{className:"text-gray-300 font-mono text-xs",children:e.battlemetrics.playerId})]})]}),e.battlemetrics.profileUrl&&r.jsxs("a",{href:e.battlemetrics.profileUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-discord-blurple hover:bg-discord-blurple/80 text-white px-3 py-1.5 rounded text-sm font-medium transition-colors",onClick:v=>v.stopPropagation(),children:[r.jsx(na,{className:"w-3 h-3"}),"View Profile"]})]}):r.jsx("p",{className:"text-sm text-gray-400",children:((m=e.battlemetrics)==null?void 0:m.error)||"Player not found in BattleMetrics"})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Ge,{className:ce("w-5 h-5",(f=e.communityBanList)!=null&&f.found&&(e.communityBanList.reputationPoints??0)>=3?"text-red-400":(g=e.communityBanList)!=null&&g.found&&(e.communityBanList.reputationPoints??0)>=1?"text-yellow-400":"text-green-400")}),r.jsx("h3",{className:"font-medium text-white",children:"Community Ban List"})]}),(x=e.communityBanList)!=null&&x.found?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("dl",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Reputation Points"}),r.jsx("dd",{className:ce("font-medium",(e.communityBanList.reputationPoints??0)>=3?"text-red-400":(e.communityBanList.reputationPoints??0)>=1?"text-yellow-400":"text-green-400"),children:e.communityBanList.reputationPoints??0})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Risk Rating"}),r.jsx("dd",{className:"text-white",children:(e.communityBanList.riskRating??0).toFixed(1)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Active Bans"}),r.jsx("dd",{className:ce("font-medium",(e.communityBanList.activeBansCount??0)>0?"text-red-400":"text-green-400"),children:e.communityBanList.activeBansCount??0})]}),(e.communityBanList.expiredBansCount??0)>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Expired Bans"}),r.jsx("dd",{className:"text-gray-300",children:e.communityBanList.expiredBansCount})]})]}),e.communityBanList.profileUrl&&r.jsxs("a",{href:e.communityBanList.profileUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-discord-blurple hover:bg-discord-blurple/80 text-white px-3 py-1.5 rounded text-sm font-medium transition-colors",onClick:v=>v.stopPropagation(),children:[r.jsx(na,{className:"w-3 h-3"}),"View Profile"]})]}):r.jsx("p",{className:"text-sm text-gray-400",children:((w=e.communityBanList)==null?void 0:w.error)||"Player not found in Community Ban List"})]}),r.jsxs("button",{onClick:()=>s("stats"),className:"bg-discord-light rounded-lg p-4 text-left hover:bg-discord-lighter transition-colors w-full",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(ra,{className:"w-5 h-5 text-cyan-400"}),r.jsx("h3",{className:"font-medium text-white",children:"Game Stats"})]}),d?r.jsx("div",{className:"flex items-center justify-center py-4",children:r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-discord-blurple"})}):c!=null&&c.stats?r.jsxs("dl",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Kills"}),r.jsx("dd",{className:"text-white",children:((p=c.stats.kills)==null?void 0:p.toLocaleString())??"0"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Deaths"}),r.jsx("dd",{className:"text-white",children:((b=c.stats.deaths)==null?void 0:b.toLocaleString())??"0"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"K/D"}),r.jsx("dd",{className:"text-white font-medium",children:((y=c.stats.kdRatio)==null?void 0:y.toFixed(2))??"0.00"})]})]}):r.jsx("p",{className:"text-sm text-gray-400",children:e.statsResetAt?`Stats since ${Pr(e.statsResetAt)}`:"No stats available"}),r.jsx("p",{className:"text-xs text-discord-blurple mt-3",children:"View full stats"})]}),e.discordRoles&&e.discordRoles.length>0&&r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(ut,{className:"w-5 h-5 text-discord-blurple"}),r.jsx("h3",{className:"font-medium text-white",children:"Discord Roles"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.discordRoles.map(v=>r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border",style:{borderColor:v.color!=="#000000"?v.color:void 0,color:v.color!=="#000000"?v.color:void 0},children:v.name},v.id))})]}),e.isStaff&&e.discordLink&&r.jsx(PC,{discordId:e.discordLink.discord_user_id}),e.notes&&r.jsxs("div",{className:"bg-discord-light rounded-lg p-4 md:col-span-2",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Qa,{className:"w-5 h-5 text-yellow-400"}),r.jsx("h3",{className:"font-medium text-white",children:"Admin Notes"})]}),r.jsx("p",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:e.notes})]}),n&&e.discordLink&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-md mx-4 p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Upgrade Confidence"}),r.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:["Upgrade from ",r.jsxs("span",{className:"text-yellow-400",children:[(e.discordLink.confidence_score*100).toFixed(0),"%"]})," to"," ",r.jsx("span",{className:"text-green-400",children:"100%"})]}),r.jsxs("form",{onSubmit:async v=>{if(v.preventDefault(),!!l.trim())try{await a.mutateAsync({steamid64:t,reason:l}),i(!1),o("")}catch{}},className:"space-y-4",children:[r.jsx("textarea",{value:l,onChange:v=>o(v.target.value),placeholder:"Reason (required)",rows:2,required:!0,className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white placeholder-gray-500 resize-none"}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:()=>{i(!1),o("")},className:"text-gray-400 hover:text-white",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:a.isPending||!l.trim(),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50",children:a.isPending?"Upgrading...":"Upgrade"})]})]})]})})]})}function OC(e){if(e===null)return"-";if(e===0)return"< 1m";const t=Math.floor(e/60),s=e%60;return t===0?`${s}m`:s===0?`${t}h`:`${t}h ${s}m`}function IC({steamid64:e}){const[t,s]=j.useState(1),{data:n,isLoading:i}=lC(e,t);return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-discord-blurple"})}):n!=null&&n.sessions.length?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-discord-light rounded-lg overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-discord-lighter",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Server"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Started"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Ended"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Duration"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-discord-lighter",children:n.sessions.map(a=>r.jsxs("tr",{className:"hover:bg-discord-lighter/50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-white font-mono",children:a.serverId})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-300",children:Pt(a.sessionStart)})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-300",children:a.sessionEnd?Pt(a.sessionEnd):"-"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-white",children:OC(a.durationMinutes)})}),r.jsx("td",{className:"px-4 py-3",children:a.isActive?r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-500/20 text-green-400 border border-green-500/30",children:"Active"}):r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-500/20 text-gray-400 border border-gray-500/30",children:"Ended"})})]},a.id))})]})}),n.pagination.totalPages>1&&r.jsxs("div",{className:"flex items-center justify-between px-4",children:[r.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",(n.pagination.page-1)*n.pagination.limit+1," to"," ",Math.min(n.pagination.page*n.pagination.limit,n.pagination.total)," of"," ",n.pagination.total," sessions"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>s(t-1),disabled:t<=1,className:"px-3 py-1 text-sm bg-discord-darker border border-discord-lighter rounded hover:bg-discord-lighter disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),r.jsxs("span",{className:"text-sm text-gray-400",children:["Page ",t," of ",n.pagination.totalPages]}),r.jsx("button",{onClick:()=>s(t+1),disabled:t>=n.pagination.totalPages,className:"px-3 py-1 text-sm bg-discord-darker border border-discord-lighter rounded hover:bg-discord-lighter disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]}):r.jsxs("div",{className:"bg-discord-light rounded-lg p-8 text-center",children:[r.jsx("p",{className:"text-gray-400",children:"No session history found"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Sessions are recorded when the player joins tracked servers"})]})}function FC({steamid64:e}){const{data:t,isLoading:s}=uC(e),[n,i]=j.useState(!1),[a,l]=j.useState(!1),[o,c]=j.useState(!1),[d,u]=j.useState(!1),[h,m]=j.useState(null);if(s)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-discord-blurple"})});const f=(t==null?void 0:t.entries)||[],g=f.some(x=>x.status==="active"||x.status==="permanent");return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-medium text-white",children:["Whitelist History",r.jsxs("span",{className:"text-sm text-gray-400 ml-2",children:["(",f.length," entries)"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>i(!0),className:"bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2",children:[r.jsx(Tt,{className:"w-4 h-4"}),"Add Whitelist"]}),g&&r.jsxs("button",{onClick:()=>l(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2",children:[r.jsx(zs,{className:"w-4 h-4"}),"Revoke All"]})]})]}),f.length===0?r.jsx("div",{className:"bg-discord-light rounded-lg p-8 text-center",children:r.jsx("p",{className:"text-gray-400",children:"No whitelist entries found"})}):r.jsx("div",{className:"space-y-3",children:f.map(x=>r.jsx("div",{className:ce("p-3 rounded-lg border bg-discord-light",x.revoked?"border-red-500/30":x.status==="active"||x.status==="permanent"?"border-green-500/30":"border-discord-lighter"),children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:ce("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border",zk(x.status)),children:x.status}),r.jsx("span",{className:ce("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border",Bk(x.source)),children:x.source||"unknown"})]}),r.jsx("p",{className:"text-sm text-gray-300",children:x.reason||"No reason specified"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Granted ",Pt(x.granted_at)," by ",x.granted_by||"Unknown"]}),x.duration_value&&r.jsxs("p",{className:"text-xs text-gray-500",children:["Duration: ",x.duration_value," ",x.duration_type]}),!x.duration_value&&!x.revoked&&r.jsx("p",{className:"text-xs text-gray-500",children:"Duration: Permanent"})]}),r.jsx("div",{className:"flex items-start gap-2",children:x.revoked?r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-red-400",children:"Revoked"}),r.jsx("p",{className:"text-xs text-gray-500",children:Pt(x.revoked_at)}),r.jsxs("p",{className:"text-xs text-gray-500",children:["by ",x.revoked_by]}),x.revoked_reason&&r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Reason: ",x.revoked_reason]})]}):x.source!=="role"&&r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>{m(x),u(!0)},className:"p-1.5 text-gray-400 hover:text-white hover:bg-discord-lighter rounded transition-colors",title:"Edit entry",children:r.jsx(w2,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>{m(x),c(!0)},className:"p-1.5 text-gray-400 hover:text-red-400 hover:bg-discord-lighter rounded transition-colors",title:"Revoke entry",children:r.jsx(zs,{className:"w-4 h-4"})})]})})]})},x.id))}),n&&r.jsx(UC,{steamid64:e,onClose:()=>i(!1)}),d&&h&&r.jsx(qC,{entry:h,onClose:()=>{u(!1),m(null)}}),o&&h&&r.jsx(zC,{entry:h,onClose:()=>{c(!1),m(null)}}),a&&r.jsx(BC,{steamid64:e,onClose:()=>l(!1)})]})}function UC({steamid64:e,onClose:t}){const s=qy(),[n,i]=j.useState({value:1,type:"months"}),[a,l]=j.useState(""),[o,c]=j.useState(!1),d=async u=>{if(u.preventDefault(),!!a.trim())try{await s.mutateAsync({steamid64:e,reason:a,duration_value:o?null:n.value,duration_type:o?null:n.type}),t()}catch{}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-md mx-4 p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Add Whitelist"}),r.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:["Grant whitelist access for ",e]}),r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[r.jsx("textarea",{value:a,onChange:u=>l(u.target.value),placeholder:"Reason (required)",rows:2,required:!0,className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white placeholder-gray-500 resize-none"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"permanent",checked:o,onChange:u=>c(u.target.checked),className:"rounded border-discord-lighter bg-discord-darker"}),r.jsx("label",{htmlFor:"permanent",className:"text-sm text-gray-300",children:"Permanent"})]}),!o&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"number",min:"1",value:n.value,onChange:u=>i({...n,value:parseInt(u.target.value)||1}),className:"w-24 bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white"}),r.jsxs("select",{value:n.type,onChange:u=>i({...n,type:u.target.value}),className:"bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white",children:[r.jsx("option",{value:"hours",children:"Hours"}),r.jsx("option",{value:"days",children:"Days"}),r.jsx("option",{value:"months",children:"Months"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-white",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:s.isPending||!a.trim(),className:"bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50",children:s.isPending?"Adding...":"Add Whitelist"})]})]})]})})}function qC({entry:e,onClose:t}){const s=vC(),[n,i]=j.useState(e.reason||""),[a,l]=j.useState({value:e.duration_value||1,type:e.duration_type||"months"}),o=async c=>{c.preventDefault();const d={reason:n,duration_value:a.value,duration_type:a.type};try{await s.mutateAsync({id:e.id,request:d}),t()}catch{}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-md mx-4 p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Edit Entry"}),r.jsxs("form",{onSubmit:o,className:"space-y-4",children:[r.jsx("textarea",{value:n,onChange:c=>i(c.target.value),placeholder:"Reason",rows:2,className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white placeholder-gray-500 resize-none"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"number",min:"1",value:a.value,onChange:c=>l({...a,value:parseInt(c.target.value)||1}),className:"w-24 bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white"}),r.jsxs("select",{value:a.type,onChange:c=>l({...a,type:c.target.value}),className:"bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white",children:[r.jsx("option",{value:"hours",children:"Hours"}),r.jsx("option",{value:"days",children:"Days"}),r.jsx("option",{value:"months",children:"Months"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-white",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:s.isPending,className:"bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50",children:s.isPending?"Saving...":"Save"})]})]})]})})}function zC({entry:e,onClose:t}){const s=yC(),[n,i]=j.useState(""),a=async l=>{l.preventDefault();try{await s.mutateAsync({id:e.id,reason:n||void 0}),t()}catch{}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-md mx-4 p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Revoke Entry"}),r.jsxs("form",{onSubmit:a,className:"space-y-4",children:[r.jsx("textarea",{value:n,onChange:l=>i(l.target.value),placeholder:"Reason (optional)",rows:2,className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white placeholder-gray-500 resize-none"}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-white",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:s.isPending,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50",children:s.isPending?"Revoking...":"Revoke"})]})]})]})})}function BC({steamid64:e,onClose:t}){const s=gC(),[n,i]=j.useState(""),a=async l=>{if(l.preventDefault(),!n.trim())return;const o={reason:n};try{await s.mutateAsync({steamid64:e,request:o}),t()}catch{}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-md mx-4 p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Revoke All Whitelist"}),r.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"This will revoke all non-role-based whitelist entries."}),r.jsxs("form",{onSubmit:a,className:"space-y-4",children:[r.jsx("textarea",{value:n,onChange:l=>i(l.target.value),placeholder:"Reason (required)",rows:2,required:!0,className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white placeholder-gray-500 resize-none"}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-white",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:s.isPending||!n.trim(),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50",children:s.isPending?"Revoking...":"Revoke All"})]})]})]})})}function $C({steamid64:e}){const[t,s]=j.useState(1),{data:n,isLoading:i}=oC(e,t);return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-discord-blurple"})}):n!=null&&n.logs.length?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"space-y-3",children:n.logs.map(a=>r.jsx("div",{className:"bg-discord-light rounded-lg p-4",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-discord-blurple/20 text-discord-blurple border border-discord-blurple/30",children:a.actionType}),a.success?r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-500/20 text-green-400 border border-green-500/30",children:"Success"}):r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-500/20 text-red-400 border border-red-500/30",children:"Failed"})]}),r.jsx("p",{className:"text-sm text-gray-300",children:a.description}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["By ",a.actorName," at ",Pt(a.createdAt)]})]})})},a.id))}),n.pagination.totalPages>1&&r.jsxs("div",{className:"flex items-center justify-between px-4",children:[r.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",(n.pagination.page-1)*n.pagination.limit+1," to"," ",Math.min(n.pagination.page*n.pagination.limit,n.pagination.total)," of"," ",n.pagination.total," logs"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>s(t-1),disabled:t<=1,className:"px-3 py-1 text-sm bg-discord-darker border border-discord-lighter rounded hover:bg-discord-lighter disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),r.jsxs("span",{className:"text-sm text-gray-400",children:["Page ",t," of ",n.pagination.totalPages]}),r.jsx("button",{onClick:()=>s(t+1),disabled:t>=n.pagination.totalPages,className:"px-3 py-1 text-sm bg-discord-darker border border-discord-lighter rounded hover:bg-discord-lighter disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]}):r.jsx("div",{className:"bg-discord-light rounded-lg p-8 text-center",children:r.jsx("p",{className:"text-gray-400",children:"No audit logs found for this player"})})}function bf(e){if(e===0)return"0m";const t=Math.floor(e/60),s=e%60;return t===0?`${s}m`:s===0?`${t}h`:`${t}h ${s}m`}function HC({steamid64:e}){const[t,s]=j.useState(1),{data:n,isLoading:i}=cC(e,t);if(i)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-discord-blurple"})});if(!(n!=null&&n.participations.length))return r.jsxs("div",{className:"bg-discord-light rounded-lg p-8 text-center",children:[r.jsx("p",{className:"text-gray-400",children:"No seeding activity found"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Seeding activity is recorded when the player participates in seeding sessions"})]});const a=l=>{switch(l){case"completed":return"bg-green-500/20 text-green-400 border-green-500/30";case"playtime_met":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"switched":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"seeder":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"on_source":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-discord-light rounded-lg overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-discord-lighter",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Session"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Playtime"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Reward"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"})]})}),r.jsx("tbody",{className:"divide-y divide-discord-lighter",children:n.participations.map(l=>r.jsxs("tr",{className:"hover:bg-discord-lighter/50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-white",children:l.sessionName||`Session #${l.sessionId}`})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:ce("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border",l.participantType==="switcher"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":"bg-purple-500/20 text-purple-400 border-purple-500/30"),children:l.participantType})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:ce("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border",a(l.status)),children:l.status})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-white",children:bf(l.targetPlaytimeMinutes)})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("span",{className:"text-sm text-green-400",children:["+",bf(l.totalRewardMinutes)]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-300",children:Pt(l.createdAt)})})]},l.id))})]})}),n.pagination.totalPages>1&&r.jsxs("div",{className:"flex items-center justify-between px-4",children:[r.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",(n.pagination.page-1)*n.pagination.limit+1," to"," ",Math.min(n.pagination.page*n.pagination.limit,n.pagination.total)," of"," ",n.pagination.total," participations"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>s(t-1),disabled:t<=1,className:"px-3 py-1 text-sm bg-discord-darker border border-discord-lighter rounded hover:bg-discord-lighter disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),r.jsxs("span",{className:"text-sm text-gray-400",children:["Page ",t," of ",n.pagination.totalPages]}),r.jsx("button",{onClick:()=>s(t+1),disabled:t>=n.pagination.totalPages,className:"px-3 py-1 text-sm bg-discord-darker border border-discord-lighter rounded hover:bg-discord-lighter disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})}function WC({steamid64:e}){const[t,s]=j.useState(1),{data:n,isLoading:i}=dC(e,t);return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-discord-blurple"})}):n!=null&&n.changes.length?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-discord-light rounded-lg overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-discord-lighter",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Source"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Reason"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"})]})}),r.jsx("tbody",{className:"divide-y divide-discord-lighter",children:n.changes.map(a=>r.jsxs("tr",{className:"hover:bg-discord-lighter/50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:ce("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border",a.status?"bg-green-500/20 text-green-400 border-green-500/30":"bg-red-500/20 text-red-400 border-red-500/30"),children:a.status?"On Duty":"Off Duty"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:ce("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border",a.dutyType==="admin"?"bg-discord-blurple/20 text-discord-blurple border-discord-blurple/30":"bg-purple-500/20 text-purple-400 border-purple-500/30"),children:a.dutyType})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-300 capitalize",children:a.source})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-300",children:a.reason||"-"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-300",children:Pt(a.createdAt)})})]},a.id))})]})}),n.pagination.totalPages>1&&r.jsxs("div",{className:"flex items-center justify-between px-4",children:[r.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",(n.pagination.page-1)*n.pagination.limit+1," to"," ",Math.min(n.pagination.page*n.pagination.limit,n.pagination.total)," of"," ",n.pagination.total," changes"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>s(t-1),disabled:t<=1,className:"px-3 py-1 text-sm bg-discord-darker border border-discord-lighter rounded hover:bg-discord-lighter disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),r.jsxs("span",{className:"text-sm text-gray-400",children:["Page ",t," of ",n.pagination.totalPages]}),r.jsx("button",{onClick:()=>s(t+1),disabled:t>=n.pagination.totalPages,className:"px-3 py-1 text-sm bg-discord-darker border border-discord-lighter rounded hover:bg-discord-lighter disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]}):r.jsxs("div",{className:"bg-discord-light rounded-lg p-8 text-center",children:[r.jsx("p",{className:"text-gray-400",children:"No duty history found"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Duty history is only available for staff members"})]})}function VC({steamid64:e,profile:t}){var E,D;const s=Hs(),[n,i]=j.useState(!1),[a,l]=j.useState(!1),[o,c]=j.useState(!1),[d,u]=j.useState(""),[h,m]=j.useState(!1),[f,g]=j.useState(""),{data:x,isLoading:w}=mC(e,n),{data:p,isLoading:b}=pC(e,a),y=zy(),v=fC(),S=_=>_>=1?"text-green-400":_>=.7?"text-yellow-400":"text-red-400",C=_=>_>=1?"bg-green-500/20 border-green-500/30":_>=.7?"bg-yellow-500/20 border-yellow-500/30":"bg-red-500/20 border-red-500/30",k=_=>{switch(_){case"manual":return"Admin Link";case"ticket":return"Ticket";case"squadjs":return"In-Game Verification";case"import":return"Import";default:return _}},R=_=>{switch(_){case"active":return"bg-green-500/20 text-green-400 border-green-500/30";case"permanent":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"expired":return"bg-gray-500/20 text-gray-400 border-gray-500/30";case"revoked":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},U=_=>{if(_===0)return"0h";const V=Math.floor(_/60),O=_%60;return V===0?`${O}m`:O===0?`${V}h`:`${V}h ${O}m`};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-discord-light rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2",children:[r.jsx(ui,{className:"w-5 h-5 text-discord-blurple"}),"Primary Account Link"]}),t.discordLink&&t.discordLink.confidence_score<1&&r.jsxs("button",{onClick:()=>c(!0),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded text-sm font-medium transition-colors flex items-center gap-1",title:"Upgrade to 100% confidence",children:[r.jsx(Ya,{className:"w-4 h-4"}),"Upgrade Confidence"]})]}),t.discordLink?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:ce("p-3 rounded-lg border",C(t.discordLink.confidence_score)),children:t.discordLink.confidence_score>=1?r.jsx(Po,{className:"w-8 h-8 text-green-400"}):r.jsx(Ge,{className:"w-8 h-8 text-yellow-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-white font-medium",children:"Confidence Score"}),r.jsxs("span",{className:ce("text-2xl font-bold",S(t.discordLink.confidence_score)),children:[(t.discordLink.confidence_score*100).toFixed(0),"%"]})]}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:t.discordLink.confidence_score>=1?"High confidence link - meets staff requirements":t.discordLink.confidence_score>=.7?"Medium confidence - may need verification for staff roles":"Low confidence - verification required for most features"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[r.jsxs("div",{className:"bg-discord-darker rounded-lg p-4",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Steam ID"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("code",{className:"text-blue-400 font-mono",children:e}),r.jsx(Ct,{text:e,size:3})]})]}),r.jsxs("div",{className:"bg-discord-darker rounded-lg p-4",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Discord ID"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("code",{className:"text-purple-400 font-mono",children:t.discordLink.discord_user_id}),r.jsx(Ct,{text:t.discordLink.discord_user_id,size:3})]})]}),r.jsxs("div",{className:"bg-discord-darker rounded-lg p-4",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Link Source"}),r.jsx("span",{className:ce("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border",t.discordLink.link_source==="squadjs"?"bg-green-500/20 text-green-400 border-green-500/30":"bg-gray-500/20 text-gray-300 border-gray-500/30"),children:k(t.discordLink.link_source)})]}),r.jsxs("div",{className:"bg-discord-darker rounded-lg p-4",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Linked At"}),r.jsxs("span",{className:"text-gray-300 flex items-center gap-1",children:[r.jsx(Ht,{className:"w-3 h-3"}),Pt(t.discordLink.created_at)]})]})]}),t.eosID&&r.jsxs("div",{className:"bg-discord-darker rounded-lg p-4",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"EOS ID"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("code",{className:"text-green-400 font-mono text-sm",children:t.eosID}),r.jsx(Ct,{text:t.eosID,size:3})]})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ge,{className:"w-12 h-12 text-yellow-400 mx-auto mb-3"}),r.jsx("p",{className:"text-white font-medium",children:"No Account Link"}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"This player has not linked their Steam account to Discord"})]})]}),!t.discordLink&&t.potentialLink&&r.jsxs("div",{className:"bg-discord-light rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2",children:[r.jsx(ia,{className:"w-5 h-5 text-yellow-400"}),"Potential Link"]}),r.jsxs("button",{onClick:()=>m(!0),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded text-sm font-medium transition-colors flex items-center gap-1",children:[r.jsx(ia,{className:"w-4 h-4"}),"Link Account"]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[r.jsx(Ge,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-yellow-400",children:"Unverified Link"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'This potential link was discovered but has not been verified. Click "Link Account" to create a verified link.'})]})]}),t.potentialLink.discordInfo?r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-discord-darker rounded-lg",children:[r.jsx("img",{src:t.potentialLink.discordInfo.avatar_url||"/default-avatar.png",alt:"Discord avatar",className:"w-16 h-16 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-white font-medium text-lg",children:t.potentialLink.discordInfo.display_name}),r.jsxs("p",{className:"text-gray-400 text-sm",children:["@",t.potentialLink.discordInfo.discord_username]}),t.potentialLink.discordInfo.nickname&&t.potentialLink.discordInfo.nickname!==t.potentialLink.discordInfo.display_name&&r.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Server nickname: ",t.potentialLink.discordInfo.nickname]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("span",{className:"text-2xl font-bold text-yellow-400",children:[(t.potentialLink.confidence_score*100).toFixed(0),"%"]}),r.jsx("p",{className:"text-xs text-gray-400",children:"confidence"})]})]}):r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:ce("p-3 rounded-lg border","bg-yellow-500/20 border-yellow-500/30"),children:r.jsx(Ge,{className:"w-8 h-8 text-yellow-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-white font-medium",children:"Confidence Score"}),r.jsxs("span",{className:"text-2xl font-bold text-yellow-400",children:[(t.potentialLink.confidence_score*100).toFixed(0),"%"]})]}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Discord user not found in server"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[r.jsxs("div",{className:"bg-discord-darker rounded-lg p-4",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Discord ID"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("code",{className:"text-purple-400 font-mono text-sm",children:t.potentialLink.discord_user_id}),r.jsx(Ct,{text:t.potentialLink.discord_user_id,size:3})]})]}),r.jsxs("div",{className:"bg-discord-darker rounded-lg p-4",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Link Source"}),r.jsx("span",{className:ce("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border","bg-yellow-500/20 text-yellow-400 border-yellow-500/30"),children:k(t.potentialLink.link_source)})]}),r.jsxs("div",{className:"bg-discord-darker rounded-lg p-4",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Steam ID"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("code",{className:"text-blue-400 font-mono text-sm",children:e}),r.jsx(Ct,{text:e,size:3})]})]}),r.jsxs("div",{className:"bg-discord-darker rounded-lg p-4",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"In-Game Name"}),(E=t.battlemetrics)!=null&&E.found&&t.battlemetrics.playerName?r.jsx("span",{className:"text-gray-300",children:t.battlemetrics.playerName}):t.username?r.jsx("span",{className:"text-gray-300",children:t.username}):r.jsx("span",{className:"text-gray-500",children:"Unknown"})]})]}),((D=t.battlemetrics)==null?void 0:D.found)&&t.battlemetrics.profileUrl&&r.jsxs("div",{className:"bg-discord-darker rounded-lg p-4 mt-4",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-2",children:"BattleMetrics"}),r.jsxs("a",{href:t.battlemetrics.profileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-discord-blurple hover:underline text-sm flex items-center gap-1",children:["View on BattleMetrics",r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),t.potentialLink.metadata&&r.jsxs("div",{className:"bg-discord-darker rounded-lg p-4 mt-4",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-2",children:"Discovery Details"}),r.jsxs("dl",{className:"space-y-1 text-sm",children:[t.potentialLink.metadata.ticketChannelName&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Ticket Channel"}),r.jsxs("dd",{className:"text-gray-300",children:["#",t.potentialLink.metadata.ticketChannelName]})]}),t.potentialLink.metadata.extractedAt&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Extracted At"}),r.jsx("dd",{className:"text-gray-300",children:Pt(t.potentialLink.metadata.extractedAt)})]})]})]})]})]}),h&&t.potentialLink&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-md mx-4 p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Link Account"}),r.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:["Create a verified link from this potential link. Confidence will be upgraded from"," ",r.jsxs("span",{className:"text-yellow-400",children:[(t.potentialLink.confidence_score*100).toFixed(0),"%"]})," to"," ",r.jsx("span",{className:"text-green-400",children:"100%"})]}),t.potentialLink.discordInfo&&r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-discord-darker rounded-lg mb-4",children:[r.jsx("img",{src:t.potentialLink.discordInfo.avatar_url||"/default-avatar.png",alt:"Discord avatar",className:"w-10 h-10 rounded-full"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:t.potentialLink.discordInfo.display_name}),r.jsxs("p",{className:"text-gray-400 text-xs",children:["@",t.potentialLink.discordInfo.discord_username]})]})]}),r.jsx("div",{className:"bg-discord-darker rounded-lg p-3 mb-4",children:r.jsxs("dl",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Steam ID"}),r.jsx("dd",{className:"text-blue-400 font-mono text-xs",children:e})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Discord ID"}),r.jsx("dd",{className:"text-purple-400 font-mono text-xs",children:t.potentialLink.discord_user_id})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-gray-400",children:"Original Source"}),r.jsx("dd",{className:"text-gray-300 capitalize",children:t.potentialLink.link_source})]})]})}),r.jsxs("form",{onSubmit:async _=>{if(_.preventDefault(),!(!f.trim()||!t.potentialLink))try{await v.mutateAsync({steamid64:e,discordUserId:t.potentialLink.discord_user_id,reason:f}),m(!1),g("")}catch{}},className:"space-y-4",children:[r.jsx("textarea",{value:f,onChange:_=>g(_.target.value),placeholder:"Reason for linking (required)",rows:2,required:!0,className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white placeholder-gray-500 resize-none"}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:()=>{m(!1),g("")},className:"text-gray-400 hover:text-white",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:v.isPending||!f.trim(),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50",children:v.isPending?"Linking...":"Link Account"})]})]})]})}),t.discordInfo&&r.jsxs("div",{className:"bg-discord-light rounded-lg p-6",children:[r.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center gap-2",children:[r.jsx(hi,{className:"w-5 h-5 text-discord-blurple"}),"Discord Account"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-discord-darker rounded-lg p-4",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Username"}),r.jsx("span",{className:"text-gray-300",children:t.discordInfo.discord_username})]}),t.discordInfo.globalName&&r.jsxs("div",{className:"bg-discord-darker rounded-lg p-4",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Global Name"}),r.jsx("span",{className:"text-gray-300",children:t.discordInfo.globalName})]}),t.discordInfo.nickname&&r.jsxs("div",{className:"bg-discord-darker rounded-lg p-4",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Server Nickname"}),r.jsx("span",{className:"text-gray-300",children:t.discordInfo.nickname})]}),t.discordInfo.joinedAt&&r.jsxs("div",{className:"bg-discord-darker rounded-lg p-4",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Joined Server"}),r.jsxs("span",{className:"text-gray-300 flex items-center gap-1",children:[r.jsx(Vh,{className:"w-3 h-3"}),Pr(t.discordInfo.joinedAt)]})]}),t.discordInfo.createdAt&&r.jsxs("div",{className:"bg-discord-darker rounded-lg p-4",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Account Created"}),r.jsx("span",{className:"text-gray-300",children:new Date(t.discordInfo.createdAt).toLocaleDateString()})]})]})]}),t.discordRoles&&t.discordRoles.length>0&&r.jsxs("div",{className:"bg-discord-light rounded-lg p-6",children:[r.jsxs("h3",{className:"text-lg font-medium text-white mb-4 flex items-center gap-2",children:[r.jsx(ut,{className:"w-5 h-5 text-discord-blurple"}),"Discord Roles"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.discordRoles.map(_=>r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:_.color!=="#000000"?`${_.color}20`:"rgba(255,255,255,0.1)",color:_.color!=="#000000"?_.color:"#9ca3af",border:`1px solid ${_.color!=="#000000"?_.color:"rgba(255,255,255,0.2)"}`},children:_.name},_.id))})]}),t.discordLink&&r.jsxs("div",{className:"bg-discord-light rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2",children:[r.jsx(rt,{className:"w-5 h-5 text-purple-400"}),"All Linked Steam Accounts"]}),!a&&r.jsx("button",{onClick:()=>l(!0),className:"text-sm text-discord-blurple hover:underline",children:"Load accounts"})]}),a?b?r.jsx("div",{className:"flex items-center justify-center h-24",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-discord-blurple"})}):p!=null&&p.accounts.length?p.accounts.length===1?r.jsx("p",{className:"text-gray-400 text-sm",children:"This is the only Steam account linked to this Discord user"}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-discord-lighter",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Steam ID"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Username"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Playtime"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Whitelist"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Confidence"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Primary"})]})}),r.jsx("tbody",{className:"divide-y divide-discord-lighter",children:p.accounts.map(_=>r.jsxs("tr",{className:ce("hover:bg-discord-lighter/50 transition-colors",_.steamid64!==e&&"cursor-pointer"),onClick:()=>{_.steamid64!==e&&s(`/players/${_.steamid64}`)},children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("code",{className:ce("text-sm font-mono",_.steamid64===e?"text-white font-bold":"text-blue-400"),children:_.steamid64}),_.steamid64===e&&r.jsx("span",{className:"text-xs text-gray-400",children:"(current)"}),r.jsx("span",{onClick:V=>V.stopPropagation(),children:r.jsx(Ct,{text:_.steamid64,size:3})})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-300",children:_.username||"-"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-300",children:U(_.totalPlaytimeMinutes)})}),r.jsx("td",{className:"px-4 py-3",children:_.hasWhitelist?r.jsx("span",{className:ce("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border",R(_.whitelistStatus)),children:_.whitelistStatus}):r.jsx("span",{className:"text-xs text-gray-500",children:"None"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("span",{className:ce("text-sm font-medium",S(_.confidence_score)),children:[(_.confidence_score*100).toFixed(0),"%"]})}),r.jsx("td",{className:"px-4 py-3",children:_.is_primary?r.jsx(Po,{className:"w-4 h-4 text-green-400"}):r.jsx("span",{className:"text-gray-500",children:"-"})})]},_.steamid64))})]})}):r.jsx("p",{className:"text-gray-400 text-sm",children:"No linked accounts found"}):r.jsx("p",{className:"text-gray-400 text-sm",children:'Click "Load accounts" to view all Steam accounts linked to this Discord user'})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2",children:[r.jsx(Qa,{className:"w-5 h-5 text-red-400"}),"Unlink History"]}),!n&&r.jsx("button",{onClick:()=>i(!0),className:"text-sm text-discord-blurple hover:underline",children:"Load history"})]}),n?w?r.jsx("div",{className:"flex items-center justify-center h-24",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-discord-blurple"})}):x!=null&&x.history.length?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-discord-lighter",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Steam ID"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Username"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Reason"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Unlinked At"})]})}),r.jsx("tbody",{className:"divide-y divide-discord-lighter",children:x.history.map(_=>r.jsxs("tr",{className:"hover:bg-discord-lighter/50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("code",{className:"text-sm text-blue-400 font-mono",children:_.steamid64}),r.jsx(Ct,{text:_.steamid64,size:3})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-300",children:_.username||"-"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-300",children:_.reason||"No reason provided"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-300",children:Pt(_.unlinked_at)})})]},_.id))})]})}):r.jsx("p",{className:"text-gray-400 text-sm",children:"No unlink history found"}):r.jsx("p",{className:"text-gray-400 text-sm",children:'Click "Load history" to view previous unlinked accounts'})]}),o&&t.discordLink&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-md mx-4 p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Upgrade Confidence"}),r.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:["Upgrade from ",r.jsxs("span",{className:"text-yellow-400",children:[(t.discordLink.confidence_score*100).toFixed(0),"%"]})," to"," ",r.jsx("span",{className:"text-green-400",children:"100%"})]}),r.jsxs("form",{onSubmit:async _=>{if(_.preventDefault(),!!d.trim())try{await y.mutateAsync({steamid64:e,reason:d}),c(!1),u("")}catch{}},className:"space-y-4",children:[r.jsx("textarea",{value:d,onChange:_=>u(_.target.value),placeholder:"Reason (required)",rows:2,required:!0,className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white placeholder-gray-500 resize-none"}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:()=>{c(!1),u("")},className:"text-gray-400 hover:text-white",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:y.isPending||!d.trim(),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50",children:y.isPending?"Upgrading...":"Upgrade"})]})]})]})})]})}function KC({steamid64:e,profile:t}){var x,w,p,b,y,v,S;const{hasPermission:s}=Q(),{data:n,isLoading:i,error:a}=Uy(e),[l,o]=j.useState(!1),c=xC(),[d,u]=j.useState(""),{data:h,isLoading:m}=hC(e);if(i)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-discord-blurple"})});if(a)return r.jsxs("div",{className:"bg-discord-light rounded-lg p-8 text-center",children:[r.jsx(Ge,{className:"w-8 h-8 text-yellow-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-400",children:"Unable to load game stats"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"The stats service may be temporarily unavailable. Please try again later."})]});if(!(n!=null&&n.stats))return r.jsxs("div",{className:"bg-discord-light rounded-lg p-8 text-center",children:[r.jsx(ra,{className:"w-8 h-8 text-gray-500 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-400",children:"No game stats found"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This player may not have played on our servers yet."})]});const{stats:f}=n,g=n.statsResetAt??t.statsResetAt;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ra,{className:"w-5 h-5 text-cyan-400"}),r.jsx("h3",{className:"text-lg font-medium text-white",children:"Game Statistics"}),g?r.jsxs("span",{className:"text-sm text-gray-400 ml-2",children:["Since ",Pr(g)]}):r.jsx("span",{className:"text-sm text-gray-400 ml-2",children:"Lifetime"})]}),s("RESET_PLAYER_STATS")&&r.jsxs("button",{onClick:()=>o(!0),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1.5 rounded text-xs font-medium transition-colors flex items-center gap-1",children:[r.jsx(yn,{className:"w-3 h-3"}),"Reset Stats"]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-xs mb-1",children:[r.jsx(ef,{className:"w-3 h-3"}),"Kills"]}),r.jsx("div",{className:"text-white text-2xl font-semibold",children:((x=f.kills)==null?void 0:x.toLocaleString())??"0"})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-xs mb-1",children:[r.jsx(sf,{className:"w-3 h-3"}),"Deaths"]}),r.jsx("div",{className:"text-white text-2xl font-semibold",children:((w=f.deaths)==null?void 0:w.toLocaleString())??"0"})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-xs mb-1",children:[r.jsx(ra,{className:"w-3 h-3"}),"K/D Ratio"]}),r.jsx("div",{className:ce("text-2xl font-semibold",(f.kdRatio??0)>=2?"text-green-400":(f.kdRatio??0)>=1?"text-white":"text-red-400"),children:((p=f.kdRatio)==null?void 0:p.toFixed(2))??"0.00"})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-xs mb-1",children:[r.jsx(Ge,{className:"w-3 h-3"}),"Teamkills"]}),r.jsx("div",{className:ce("text-2xl font-semibold",(f.teamkills??0)>10?"text-red-400":(f.teamkills??0)>5?"text-yellow-400":"text-white"),children:((b=f.teamkills)==null?void 0:b.toLocaleString())??"0"})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-xs mb-1",children:[r.jsx(tf,{className:"w-3 h-3"}),"Revives Given"]}),r.jsx("div",{className:"text-green-400 text-2xl font-semibold",children:((y=f.revivesGiven)==null?void 0:y.toLocaleString())??"0"})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-xs mb-1",children:[r.jsx(tf,{className:"w-3 h-3"}),"Revives Received"]}),r.jsx("div",{className:"text-blue-400 text-2xl font-semibold",children:((v=f.revivesReceived)==null?void 0:v.toLocaleString())??"0"})]})]}),f.nemesis&&f.nemesis!=="None"&&r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-xs mb-1",children:[r.jsx(rt,{className:"w-3 h-3"}),"Nemesis"]}),r.jsx("div",{className:"text-orange-400 font-semibold",children:f.nemesis})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium text-white",children:"Recent Killfeed"}),m?r.jsx("div",{className:"flex items-center justify-center h-32",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-discord-blurple"})}):(S=h==null?void 0:h.killfeed)!=null&&S.length?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-discord-light rounded-lg overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-discord-lighter",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Player"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Weapon"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Server"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Time"})]})}),r.jsx("tbody",{className:"divide-y divide-discord-lighter",children:h.killfeed.map((C,k)=>r.jsxs("tr",{className:"hover:bg-discord-lighter/50",children:[r.jsx("td",{className:"px-4 py-3",children:C.type==="kill"?r.jsxs("span",{className:ce("inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium border",C.teamkill?"bg-orange-500/20 text-orange-400 border-orange-500/30":"bg-green-500/20 text-green-400 border-green-500/30"),children:[r.jsx(ef,{className:"w-3 h-3"}),C.teamkill?"TK":"Kill"]}):r.jsxs("span",{className:ce("inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium border",C.teamkill?"bg-orange-500/20 text-orange-400 border-orange-500/30":"bg-red-500/20 text-red-400 border-red-500/30"),children:[r.jsx(sf,{className:"w-3 h-3"}),C.teamkill?"TK'd":"Death"]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-white",children:C.type==="kill"?C.victim:C.attacker})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-300 font-mono",children:C.weapon})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-300 font-mono",children:C.serverId})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-300",children:Pt(C.timestamp)})})]},`${C.timestamp}-${k}`))})]})}),h.count>0&&r.jsxs("p",{className:"text-sm text-gray-400 px-4",children:[h.count," events in the last 3 days"]})]}):r.jsx("div",{className:"bg-discord-light rounded-lg p-6 text-center",children:r.jsx("p",{className:"text-gray-400 text-sm",children:"No killfeed data available"})})]}),l&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-md mx-4 p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Reset Game Stats"}),r.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"This will reset the player's game statistics (K/D, kills, deaths, etc.). Stats will only be calculated from this point forward."}),r.jsxs("form",{onSubmit:async C=>{if(C.preventDefault(),!!d.trim())try{await c.mutateAsync({steamid64:e,reason:d}),o(!1),u("")}catch{}},className:"space-y-4",children:[r.jsx("textarea",{value:d,onChange:C=>u(C.target.value),placeholder:"Reason for reset (required)",rows:2,required:!0,className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white placeholder-gray-500 resize-none"}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:()=>{o(!1),u("")},className:"text-gray-400 hover:text-white",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:c.isPending||!d.trim(),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50",children:c.isPending?"Resetting...":"Reset Stats"})]})]})]})})]})}const QC=[{id:"overview",label:"Overview",icon:hi},{id:"activity",label:"Activity",icon:_a},{id:"stats",label:"Stats",icon:ra},{id:"whitelist",label:"Whitelist",icon:ut},{id:"audit",label:"Audit",icon:Qa,permission:"VIEW_AUDIT"},{id:"seeding",label:"Seeding",icon:Z0,permission:"VIEW_SEEDING"},{id:"duty",label:"Duty",icon:n2,permission:"VIEW_DUTY"},{id:"account",label:"Account",icon:ui}];function GC(e){if(e===0)return"0h";const t=Math.floor(e/60),s=e%60;return t===0?`${s}m`:s===0?`${t}h`:`${t}h ${s}m`}function YC(){var d;const{steamid64:e}=Zo(),{hasPermission:t}=Q(),[s,n]=j.useState("overview"),{data:i,isLoading:a,error:l}=aC(e);if(a)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-discord-blurple"})});if(l||!i)return r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-red-400",children:"Failed to load player profile"}),r.jsx(Ke,{to:"/players",className:"text-discord-blurple hover:underline mt-2 inline-block",children:"Back to players"})]});const o=QC.filter(u=>!(u.permission&&!t(u.permission)||u.id==="duty"&&!i.isStaff)),c=u=>{switch(u){case"active":return"bg-green-500/20 text-green-400 border-green-500/30";case"permanent":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"expired":return"bg-gray-500/20 text-gray-400 border-gray-500/30";case"revoked":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(Ke,{to:"/players",className:"text-gray-400 hover:text-white transition-colors mt-1",children:r.jsx(Wh,{className:"w-5 h-5"})}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-start gap-4",children:[(d=i.discordInfo)!=null&&d.avatar_url?r.jsx("img",{src:i.discordInfo.avatar_url,alt:"Avatar",className:"w-16 h-16 rounded-full border-2 border-discord-lighter"}):r.jsx("div",{className:"w-16 h-16 rounded-full bg-discord-lighter flex items-center justify-center",children:r.jsx(hi,{className:"w-8 h-8 text-gray-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:i.username||"Unknown Player"}),i.isStaff&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-discord-blurple/20 text-discord-blurple border border-discord-blurple/30",children:[r.jsx(ut,{className:"w-3 h-3"}),"Staff"]}),i.whitelist.hasWhitelist&&r.jsx("span",{className:ce("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border",c(i.whitelist.status)),children:i.whitelist.status})]}),i.discordInfo&&r.jsx("p",{className:"text-gray-400 text-sm mt-1",children:i.discordInfo.discord_username}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx("code",{className:"text-blue-400 font-mono text-sm",children:e}),r.jsx(Ct,{text:e,size:4,className:"text-gray-500"})]})]}),r.jsxs("div",{className:"flex gap-6 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-400",children:"Playtime"}),r.jsx("p",{className:"text-white font-medium",children:GC(i.activity.totalPlaytimeMinutes)})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-400",children:"Joins"}),r.jsx("p",{className:"text-white font-medium",children:i.activity.joinCount})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-400",children:"Last Seen"}),r.jsx("p",{className:"text-white font-medium",children:i.activity.lastSeen?Pr(i.activity.lastSeen):"Never"})]}),i.discordLink&&r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-400",children:"Confidence"}),r.jsxs("p",{className:ce("font-medium",i.discordLink.confidence_score>=1?"text-green-400":i.discordLink.confidence_score>=.7?"text-yellow-400":"text-red-400"),children:[(i.discordLink.confidence_score*100).toFixed(0),"%"]})]})]})]})})]}),r.jsx("div",{className:"border-b border-discord-lighter",children:r.jsx("nav",{className:"flex gap-1",children:o.map(u=>r.jsxs("button",{onClick:()=>n(u.id),className:ce("flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors border-b-2 -mb-px",s===u.id?"text-white border-discord-blurple":"text-gray-400 border-transparent hover:text-white hover:border-gray-500"),children:[r.jsx(u.icon,{className:"w-4 h-4"}),u.label]},u.id))})}),r.jsxs("div",{className:"min-h-[400px]",children:[s==="overview"&&r.jsx(LC,{profile:i,steamid64:e,onTabChange:n}),s==="activity"&&r.jsx(IC,{steamid64:e}),s==="stats"&&r.jsx(KC,{steamid64:e,profile:i}),s==="whitelist"&&r.jsx(FC,{steamid64:e}),s==="audit"&&r.jsx($C,{steamid64:e}),s==="seeding"&&r.jsx(HC,{steamid64:e}),s==="duty"&&r.jsx(WC,{steamid64:e}),s==="account"&&r.jsx(VC,{steamid64:e,profile:i})]})]})}function XC(e,t=!0){const{user:s}=Q();return J({queryKey:["discord","members","search",e],queryFn:()=>Y1.searchMembers(e),enabled:t&&!!s&&e.length>=2,staleTime:1e3*60})}function JC(e,t=!0){const{user:s}=Q(),n=/^7656119\d{10}$/.test(e);return J({queryKey:["battlemetrics","player",e],queryFn:()=>X1.lookupPlayer(e),enabled:t&&!!s&&n,staleTime:1e3*60*5,retry:!1})}function ZC(e={}){const{user:t}=Q();return J({queryKey:["members","list",e],queryFn:()=>Hh.list(e),enabled:!!t})}function e3(){const{user:e}=Q();return J({queryKey:["members","roles"],queryFn:()=>Hh.getRoles(),enabled:!!e,staleTime:1e3*60*5})}function t3(){const e=X();return ee({mutationFn:t=>Hh.add(t),onSuccess:()=>{e.invalidateQueries({queryKey:["members"]}),e.invalidateQueries({queryKey:["discord","members"]})}})}function s3({onClose:e}){const[t,s]=j.useState(1),[n,i]=j.useState(null),[a,l]=j.useState(""),[o,c]=j.useState(null),[d,u]=j.useState(""),[h,m]=j.useState(null),[f,g]=j.useState({}),[x,w]=j.useState(""),[p,b]=j.useState(""),[y,v]=j.useState(-1),S=j.useRef(null);j.useEffect(()=>{const K=setTimeout(()=>{b(x)},300);return()=>clearTimeout(K)},[x]);const{data:C,isLoading:k}=XC(p,t===1),{data:R,isLoading:U,isError:E}=JC(a,t===2&&a.length===17),D=t3();j.useEffect(()=>{v(-1)},[C]),j.useEffect(()=>{var K;if(y>=0&&S.current){const ft=(K=S.current.children[0])==null?void 0:K.children[y];ft&&ft.scrollIntoView({block:"nearest"})}},[y]);const _=K=>{const Se=(C==null?void 0:C.members)||[];if(Se.length!==0)switch(K.key){case"ArrowDown":K.preventDefault(),v(ft=>ft<Se.length-1?ft+1:ft);break;case"ArrowUp":K.preventDefault(),v(ft=>ft>0?ft-1:-1);break;case"Enter":K.preventDefault(),y>=0&&y<Se.length&&L(Se[y]);break;case"Escape":w(""),v(-1);break}};j.useEffect(()=>{R&&!U&&(c(R),R.found&&R.playerData&&u(`-B&B- ${R.playerData.name}`))},[R,U]);const V=j.useCallback(K=>{const Se={};switch(K){case 1:n||(Se.user="Please select a Discord user");break;case 2:a?/^7656119\d{10}$/.test(a)||(Se.steamId="Invalid Steam64 ID format (should be 17 digits starting with 7656119)"):Se.steamId="Steam ID is required";break;case 3:d?d.length>32&&(Se.nickname="Nickname must be 32 characters or less"):Se.nickname="Nickname is required";break}return g(Se),Object.keys(Se).length===0},[n,a,d]),O=()=>{switch(t){case 1:return!!n;case 2:return/^7656119\d{10}$/.test(a)&&!U;case 3:return d.length>0&&d.length<=32;default:return!1}},G=()=>{V(t)&&(t===3?ae():s(K=>Math.min(K+1,4)))},W=()=>{g({}),s(K=>Math.max(K-1,1))},ae=async()=>{var K;if(!(!n||!a||!d))try{const Se=await D.mutateAsync({discord_user_id:n.id,steamid64:a,nickname:d,battlemetrics_player_id:((K=o==null?void 0:o.playerData)==null?void 0:K.id)||null});m(Se),s(4)}catch{}},P=()=>{s(1),i(null),l(""),c(null),u(""),m(null),g({}),w(""),b(""),D.reset()},L=K=>{i(K),w(""),b(""),v(-1),s(2)},q=K=>{K.key==="Enter"&&O()&&(K.preventDefault(),G())},H=K=>{K.key==="Enter"&&O()&&(K.preventDefault(),G())},se=()=>r.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:[1,2,3,4].map(K=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${K===t?"bg-discord-blurple text-white":K<t?"bg-green-500 text-white":"bg-discord-darker text-gray-400"}`,children:K<t?r.jsx(fs,{className:"w-4 h-4"}):K}),K<4&&r.jsx("div",{className:`w-8 h-0.5 ${K<t?"bg-green-500":"bg-discord-darker"}`})]},K))}),ie=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Search Discord User"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ls,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",value:x,onChange:K=>w(K.target.value),onKeyDown:_,placeholder:"Search by username...",className:"w-full bg-discord-darker border border-discord-lighter rounded-md pl-10 pr-4 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple",autoFocus:!0})]}),f.user&&r.jsx("p",{className:"text-red-400 text-xs mt-1",children:f.user})]}),n&&r.jsxs("div",{className:"bg-discord-darker rounded-md p-3 flex items-center gap-3",children:[r.jsx("img",{src:n.avatarUrl,alt:n.username,className:"w-10 h-10 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-white font-medium",children:n.displayName}),r.jsxs("p",{className:"text-gray-400 text-sm",children:["@",n.username]})]}),r.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-white",children:r.jsx(ht,{className:"w-4 h-4"})})]}),x.length>=2&&!n&&r.jsx("div",{ref:S,className:"bg-discord-darker rounded-md max-h-60 overflow-y-auto",children:k?r.jsxs("div",{className:"p-4 text-center text-gray-400",children:[r.jsx(Gc,{className:"w-5 h-5 animate-spin mx-auto mb-2"}),"Searching..."]}):C!=null&&C.members&&C.members.length>0?r.jsx("div",{className:"divide-y divide-discord-lighter",children:C.members.map((K,Se)=>r.jsxs("button",{onClick:()=>L(K),onMouseEnter:()=>v(Se),className:`w-full p-3 flex items-center gap-3 transition-colors text-left ${Se===y?"bg-discord-blurple/30":"hover:bg-discord-light"}`,children:[r.jsx("img",{src:K.avatarUrl,alt:K.username,className:"w-8 h-8 rounded-full"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-white font-medium truncate",children:K.displayName}),r.jsxs("p",{className:"text-gray-400 text-sm truncate",children:["@",K.username]})]})]},K.id))}):r.jsx("div",{className:"p-4 text-center text-gray-400",children:"No members found"})})]}),Oe=()=>r.jsxs("div",{className:"space-y-4",children:[n&&r.jsxs("div",{className:"bg-discord-darker rounded-md p-3 flex items-center gap-3",children:[r.jsx("img",{src:n.avatarUrl,alt:n.username,className:"w-8 h-8 rounded-full"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:n.displayName}),r.jsxs("p",{className:"text-gray-400 text-sm",children:["@",n.username]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Steam64 ID ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{type:"text",value:a,onChange:K=>{l(K.target.value.trim()),c(null)},onKeyDown:q,placeholder:"76561198000000000",className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple",autoFocus:!0}),f.steamId&&r.jsx("p",{className:"text-red-400 text-xs mt-1",children:f.steamId})]}),a.length===17&&/^7656119\d{10}$/.test(a)&&r.jsxs("div",{className:"bg-discord-darker rounded-md p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"BattleMetrics Lookup"}),U?r.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[r.jsx(Gc,{className:"w-4 h-4 animate-spin"}),"Looking up player..."]}):E?r.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[r.jsx(Er,{className:"w-4 h-4"}),"Failed to lookup player"]}):o!=null&&o.found&&o.playerData?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[r.jsx(fs,{className:"w-4 h-4"}),"Player found"]}),r.jsxs("div",{className:"pl-6 space-y-1",children:[r.jsxs("p",{className:"text-white",children:[r.jsx("span",{className:"text-gray-400",children:"Name:"})," ",o.playerData.name]}),o.profileUrl&&r.jsxs("a",{href:o.profileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-discord-blurple hover:underline flex items-center gap-1 text-sm",children:["View BattleMetrics Profile",r.jsx(na,{className:"w-3 h-3"})]})]})]}):o&&!o.found?r.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[r.jsx(Er,{className:"w-4 h-4"}),"Player not found in BattleMetrics",r.jsx("span",{className:"text-gray-400 text-xs",children:"(You can still proceed)"})]}):null]})]}),xe=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-discord-darker rounded-md p-4 space-y-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Review Details"}),r.jsx("div",{className:"flex items-center gap-3",children:n&&r.jsxs(r.Fragment,{children:[r.jsx("img",{src:n.avatarUrl,alt:n.username,className:"w-10 h-10 rounded-full"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:n.displayName}),r.jsxs("p",{className:"text-gray-400 text-sm",children:["@",n.username]})]})]})}),r.jsxs("div",{className:"border-t border-discord-lighter pt-3 space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Steam ID:"}),r.jsx("span",{className:"text-white font-mono text-sm",children:a})]}),(o==null?void 0:o.found)&&o.playerData&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"BM Player Name:"}),r.jsx("span",{className:"text-white",children:o.playerData.name})]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Server Nickname ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{type:"text",value:d,onChange:K=>u(K.target.value),onKeyDown:H,placeholder:"-B&B- PlayerName",maxLength:32,className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple",autoFocus:!0}),r.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:[d.length,"/32 characters"]}),f.nickname&&r.jsx("p",{className:"text-red-400 text-xs mt-1",children:f.nickname})]}),r.jsxs("div",{className:"bg-discord-darker rounded-md p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"What will happen:"}),r.jsxs("ul",{className:"text-sm text-gray-400 space-y-1 list-disc list-inside",children:[r.jsx("li",{children:"Create Steam-Discord account link (confidence 1.0)"}),r.jsx("li",{children:"Assign Member role"}),r.jsxs("li",{children:['Set server nickname to "',d||"...",'"']}),(o==null?void 0:o.found)&&r.jsx("li",{children:'Add "Member" flag in BattleMetrics'}),r.jsx("li",{children:"Send welcome message in member chat"})]})]})]}),Wt=()=>{var K;return r.jsx("div",{className:"space-y-4",children:h!=null&&h.success?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(fs,{className:"w-8 h-8 text-green-500"})}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Member Added Successfully!"}),r.jsxs("p",{className:"text-gray-400",children:[h.member.username," has been added as a member."]})]}),r.jsxs("div",{className:"bg-discord-darker rounded-md p-4 space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Account Link:"}),r.jsx("span",{className:"text-green-400",children:h.results.linkCreated?"Created":h.results.linkUpdated?"Updated":"Already exists"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Member Role:"}),r.jsx("span",{className:h.results.roleAdded||h.results.alreadyHadRole?"text-green-400":"text-red-400",children:h.results.roleAdded?"Added":h.results.alreadyHadRole?"Already had":"Failed"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Nickname:"}),r.jsx("span",{className:h.results.nicknameSet?"text-green-400":"text-red-400",children:h.results.nicknameSet?"Set":"Failed"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"BM Flag:"}),r.jsx("span",{className:h.results.flagAdded==="added"||h.results.flagAdded==="already_has"?"text-green-400":h.results.flagAdded==="skipped"?"text-gray-400":"text-red-400",children:h.results.flagAdded==="added"?"Added":h.results.flagAdded==="already_has"?"Already has":h.results.flagAdded==="skipped"?"Skipped":"Failed"})]})]}),h.errors.length>0&&r.jsxs("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded-md p-3",children:[r.jsx("h4",{className:"text-sm font-medium text-yellow-400 mb-1",children:"Warnings:"}),r.jsx("ul",{className:"text-sm text-yellow-300 list-disc list-inside",children:h.errors.map((Se,ft)=>r.jsx("li",{children:Se},ft))})]})]}):r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Er,{className:"w-8 h-8 text-red-500"})}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Failed to Add Member"}),r.jsx("p",{className:"text-gray-400",children:((K=h==null?void 0:h.errors)==null?void 0:K[0])||"An unexpected error occurred"})]})})};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-discord-lighter",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ku,{className:"w-5 h-5 text-discord-blurple"}),r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Add Member"})]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(ht,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-4",children:[r.jsx(se,{}),t===1&&ie(),t===2&&Oe(),t===3&&xe(),t===4&&Wt(),D.error&&t!==4&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-md p-3 mt-4",children:r.jsx("p",{className:"text-sm text-red-400",children:D.error.message||"Failed to add member"})})]}),r.jsx("div",{className:"flex justify-between gap-3 p-4 border-t border-discord-lighter",children:t<4?r.jsxs(r.Fragment,{children:[r.jsxs("button",{type:"button",onClick:t===1?e:W,className:"flex items-center gap-1 px-4 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:[r.jsx(oc,{className:"w-4 h-4"}),t===1?"Cancel":"Back"]}),r.jsx("button",{type:"button",onClick:G,disabled:!O()||D.isPending,className:"flex items-center gap-1 bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:D.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Gc,{className:"w-4 h-4 animate-spin"}),"Adding..."]}):t===3?r.jsxs(r.Fragment,{children:["Add Member",r.jsx(fs,{className:"w-4 h-4"})]}):r.jsxs(r.Fragment,{children:["Next",r.jsx(ji,{className:"w-4 h-4"})]})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("button",{type:"button",onClick:P,className:"flex items-center gap-1 px-4 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:[r.jsx(ku,{className:"w-4 h-4"}),"Add Another"]}),r.jsx("button",{type:"button",onClick:e,className:"bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Close"})]})})]})})}function r3(){const e=Hs(),{hasPermission:t}=Q(),s=t("ADD_MEMBER"),[n,i]=Fh(),[a,l]=j.useState(!1),[o,c]=j.useState(n.get("search")||""),d={page:parseInt(n.get("page")||"1"),limit:parseInt(n.get("limit")||"25"),search:n.get("search")||void 0,sortBy:n.get("sortBy")||"username",sortOrder:n.get("sortOrder")||"ASC",roleId:n.get("roleId")||void 0,linkStatus:n.get("linkStatus")||void 0},{data:u,isLoading:h}=ZC(d),{data:m}=e3(),f=[d.roleId,d.linkStatus].filter(Boolean).length,g=(v,S)=>{const C=new URLSearchParams(n);S?C.set(v,S):C.delete(v),v!=="page"&&C.set("page","1"),i(C)},x=v=>{v.preventDefault(),g("search",o||void 0)},w=v=>{const S=new URLSearchParams(n);d.sortBy===v?S.set("sortOrder",d.sortOrder==="ASC"?"DESC":"ASC"):(S.set("sortBy",v),S.set("sortOrder","ASC")),i(S)},p=()=>{const v=new URLSearchParams(n);v.delete("roleId"),v.delete("linkStatus"),v.set("page","1"),i(v)},b=({column:v,children:S})=>r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider cursor-pointer hover:text-white transition-colors",onClick:()=>w(v),children:r.jsxs("div",{className:"flex items-center gap-1",children:[S,d.sortBy===v&&r.jsx("span",{className:"text-discord-blurple",children:d.sortOrder==="ASC"?"":""})]})}),y=({member:v})=>r.jsxs("tr",{className:`border-b border-discord-lighter transition-colors ${v.steamid64?"hover:bg-discord-darker/50 cursor-pointer":"opacity-75"}`,onClick:()=>v.steamid64&&e(`/players/${v.steamid64}`),title:v.steamid64?"View player profile":"No Steam account linked",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("img",{src:v.avatarUrl,alt:v.username,className:"w-8 h-8 rounded-full"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:v.displayName}),r.jsxs("p",{className:"text-gray-400 text-sm",children:["@",v.username]})]})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-white",children:v.nickname||"-"})}),r.jsx("td",{className:"px-4 py-3",children:v.steamid64?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("code",{className:"text-sm text-blue-400 font-mono",children:v.steamid64}),r.jsx("span",{onClick:S=>S.stopPropagation(),children:r.jsx(Ct,{text:v.steamid64,size:3})})]}):v.confidence_score!==null?r.jsx("span",{className:"text-yellow-500",children:"No Steam ID"}):r.jsx("span",{className:"text-gray-500",children:"Not linked"})}),r.jsx("td",{className:"px-4 py-3",children:v.confidence_score!==null?r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ui,{className:`w-4 h-4 ${Number(v.confidence_score)>=1?"text-green-400":"text-yellow-500"}`}),r.jsx("span",{className:`text-sm ${Number(v.confidence_score)>=1?"text-green-400":"text-yellow-500"}`,children:Number(v.confidence_score)>=1?"Full":`${Math.round((v.confidence_score||0)*100)}%`})]}):r.jsx("span",{className:"text-gray-500 text-sm",children:"-"})}),r.jsx("td",{className:"px-4 py-3",children:v.steamid64?r.jsx("a",{href:`https://www.battlemetrics.com/rcon/players?filter[search]=${v.steamid64}`,target:"_blank",rel:"noopener noreferrer",onClick:S=>S.stopPropagation(),className:"text-discord-blurple hover:text-discord-blurple/80 transition-colors",title:"Search on BattleMetrics",children:r.jsx(na,{className:"w-4 h-4"})}):r.jsx("span",{className:"text-gray-500 text-sm",children:"-"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-gray-400 text-sm",children:v.joinedAt?Pr(v.joinedAt):"-"})})]});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Members"}),r.jsxs("p",{className:"text-gray-400 mt-1",children:[(u==null?void 0:u.pagination.total)??0," members with member role"]})]}),s&&r.jsxs("button",{onClick:()=>l(!0),className:"bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2",children:[r.jsx(ku,{className:"w-4 h-4"}),"Add Member"]})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg p-4 space-y-4",children:[r.jsxs("form",{onSubmit:x,className:"flex gap-4",autoComplete:"off",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Ls,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"search",placeholder:"Search by username, nickname, or Steam ID...",value:o,onChange:v=>c(v.target.value),className:"w-full bg-discord-darker border border-discord-lighter rounded-md pl-10 pr-4 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,"data-form-type":"other","data-lpignore":"true","data-1p-ignore":"true"})]}),r.jsx("button",{type:"submit",className:"bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Search"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(G0,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-400",children:"Filters:"})]}),r.jsxs("select",{value:d.roleId||"",onChange:v=>g("roleId",v.target.value||void 0),className:"bg-discord-darker border border-discord-lighter rounded-md px-3 py-1.5 text-sm text-white focus:outline-none focus:border-discord-blurple",children:[r.jsx("option",{value:"",children:"All Roles"}),m==null?void 0:m.roles.map(v=>r.jsxs("option",{value:v.id,children:[v.name," (",v.memberCount,")"]},v.id))]}),r.jsxs("select",{value:d.linkStatus||"",onChange:v=>g("linkStatus",v.target.value||void 0),className:"bg-discord-darker border border-discord-lighter rounded-md px-3 py-1.5 text-sm text-white focus:outline-none focus:border-discord-blurple",children:[r.jsx("option",{value:"",children:"All Link Status"}),r.jsx("option",{value:"linked",children:"Linked (100%)"}),r.jsx("option",{value:"partial",children:"Partial Link"}),r.jsx("option",{value:"unlinked",children:"Not Linked"})]}),f>0&&r.jsxs("button",{onClick:p,className:"flex items-center gap-1 text-sm text-gray-400 hover:text-white transition-colors",children:[r.jsx(ht,{className:"w-4 h-4"}),"Clear (",f,")"]})]})]}),r.jsx("div",{className:"bg-discord-light rounded-lg overflow-hidden",children:h?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(rt,{className:"w-8 h-8 text-gray-400 animate-pulse mx-auto mb-2"}),r.jsx("p",{className:"text-gray-400",children:"Loading members..."})]}):u!=null&&u.members&&u.members.length>0?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-discord-darker",children:r.jsxs("tr",{children:[r.jsx(b,{column:"username",children:"User"}),r.jsx(b,{column:"nickname",children:"Nickname"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Steam ID"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Link"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"BM"}),r.jsx(b,{column:"joinedAt",children:"Joined"})]})}),r.jsx("tbody",{className:"divide-y divide-discord-lighter",children:u.members.map(v=>r.jsx(y,{member:v},v.discord_user_id))})]})}),u.pagination.totalPages>1&&r.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-discord-lighter",children:[r.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",(u.pagination.page-1)*u.pagination.limit+1," to"," ",Math.min(u.pagination.page*u.pagination.limit,u.pagination.total)," of"," ",u.pagination.total," members"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>g("page",String(u.pagination.page-1)),disabled:u.pagination.page<=1,className:"p-2 text-gray-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsx(oc,{className:"w-5 h-5"})}),r.jsxs("span",{className:"text-sm text-gray-400",children:["Page ",u.pagination.page," of ",u.pagination.totalPages]}),r.jsx("button",{onClick:()=>g("page",String(u.pagination.page+1)),disabled:u.pagination.page>=u.pagination.totalPages,className:"p-2 text-gray-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsx(ji,{className:"w-5 h-5"})})]})]})]}):r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(rt,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-400",children:"No members found"}),d.search&&r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Try adjusting your search criteria"})]})}),a&&s&&r.jsx(s3,{onClose:()=>l(!1)})]})}function n3(e){const t={...e};if(e.startDate){const s=Ao(e.startDate);t.startDate=_u(s).toISOString()}if(e.endDate){const s=Ao(e.endDate);t.endDate=my(s).toISOString()}return t}function i3(e={}){const{user:t}=Q();return J({queryKey:["audit","list",e],queryFn:()=>$h.list(n3(e)),enabled:!!t})}function a3(){const{user:e}=Q();return J({queryKey:["audit","action-types"],queryFn:()=>$h.getActionTypes(),enabled:!!e,staleTime:5*60*1e3})}function l3(){const{user:e}=Q();return J({queryKey:["audit","actors"],queryFn:()=>$h.getActors(),enabled:!!e,staleTime:5*60*1e3})}function o3(){const{user:e}=Q();return J({queryKey:["security","unlinked-staff"],queryFn:()=>G1.getUnlinkedStaff(),enabled:!!e,staleTime:60*1e3})}const c3=[{key:"createdAt",label:"Time",sortable:!0},{key:"actionType",label:"Action",sortable:!0},{key:"actorName",label:"Actor",sortable:!0},{key:"targetName",label:"Target",sortable:!0},{key:"severity",label:"Severity",sortable:!0},{key:"success",label:"Result",sortable:!1}];function d3({entries:e,isLoading:t,pagination:s,onPageChange:n,onRowClick:i,onSort:a,currentSort:l}){const o=c=>{l.sortBy===c?a(c,l.sortOrder==="ASC"?"DESC":"ASC"):a(c,"DESC")};return t?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-discord-blurple mx-auto"}),r.jsx("p",{className:"text-gray-400 mt-4",children:"Loading audit logs..."})]}):e.length===0?r.jsx("div",{className:"p-8 text-center",children:r.jsx("p",{className:"text-gray-400",children:"No audit logs found"})}):r.jsxs("div",{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsx("tr",{className:"border-b border-discord-lighter",children:c3.map(c=>r.jsx("th",{className:ce("px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",c.sortable&&"cursor-pointer hover:text-white"),onClick:()=>c.sortable&&o(c.key),children:r.jsxs("div",{className:"flex items-center gap-1",children:[c.label,c.sortable&&l.sortBy===c.key&&(l.sortOrder==="ASC"?r.jsx(i2,{className:"w-4 h-4"}):r.jsx(Ka,{className:"w-4 h-4"}))]})},c.key))})}),r.jsx("tbody",{className:"divide-y divide-discord-lighter",children:e.map(c=>r.jsxs("tr",{className:"hover:bg-discord-lighter/50 transition-colors cursor-pointer",onClick:()=>i(c),children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-300",children:Pt(c.createdAt)})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-white font-medium",children:by(c.actionType)})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-gray-300",children:c.actorDisplayName||c.actorName||c.actorId||"-"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("div",{className:"text-sm",children:c.targetDisplayName?r.jsx("span",{className:"text-white",children:c.targetDisplayName}):c.targetName&&c.targetName!==c.targetId?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-white",children:c.targetName}),c.targetId&&r.jsx("span",{className:"text-gray-500 text-xs ml-1 font-mono",children:c.targetId})]}):r.jsx("span",{className:"text-white",children:c.targetId||c.targetName||"-"})})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:ce("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border",vy(c.severity)),children:c.severity})}),r.jsx("td",{className:"px-4 py-3",children:c.success?r.jsx(Po,{className:"w-5 h-5 text-green-400"}):r.jsx(sy,{className:"w-5 h-5 text-red-400"})})]},c.id))})]})}),s&&s.totalPages>1&&r.jsxs("div",{className:"px-4 py-3 border-t border-discord-lighter flex items-center justify-between",children:[r.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",(s.page-1)*s.limit+1," to"," ",Math.min(s.page*s.limit,s.total)," of"," ",s.total," entries"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>n(s.page-1),disabled:s.page<=1,className:"px-3 py-1 text-sm bg-discord-darker border border-discord-lighter rounded hover:bg-discord-lighter disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),r.jsxs("span",{className:"text-sm text-gray-400",children:["Page ",s.page," of ",s.totalPages]}),r.jsx("button",{onClick:()=>n(s.page+1),disabled:s.page>=s.totalPages,className:"px-3 py-1 text-sm bg-discord-darker border border-discord-lighter rounded hover:bg-discord-lighter disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})}function u3({entry:e,onClose:t}){return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-discord-dark rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-discord-lighter",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:by(e.actionType)}),e.success?r.jsx(Po,{className:"w-5 h-5 text-green-400"}):r.jsx(sy,{className:"w-5 h-5 text-red-400"})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(ht,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-4 overflow-y-auto space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Time"}),r.jsx("p",{className:"text-sm text-white",children:Pt(e.createdAt)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Severity"}),r.jsx("p",{children:r.jsx("span",{className:ce("inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border",vy(e.severity)),children:e.severity})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Actor"}),r.jsx("p",{className:"text-sm text-white",children:e.actorDisplayName||e.actorName||"-"}),e.actorId&&r.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.actorId,r.jsx(Ct,{text:e.actorId,size:3})]}),e.actorType&&r.jsx("p",{className:"text-xs text-gray-500",children:e.actorType})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Target"}),r.jsx("p",{className:"text-sm text-white",children:e.targetDisplayName||e.targetName||"-"}),e.targetId&&r.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.targetId,r.jsx(Ct,{text:e.targetId,size:3})]}),e.targetType&&r.jsx("p",{className:"text-xs text-gray-500",children:e.targetType})]})]}),e.description&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Description"}),r.jsx("p",{className:"text-sm text-white bg-discord-lighter rounded p-2 mt-1",children:e.description})]}),e.errorMessage&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-red-400 uppercase",children:"Error"}),r.jsx("p",{className:"text-sm text-red-300 bg-red-500/10 border border-red-500/30 rounded p-2 mt-1",children:e.errorMessage})]}),e.beforeState&&Object.keys(e.beforeState).length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Before State"}),r.jsx("pre",{className:"text-xs text-gray-300 bg-discord-lighter rounded p-2 mt-1 overflow-x-auto",children:JSON.stringify(e.beforeState,null,2)})]}),e.afterState&&Object.keys(e.afterState).length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"After State"}),r.jsx("pre",{className:"text-xs text-gray-300 bg-discord-lighter rounded p-2 mt-1 overflow-x-auto",children:JSON.stringify(e.afterState,null,2)})]}),e.metadata&&Object.keys(e.metadata).length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Metadata"}),r.jsx("pre",{className:"text-xs text-gray-300 bg-discord-lighter rounded p-2 mt-1 overflow-x-auto",children:JSON.stringify(e.metadata,null,2)})]}),r.jsxs("div",{className:"pt-2 border-t border-discord-lighter",children:[r.jsx("label",{className:"text-xs text-gray-400 uppercase",children:"Action ID"}),r.jsxs("p",{className:"text-xs text-gray-500 font-mono flex items-center gap-1",children:[e.actionId,r.jsx(Ct,{text:e.actionId,size:3})]})]})]}),r.jsx("div",{className:"p-4 border-t border-discord-lighter flex justify-end",children:r.jsx("button",{onClick:t,className:"bg-discord-lighter hover:bg-discord-light text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Close"})})]})})}function h3(){const[e,t]=Fh(),[s,n]=j.useState(e.get("search")||""),[i,a]=j.useState(null),[l,o]=j.useState(!1),c={page:parseInt(e.get("page")||"1"),limit:parseInt(e.get("limit")||"100"),actionType:e.get("actionType")||void 0,actorId:e.get("actorId")||void 0,severity:e.get("severity")||void 0,success:e.get("success")||void 0,search:e.get("search")||void 0,startDate:e.get("startDate")||void 0,endDate:e.get("endDate")||void 0,sortBy:e.get("sortBy")||"createdAt",sortOrder:e.get("sortOrder")||"DESC"},{data:d,isLoading:u,refetch:h,isFetching:m}=i3(c),{data:f}=a3(),{data:g}=l3(),x=(y,v)=>{const S=new URLSearchParams(e);v?S.set(y,v):S.delete(y),y!=="page"&&S.set("page","1"),t(S)},w=y=>{y.preventDefault(),x("search",s||void 0)},p=()=>{n(""),t({})},b=c.actionType||c.actorId||c.severity||c.success||c.search||c.startDate||c.endDate;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Audit Logs"}),r.jsxs("p",{className:"text-gray-400 mt-1",children:[(d==null?void 0:d.pagination.total)??0," log entries"]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:()=>o(!l),className:`bg-discord-lighter hover:bg-discord-light text-white px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${l?"ring-2 ring-discord-blurple":""}`,children:[r.jsx(G0,{className:"w-4 h-4"}),"Filters",b&&r.jsx("span",{className:"bg-discord-blurple text-white text-xs px-1.5 py-0.5 rounded-full",children:"!"})]}),r.jsxs("button",{onClick:()=>h(),disabled:m,className:"bg-discord-lighter hover:bg-discord-light text-white px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2",children:[r.jsx(dt,{className:`w-4 h-4 ${m?"animate-spin":""}`}),"Refresh"]})]})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg p-4 space-y-4",children:[r.jsxs("form",{onSubmit:w,className:"flex gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Ls,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by actor, target, or description...",value:s,onChange:y=>n(y.target.value),className:"w-full bg-discord-darker border border-discord-lighter rounded-md pl-10 pr-4 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple"})]}),r.jsx("button",{type:"submit",className:"bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Search"})]}),l&&r.jsxs("div",{className:"flex flex-wrap gap-4 pt-4 border-t border-discord-lighter",children:[r.jsxs("select",{value:c.actionType||"",onChange:y=>x("actionType",y.target.value||void 0),className:"bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white focus:outline-none focus:border-discord-blurple",children:[r.jsx("option",{value:"",children:"All Action Types"}),f==null?void 0:f.actionTypes.map(y=>r.jsx("option",{value:y,children:y.replace(/_/g," ")},y))]}),r.jsxs("select",{value:c.actorId||"",onChange:y=>x("actorId",y.target.value||void 0),className:"bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white focus:outline-none focus:border-discord-blurple",children:[r.jsx("option",{value:"",children:"All Actors"}),g==null?void 0:g.actors.map(y=>r.jsx("option",{value:y.actorId,children:y.displayName},y.actorId))]}),r.jsxs("select",{value:c.severity||"",onChange:y=>x("severity",y.target.value||void 0),className:"bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white focus:outline-none focus:border-discord-blurple",children:[r.jsx("option",{value:"",children:"All Severities"}),r.jsx("option",{value:"info",children:"Info"}),r.jsx("option",{value:"warn",children:"Warning"}),r.jsx("option",{value:"error",children:"Error"}),r.jsx("option",{value:"critical",children:"Critical"})]}),r.jsxs("select",{value:c.success||"",onChange:y=>x("success",y.target.value||void 0),className:"bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white focus:outline-none focus:border-discord-blurple",children:[r.jsx("option",{value:"",children:"All Results"}),r.jsx("option",{value:"true",children:"Successful"}),r.jsx("option",{value:"false",children:"Failed"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vh,{className:"w-4 h-4 text-gray-400"}),r.jsx("input",{type:"date",value:c.startDate||"",onChange:y=>x("startDate",y.target.value||void 0),className:"bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white focus:outline-none focus:border-discord-blurple"}),r.jsx("span",{className:"text-gray-400",children:"to"}),r.jsx("input",{type:"date",value:c.endDate||"",onChange:y=>x("endDate",y.target.value||void 0),className:"bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-sm text-white focus:outline-none focus:border-discord-blurple"})]}),b&&r.jsx("button",{onClick:p,className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Clear all filters"})]})]}),r.jsx("div",{className:"bg-discord-light rounded-lg overflow-hidden",children:r.jsx(d3,{entries:(d==null?void 0:d.entries)??[],isLoading:u,pagination:d==null?void 0:d.pagination,onPageChange:y=>x("page",y.toString()),onRowClick:a,onSort:(y,v)=>{const S=new URLSearchParams(e);S.set("sortBy",y),S.set("sortOrder",v),t(S)},currentSort:{sortBy:c.sortBy||"createdAt",sortOrder:c.sortOrder||"DESC"}})}),i&&r.jsx(u3,{entry:i,onClose:()=>a(null)})]})}function m3(){const{data:e,isLoading:t,refetch:s,isFetching:n}=o3();return t?r.jsx("div",{className:"min-h-[400px] flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-discord-blurple mx-auto"}),r.jsx("p",{className:"text-gray-400 mt-4",children:"Loading staff members..."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Unlinked Staff"}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Staff members without high-confidence Steam account links"})]}),r.jsxs("button",{onClick:()=>s(),disabled:n,className:"bg-discord-lighter hover:bg-discord-light text-white px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2",children:[r.jsx(dt,{className:`w-4 h-4 ${n?"animate-spin":""}`}),"Refresh"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-discord-light rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-orange-500/20 p-2 rounded-lg",children:r.jsx(ty,{className:"w-5 h-5 text-orange-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:(e==null?void 0:e.total)??0}),r.jsx("p",{className:"text-sm text-gray-400",children:"Unlinked Staff"})]})]})}),r.jsx("div",{className:"bg-discord-light rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-blue-500/20 p-2 rounded-lg",children:r.jsx(rt,{className:"w-5 h-5 text-blue-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:(e==null?void 0:e.staffTotal)??0}),r.jsx("p",{className:"text-sm text-gray-400",children:"Total Staff"})]})]})}),r.jsx("div",{className:"bg-discord-light rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-green-500/20 p-2 rounded-lg",children:r.jsx(ia,{className:"w-5 h-5 text-green-400"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-2xl font-bold text-white",children:[e?Math.round((e.staffTotal-e.total)/e.staffTotal*100):0,"%"]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Linked Rate"})]})]})})]}),(e==null?void 0:e.total)===0&&r.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-6 text-center",children:[r.jsx("div",{className:"bg-green-500/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(ia,{className:"w-6 h-6 text-green-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-green-400 mb-1",children:"All Staff Linked!"}),r.jsx("p",{className:"text-gray-400",children:"All staff members have linked their Steam accounts with high confidence."})]}),e&&e.total>0&&e.groups&&r.jsx("div",{className:"space-y-4",children:Object.entries(e.groups).map(([i,a])=>r.jsxs("div",{className:"bg-discord-light rounded-lg overflow-hidden",children:[r.jsx("div",{className:"px-4 py-3 border-b border-discord-lighter",children:r.jsxs("h3",{className:"text-lg font-semibold text-white",children:[i,r.jsxs("span",{className:"text-sm font-normal text-gray-400 ml-2",children:["(",a.length,")"]})]})}),r.jsx("div",{className:"divide-y divide-discord-lighter",children:a.map(l=>r.jsxs("div",{className:"px-4 py-3 flex items-center gap-3 hover:bg-discord-lighter/50 transition-colors",children:[l.avatarUrl?r.jsx("img",{src:l.avatarUrl,alt:l.username,className:"w-10 h-10 rounded-full"}):r.jsx("div",{className:"w-10 h-10 rounded-full bg-discord-darker flex items-center justify-center",children:r.jsx("span",{className:"text-gray-400 text-sm",children:l.username.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-white font-medium",children:l.username}),r.jsx("p",{className:"text-sm text-gray-400",children:l.userTag})]}),r.jsx("div",{className:"text-right",children:r.jsx("span",{className:"text-xs text-gray-500 font-mono",children:l.discordId})})]},l.discordId))})]},i))}),r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsxs("h4",{className:"text-sm font-semibold text-white mb-2 flex items-center gap-2",children:[r.jsx(ia,{className:"w-4 h-4 text-discord-blurple"}),"How to Link"]}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Staff members can use the ",r.jsx("code",{className:"bg-discord-darker px-1.5 py-0.5 rounded text-discord-blurple",children:"/linkid"})," command in Discord to link their Steam account and gain Squad server admin permissions and whitelist access. A high-confidence link (score 1.0+) is required for staff privileges."]})]})]})}function p3(){const{user:e,hasPermission:t}=Q(),s=t("MANAGE_PERMISSIONS");return J({queryKey:["permissions"],queryFn:()=>Wa.list(),enabled:!!e&&s,staleTime:1e3*60})}function f3(){const{user:e,hasPermission:t}=Q(),s=t("MANAGE_PERMISSIONS");return J({queryKey:["permissions","roles"],queryFn:()=>Wa.getRoles(),enabled:!!e&&s,staleTime:1e3*60*5})}function x3(){const e=X();return ee({mutationFn:({permissionName:t,roleIds:s})=>Wa.update(t,{roleIds:s}),onSuccess:()=>{e.invalidateQueries({queryKey:["permissions"]})}})}function g3(){const e=X();return ee({mutationFn:()=>Wa.reset(),onSuccess:()=>{e.invalidateQueries({queryKey:["permissions"]})}})}function y3(e){return e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}function v3({permissions:e,isLoading:t,onRowClick:s}){return t?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-discord-blurple mx-auto"}),r.jsx("p",{className:"text-gray-400 mt-4",children:"Loading permissions..."})]}):e.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(ut,{className:"w-12 h-12 mx-auto text-gray-500 mb-4"}),r.jsx("p",{className:"text-gray-400",children:"No permissions found"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-discord-lighter",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Permission"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Assigned Roles"})]})}),r.jsx("tbody",{className:"divide-y divide-discord-lighter",children:e.map(n=>r.jsxs("tr",{className:"hover:bg-discord-lighter/50 transition-colors cursor-pointer",onClick:()=>s(n),children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-white font-medium",children:y3(n.name)}),n.critical&&r.jsxs("span",{className:"flex items-center gap-1 bg-amber-500/20 text-amber-400 text-xs px-2 py-0.5 rounded-full",children:[r.jsx(Ge,{className:"w-3 h-3"}),"Critical"]})]})}),r.jsx("td",{className:"px-4 py-3 text-gray-400 text-sm",children:n.description}),r.jsx("td",{className:"px-4 py-3",children:n.roles.length>0?r.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[n.roles.slice(0,5).map(i=>r.jsx("span",{className:"bg-discord-darker text-gray-300 text-xs px-2 py-1 rounded",title:i.name||i.id,children:i.name||i.id},i.id)),n.roles.length>5&&r.jsxs("span",{className:"bg-discord-darker text-gray-400 text-xs px-2 py-1 rounded",children:["+",n.roles.length-5," more"]})]}):r.jsx("span",{className:"text-red-400 text-sm",children:"No roles assigned"})})]},n.name))})]})})}function b3(e){return e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}function w3({permission:e,onClose:t}){const s=x3(),{data:n,isLoading:i}=f3(),[a,l]=j.useState(new Set(e.roles.map(w=>w.id))),[o,c]=j.useState("");j.useEffect(()=>{l(new Set(e.roles.map(w=>w.id)))},[e]);const d=j.useMemo(()=>{if(!(n!=null&&n.roles))return[];const w=o.toLowerCase();return n.roles.filter(p=>p.name.toLowerCase().includes(w))},[n==null?void 0:n.roles,o]),u=w=>{const p=new Set(a);p.has(w)?p.delete(w):p.add(w),l(p)},h=()=>{n!=null&&n.roles&&l(new Set(d.map(w=>w.id)))},m=()=>{l(new Set)},f=async()=>{if(!(e.critical&&a.size===0))try{await s.mutateAsync({permissionName:e.name,roleIds:Array.from(a)}),t()}catch{}},g=()=>{const w=new Set(e.roles.map(p=>p.id));if(w.size!==a.size)return!0;for(const p of w)if(!a.has(p))return!0;return!1},x=()=>!(!g()||e.critical&&a.size===0);return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-lg mx-4 max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-discord-lighter shrink-0",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-lg font-semibold text-white",children:["Edit ",b3(e.name)]}),r.jsx("p",{className:"text-sm text-gray-400 mt-0.5",children:e.description})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(ht,{className:"w-5 h-5"})})]}),e.critical&&r.jsxs("div",{className:"mx-4 mt-4 p-3 bg-amber-500/20 border border-amber-500/30 rounded-md flex items-start gap-2 shrink-0",children:[r.jsx(Ge,{className:"w-5 h-5 text-amber-400 shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-amber-400 font-medium",children:"Critical Permission"}),r.jsx("p",{className:"text-xs text-amber-400/80 mt-0.5",children:"This permission cannot be left without any assigned roles. At least one role must be selected."})]})]}),r.jsxs("div",{className:"p-4 overflow-y-auto flex-1",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx(Ls,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",value:o,onChange:w=>c(w.target.value),placeholder:"Search roles...",className:"w-full bg-discord-darker border border-discord-lighter rounded-md pl-9 pr-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple"})]}),r.jsxs("div",{className:"flex gap-2 mb-4",children:[r.jsx("button",{type:"button",onClick:h,className:"text-xs text-discord-blurple hover:underline",children:"Select filtered"}),r.jsx("span",{className:"text-gray-500",children:"|"}),r.jsx("button",{type:"button",onClick:m,disabled:e.critical&&a.size<=1,className:"text-xs text-discord-blurple hover:underline disabled:text-gray-500 disabled:no-underline",children:"Clear all"}),r.jsxs("span",{className:"text-gray-500 ml-auto text-xs",children:[a.size," selected"]})]}),i?r.jsxs("div",{className:"py-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-discord-blurple mx-auto"}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Loading roles..."})]}):d.length===0?r.jsx("div",{className:"py-8 text-center text-gray-400 text-sm",children:o?"No roles match your search":"No roles available"}):r.jsx("div",{className:"space-y-1 max-h-64 overflow-y-auto",children:d.map(w=>r.jsx(j3,{role:w,isSelected:a.has(w.id),onToggle:()=>u(w.id),disabled:e.critical&&a.size===1&&a.has(w.id)},w.id))})]}),s.error&&r.jsx("div",{className:"mx-4 mb-4 bg-red-500/20 border border-red-500/30 rounded-md p-3 shrink-0",children:r.jsx("p",{className:"text-sm text-red-400",children:s.error.message||"Failed to update permission"})}),r.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t border-discord-lighter shrink-0",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Cancel"}),r.jsx("button",{type:"button",onClick:f,disabled:!x()||s.isPending,className:"bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s.isPending?"Saving...":"Save Changes"})]})]})})}function j3({role:e,isSelected:t,onToggle:s,disabled:n}){return r.jsxs("button",{type:"button",onClick:s,disabled:n,className:`w-full flex items-center gap-3 px-3 py-2 rounded-md transition-colors text-left ${t?"bg-discord-blurple/20 border border-discord-blurple/50":"bg-discord-darker border border-discord-lighter hover:border-discord-blurple/50"} ${n?"opacity-50 cursor-not-allowed":""}`,children:[r.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center shrink-0 ${t?"bg-discord-blurple border-discord-blurple":"border-gray-500"}`,children:t&&r.jsx(fs,{className:"w-3 h-3 text-white"})}),r.jsx("div",{className:"w-3 h-3 rounded-full shrink-0",style:{backgroundColor:e.color!=="#000000"?e.color:"#99aab5"}}),r.jsx("span",{className:"text-sm text-white truncate",children:e.name})]})}function N3(){const e=X(),{data:t,isLoading:s,isRefetching:n}=p3(),i=g3(),[a,l]=j.useState(null),[o,c]=j.useState(!1),d=()=>{e.invalidateQueries({queryKey:["permissions"]})},u=async()=>{try{await i.mutateAsync(),c(!1)}catch{}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[r.jsx(ut,{className:"w-7 h-7 text-discord-blurple"}),"Permission Management"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Configure which Discord roles can access each dashboard feature"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-discord-darker hover:bg-discord-lighter text-gray-300 px-4 py-2 rounded-md text-sm font-medium transition-colors",title:"Reset to defaults",children:[r.jsx(yn,{className:"w-4 h-4"}),"Reset"]}),r.jsxs("button",{onClick:d,disabled:n,className:"flex items-center gap-2 bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:[r.jsx(dt,{className:`w-4 h-4 ${n?"animate-spin":""}`}),"Refresh"]})]})]}),r.jsx("div",{className:"bg-discord-light rounded-lg p-4 border-l-4 border-discord-blurple",children:r.jsx("p",{className:"text-sm text-gray-300",children:"Click on a permission row to edit which roles have access to that feature. Changes take effect immediately and are cached for 5 minutes."})}),r.jsx("div",{className:"bg-discord-light rounded-lg",children:r.jsx(v3,{permissions:(t==null?void 0:t.permissions)||[],isLoading:s,onRowClick:l})}),a&&r.jsx(w3,{permission:a,onClose:()=>l(null)}),o&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-md mx-4 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Reset Permissions?"}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"This will reset all permission assignments to their default values. Any custom role assignments will be lost."}),i.error&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-md p-3 mb-4",children:r.jsx("p",{className:"text-sm text-red-400",children:i.error.message||"Failed to reset permissions"})}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Cancel"}),r.jsx("button",{onClick:u,disabled:i.isPending,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:i.isPending?"Resetting...":"Reset to Defaults"})]})]})})]})}function k3(){const{user:e,hasPermission:t}=Q(),s=t("MANAGE_PERMISSIONS");return J({queryKey:["squadgroups"],queryFn:()=>gn.list(),enabled:!!e&&s,staleTime:1e3*60})}function S3(){const{user:e,hasPermission:t}=Q(),s=t("MANAGE_PERMISSIONS");return J({queryKey:["squadgroups","roles"],queryFn:()=>gn.getRoles(),enabled:!!e&&s,staleTime:1e3*60*5})}function C3(){const e=X();return ee({mutationFn:t=>gn.add(t),onSuccess:()=>{e.invalidateQueries({queryKey:["squadgroups"]})}})}function _3(){const e=X();return ee({mutationFn:({roleId:t,request:s})=>gn.update(t,s),onSuccess:()=>{e.invalidateQueries({queryKey:["squadgroups"]})}})}function E3(){const e=X();return ee({mutationFn:t=>gn.remove(t),onSuccess:()=>{e.invalidateQueries({queryKey:["squadgroups"]})}})}function P3(){const e=X();return ee({mutationFn:()=>gn.reset(),onSuccess:()=>{e.invalidateQueries({queryKey:["squadgroups"]})}})}function R3(){const e=X();return ee({mutationFn:()=>gn.sync(),onSuccess:()=>{e.invalidateQueries({queryKey:["squadgroups"]})}})}function T3({roleConfigs:e,squadPermissions:t,isLoading:s,onRowClick:n,onDelete:i}){const a=t.reduce((l,o)=>(l[o.id]=o.label,l),{});return s?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-discord-blurple mx-auto"}),r.jsx("p",{className:"text-gray-400 mt-4",children:"Loading squad groups..."})]}):e.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(ut,{className:"w-12 h-12 mx-auto text-gray-500 mb-4"}),r.jsx("p",{className:"text-gray-400",children:"No squad groups configured"}),r.jsx("p",{className:"text-gray-500 text-sm mt-2",children:'Click "Add Role" to configure a Discord role with Squad permissions'})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-discord-lighter",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Discord Role"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Position"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Squad Group"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Permissions"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-discord-lighter",children:e.map(l=>r.jsxs("tr",{className:"hover:bg-discord-lighter/50 transition-colors cursor-pointer",onClick:()=>n(l),children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.color||"#99AAB5"}}),r.jsx("span",{className:"text-white font-medium",children:l.roleName||"Unknown Role"})]})}),r.jsxs("td",{className:"px-4 py-3 text-gray-400 text-sm",children:["#",l.discordPosition]}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-gray-300 font-mono text-sm bg-discord-darker px-2 py-1 rounded",children:l.groupName})}),r.jsx("td",{className:"px-4 py-3",children:l.permissions.length>0?r.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[l.permissions.slice(0,3).map(o=>r.jsx("span",{className:"bg-discord-blurple/20 text-discord-blurple text-xs px-2 py-1 rounded",title:a[o]||o,children:a[o]||o},o)),l.permissions.length>3&&r.jsxs("span",{className:"bg-discord-darker text-gray-400 text-xs px-2 py-1 rounded",children:["+",l.permissions.length-3," more"]})]}):r.jsx("span",{className:"text-red-400 text-sm",children:"No permissions"})}),r.jsx("td",{className:"px-4 py-3 text-right",children:r.jsx("button",{onClick:o=>{o.stopPropagation(),i(l)},className:"text-gray-400 hover:text-red-400 transition-colors p-1",title:"Remove from Squad Groups",children:r.jsx(zs,{className:"w-4 h-4"})})})]},l.roleId))})]})})}const M3=e=>e.replace(/[^a-zA-Z0-9_]/g,"");function A3({roleConfig:e,squadPermissions:t,onClose:s}){const n=_3(),[i,a]=j.useState(e.permissions),l=M3(e.roleName||"")||`Role_${e.roleId}`;j.useEffect(()=>{a(e.permissions)},[e]);const o=m=>{a(f=>f.includes(m)?f.filter(g=>g!==m):[...f,m])},c=()=>{a(t.map(m=>m.id))},d=()=>{a([])},u=async m=>{m.preventDefault();try{await n.mutateAsync({roleId:e.roleId,request:{permissions:i}}),s()}catch{}},h=JSON.stringify(i.sort())!==JSON.stringify(e.permissions.sort());return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-lg mx-4 max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-discord-lighter",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color||"#99AAB5"}}),r.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Edit ",e.roleName||"Role"]})]}),r.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(ht,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:u,className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Squad Group Name"}),r.jsx("div",{className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-gray-300",children:l}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-derived from role name (used in Squad whitelist file)"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Squad Permissions"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:c,className:"text-xs text-discord-blurple hover:text-discord-blurple/80",children:"Select All"}),r.jsx("span",{className:"text-gray-500",children:"|"}),r.jsx("button",{type:"button",onClick:d,className:"text-xs text-gray-400 hover:text-gray-300",children:"Clear All"})]})]}),r.jsx("div",{className:"space-y-2 bg-discord-darker rounded-md p-3",children:t.map(m=>r.jsxs("label",{className:"flex items-start gap-3 cursor-pointer hover:bg-discord-lighter/30 rounded p-2 -m-1",children:[r.jsx("button",{type:"button",onClick:()=>o(m.id),className:`mt-0.5 flex-shrink-0 ${i.includes(m.id)?"text-discord-blurple":"text-gray-500"}`,children:i.includes(m.id)?r.jsx(Va,{className:"w-5 h-5"}):r.jsx(Ga,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-white text-sm font-medium",children:m.label}),r.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:m.description})]})]},m.id))})]}),n.error&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-md p-3",children:r.jsx("p",{className:"text-sm text-red-400",children:n.error.message||"Failed to update role"})})]}),r.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t border-discord-lighter",children:[r.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Cancel"}),r.jsx("button",{onClick:u,disabled:n.isPending||!h,className:"flex items-center gap-2 bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:n.isPending?"Saving...":r.jsxs(r.Fragment,{children:[r.jsx(fs,{className:"w-4 h-4"}),"Save Changes"]})})]})]})})}function D3({squadPermissions:e,onClose:t}){const{data:s,isLoading:n}=S3(),i=C3(),[a,l]=j.useState(""),[o,c]=j.useState(null),[d,u]=j.useState([]),h=(s==null?void 0:s.roles.filter(v=>!v.isConfigured&&v.name.toLowerCase().includes(a.toLowerCase())))||[],f=o?(v=>v.replace(/[^a-zA-Z0-9_]/g,""))(o.name)||`Role_${o.id}`:"",g=v=>{c(v),u(e.map(S=>S.id))},x=v=>{u(S=>S.includes(v)?S.filter(C=>C!==v):[...S,v])},w=()=>{u(e.map(v=>v.id))},p=()=>{u([])},b=async v=>{if(v.preventDefault(),!(!o||d.length===0))try{await i.mutateAsync({roleId:o.id,permissions:d}),t()}catch{}},y=o&&d.length>0;return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-lg mx-4 max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-discord-lighter",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Add Role to Squad Groups"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(ht,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:b,className:"flex-1 overflow-y-auto p-4 space-y-4",children:[o?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-between bg-discord-darker rounded-md p-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:o.color||"#99AAB5"}}),r.jsx("span",{className:"text-white font-medium",children:o.name}),r.jsxs("span",{className:"text-gray-500 text-xs",children:["#",o.position]})]}),r.jsx("button",{type:"button",onClick:()=>{c(null),u([])},className:"text-gray-400 hover:text-white text-sm",children:"Change"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Squad Group Name"}),r.jsx("div",{className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-gray-300",children:f}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-derived from role name (used in Squad whitelist file)"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Squad Permissions"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:w,className:"text-xs text-discord-blurple hover:text-discord-blurple/80",children:"Select All"}),r.jsx("span",{className:"text-gray-500",children:"|"}),r.jsx("button",{type:"button",onClick:p,className:"text-xs text-gray-400 hover:text-gray-300",children:"Clear All"})]})]}),r.jsx("div",{className:"space-y-2 bg-discord-darker rounded-md p-3",children:e.map(v=>r.jsxs("label",{className:"flex items-start gap-3 cursor-pointer hover:bg-discord-lighter/30 rounded p-2 -m-1",children:[r.jsx("button",{type:"button",onClick:()=>x(v.id),className:`mt-0.5 flex-shrink-0 ${d.includes(v.id)?"text-discord-blurple":"text-gray-500"}`,children:d.includes(v.id)?r.jsx(Va,{className:"w-5 h-5"}):r.jsx(Ga,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-white text-sm font-medium",children:v.label}),r.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:v.description})]})]},v.id))}),d.length===0&&r.jsx("p",{className:"text-red-400 text-xs mt-2",children:"Select at least one permission"})]})]}):r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select a Discord Role"}),r.jsxs("div",{className:"relative mb-3",children:[r.jsx(Ls,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),r.jsx("input",{type:"text",value:a,onChange:v=>l(v.target.value),placeholder:"Search roles...",className:"w-full bg-discord-darker border border-discord-lighter rounded-md pl-10 pr-3 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple"})]}),r.jsx("div",{className:"bg-discord-darker rounded-md max-h-60 overflow-y-auto",children:n?r.jsx("div",{className:"p-4 text-center",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-discord-blurple mx-auto"})}):h.length===0?r.jsx("div",{className:"p-4 text-center text-gray-400",children:a?"No matching roles found":"No available roles"}):h.map(v=>r.jsxs("button",{type:"button",onClick:()=>g(v),className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-discord-lighter/50 transition-colors text-left",children:[r.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:v.color||"#99AAB5"}}),r.jsx("span",{className:"text-white flex-1",children:v.name}),r.jsxs("span",{className:"text-gray-500 text-xs",children:["#",v.position]})]},v.id))})]}),i.error&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-md p-3",children:r.jsx("p",{className:"text-sm text-red-400",children:i.error.message||"Failed to add role"})})]}),r.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t border-discord-lighter",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Cancel"}),r.jsx("button",{onClick:b,disabled:i.isPending||!y,className:"flex items-center gap-2 bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:i.isPending?"Adding...":r.jsxs(r.Fragment,{children:[r.jsx(Tt,{className:"w-4 h-4"}),"Add Role"]})})]})]})})}function L3(){const{data:e,isLoading:t,refetch:s,isRefetching:n}=k3(),i=E3(),a=P3(),l=R3(),[o,c]=j.useState(null),[d,u]=j.useState(!1),[h,m]=j.useState(!1),[f,g]=j.useState(null),x=y=>{c(y)},w=y=>{g(y)},p=async()=>{if(f)try{await i.mutateAsync(f.roleId),g(null)}catch{}},b=async()=>{try{await a.mutateAsync(),m(!1)}catch{}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ut,{className:"w-8 h-8 text-discord-blurple"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Squad Groups"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Configure Discord roles and their Squad server permissions"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:()=>s(),disabled:n,className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:text-white bg-discord-darker hover:bg-discord-lighter rounded-md transition-colors disabled:opacity-50",children:[r.jsx(dt,{className:`w-4 h-4 ${n?"animate-spin":""}`}),"Refresh"]}),r.jsxs("button",{onClick:()=>l.mutate(),disabled:l.isPending,className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:text-green-400 bg-discord-darker hover:bg-discord-lighter rounded-md transition-colors disabled:opacity-50",title:"Sync all members with tracked roles",children:[r.jsx(rt,{className:`w-4 h-4 ${l.isPending?"animate-pulse":""}`}),l.isPending?"Syncing...":"Sync All"]}),r.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:text-orange-400 bg-discord-darker hover:bg-discord-lighter rounded-md transition-colors",title:"Reset to config defaults",children:[r.jsx(yn,{className:"w-4 h-4"}),"Reset"]}),r.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:[r.jsx(Tt,{className:"w-4 h-4"}),"Add Role"]})]})]}),r.jsx("div",{className:"bg-discord-light rounded-lg p-4 border border-discord-lighter",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"bg-discord-blurple/20 p-2 rounded-lg",children:r.jsx(ut,{className:"w-5 h-5 text-discord-blurple"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium mb-1",children:"How Squad Groups Work"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Each Discord role can be mapped to a Squad server group with specific permissions. When a member has multiple configured roles, the role with the highest Discord position determines their Squad group. The group name is used in the Squad whitelist file."})]})]})}),r.jsx("div",{className:"bg-discord-light rounded-lg border border-discord-lighter overflow-hidden",children:r.jsx(T3,{roleConfigs:(e==null?void 0:e.roleConfigs)||[],squadPermissions:(e==null?void 0:e.squadPermissions)||[],isLoading:t,onRowClick:x,onDelete:w})}),o&&e&&r.jsx(A3,{roleConfig:o,squadPermissions:e.squadPermissions,onClose:()=>c(null)}),d&&e&&r.jsx(D3,{squadPermissions:e.squadPermissions,onClose:()=>u(!1)}),f&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-md mx-4 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Remove Role from Squad Groups?"}),r.jsxs("p",{className:"text-gray-400 mb-4",children:["Are you sure you want to remove ",r.jsx("span",{className:"text-white font-medium",children:f.roleName})," from Squad Groups? This will revoke all Squad permissions for users with this role."]}),i.error&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-md p-3 mb-4",children:r.jsx("p",{className:"text-sm text-red-400",children:i.error.message||"Failed to remove role"})}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>g(null),className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Cancel"}),r.jsx("button",{onClick:p,disabled:i.isPending,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:i.isPending?"Removing...":"Remove Role"})]})]})}),h&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-md mx-4 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Reset Squad Groups to Defaults?"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"This will remove all current Squad Group configurations and re-seed from the config file defaults. This action cannot be undone."}),a.error&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-md p-3 mb-4",children:r.jsx("p",{className:"text-sm text-red-400",children:a.error.message||"Failed to reset"})}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Cancel"}),r.jsx("button",{onClick:b,disabled:a.isPending,className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:a.isPending?"Resetting...":"Reset to Defaults"})]})]})})]})}function O3(e){const{user:t,hasPermission:s}=Q(),n=s("VIEW_STATS_TEMPLATES");return J({queryKey:["stats-templates",{activeOnly:e}],queryFn:()=>ct.list(e),enabled:!!t&&n,staleTime:1e3*60})}function I3(e){const{user:t,hasPermission:s}=Q(),n=s("VIEW_STATS_TEMPLATES"),i=e!==null&&!Number.isNaN(e)?e:null;return J({queryKey:["stats-templates","detail",i],queryFn:()=>ct.getDetail(i),enabled:!!t&&n&&i!==null,staleTime:1e3*60})}function F3(){const e=X();return ee({mutationFn:t=>ct.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:["stats-templates"]})}})}function By(){const e=X();return ee({mutationFn:({id:t,request:s})=>ct.update(t,s),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:["stats-templates"]}),e.invalidateQueries({queryKey:["stats-templates","detail",s.id]})}})}function U3(){const e=X();return ee({mutationFn:({id:t,formData:s})=>ct.updateImage(t,s),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:["stats-templates"]}),e.invalidateQueries({queryKey:["stats-templates","detail",s.id]})}})}function q3(){const e=X();return ee({mutationFn:t=>ct.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["stats-templates"]})}})}function z3(){const e=X();return ee({mutationFn:t=>ct.setDefault(t),onSuccess:()=>{e.invalidateQueries({queryKey:["stats-templates"]})}})}function B3(){const{user:e,hasPermission:t}=Q(),s=t("VIEW_STATS_TEMPLATES");return J({queryKey:["stats-templates","role-mappings"],queryFn:()=>ct.getRoleMappings(),enabled:!!e&&s,staleTime:1e3*60})}function $3(){const e=X();return ee({mutationFn:t=>ct.createRoleMapping(t),onSuccess:()=>{e.invalidateQueries({queryKey:["stats-templates","role-mappings"]})}})}function H3(){const e=X();return ee({mutationFn:t=>ct.deleteRoleMapping(t),onSuccess:()=>{e.invalidateQueries({queryKey:["stats-templates","role-mappings"]})}})}function W3(){return ee({mutationFn:()=>ct.refreshCache()})}function V3(){const e=X();return ee({mutationFn:()=>ct.seed(),onSuccess:()=>{e.invalidateQueries({queryKey:["stats-templates"]})}})}function K3(){const{hasPermission:e}=Q(),t=e("MANAGE_STATS_TEMPLATES"),{data:s,isLoading:n,refetch:i,isRefetching:a}=O3(),{data:l,isLoading:o}=B3(),c=q3(),d=z3(),u=W3(),h=V3(),m=H3(),f=By(),g=$3(),[x,w]=j.useState(null),[p,b]=j.useState(null),[y,v]=j.useState(!1),[S,C]=j.useState([]),[k,R]=j.useState(""),[U,E]=j.useState("");j.useEffect(()=>{y&&S.length===0&&Wa.getRoles().then(P=>{P.roles&&C(P.roles.sort((L,q)=>q.position-L.position))}).catch(console.error)},[y,S.length]);const D=async P=>{if(!P.isDefault)try{await d.mutateAsync(P.id)}catch{}},_=async P=>{try{await f.mutateAsync({id:P.id,request:{isActive:!P.isActive}})}catch{}},V=async()=>{if(x)try{await c.mutateAsync(x.id),w(null)}catch{}},O=async()=>{if(p)try{await m.mutateAsync(p.roleId),b(null)}catch{}},G=async()=>{if(!k||!U)return;const P=S.find(q=>q.id===k),L=(P==null?void 0:P.position)??0;try{await g.mutateAsync({roleId:k,templateId:parseInt(U,10),priority:L}),v(!1),R(""),E("")}catch{}},W=(s==null?void 0:s.templates)||[],ae=(l==null?void 0:l.mappings)||[];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Vl,{className:"w-8 h-8 text-discord-blurple"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Stats Templates"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Manage stats image templates and role assignments"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:()=>i(),disabled:a,className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:text-white bg-discord-darker hover:bg-discord-lighter rounded-md transition-colors disabled:opacity-50",children:[r.jsx(dt,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Refresh"]}),t&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>u.mutate(),disabled:u.isPending,className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:text-green-400 bg-discord-darker hover:bg-discord-lighter rounded-md transition-colors disabled:opacity-50",title:"Clear template cache on bot",children:[r.jsx(dt,{className:`w-4 h-4 ${u.isPending?"animate-spin":""}`}),"Clear Cache"]}),r.jsxs("button",{onClick:()=>h.mutate(),disabled:h.isPending,className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:text-orange-400 bg-discord-darker hover:bg-discord-lighter rounded-md transition-colors disabled:opacity-50",title:"Import templates from config file",children:[r.jsx(aa,{className:`w-4 h-4 ${h.isPending?"animate-pulse":""}`}),"Seed"]}),r.jsxs(Ke,{to:"/admin/stats-templates/new",className:"flex items-center gap-2 bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:[r.jsx(Tt,{className:"w-4 h-4"}),"New Template"]})]})]})]}),r.jsx("div",{className:"bg-discord-light rounded-lg p-4 border border-discord-lighter",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"bg-discord-blurple/20 p-2 rounded-lg",children:r.jsx(Vl,{className:"w-5 h-5 text-discord-blurple"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium mb-1",children:"How Stats Templates Work"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Stats templates are background images used for player stats cards. Each template can have a customizable overlay box position. You can assign specific templates to Discord roles, or leave them unassigned to be used randomly."})]})]})}),r.jsxs("div",{className:"bg-discord-light rounded-lg border border-discord-lighter overflow-hidden",children:[r.jsx("div",{className:"px-4 py-3 border-b border-discord-lighter",children:r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Templates"})}),n?r.jsx("div",{className:"p-8 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-discord-blurple"})}):W.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(Vl,{className:"w-12 h-12 mx-auto text-gray-600 mb-3"}),r.jsx("p",{className:"text-gray-400",children:"No templates found"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:'Click "Seed" to import templates from config, or create a new one.'})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:W.map(P=>r.jsxs("div",{className:"bg-discord-darker rounded-lg overflow-hidden border border-discord-lighter hover:border-discord-blurple/50 transition-colors",children:[r.jsxs("div",{className:"relative aspect-[4/1] bg-black",children:[r.jsx("img",{src:ct.getImageUrl(P.id),alt:P.displayName,className:"w-full h-full object-cover"}),P.isDefault&&r.jsxs("div",{className:"absolute top-2 left-2 bg-yellow-500/90 text-black px-2 py-0.5 rounded text-xs font-medium flex items-center gap-1",children:[r.jsx(Nu,{className:"w-3 h-3"}),"Default"]}),!P.isActive&&r.jsx("div",{className:"absolute top-2 right-2 bg-red-500/90 text-white px-2 py-0.5 rounded text-xs font-medium",children:"Inactive"})]}),r.jsxs("div",{className:"p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium",children:P.displayName}),r.jsx("p",{className:"text-gray-500 text-xs",children:P.name})]}),t&&r.jsxs("div",{className:"flex items-center gap-1",children:[!P.isDefault&&r.jsx("button",{onClick:()=>_(P),disabled:f.isPending,className:`p-1.5 transition-colors ${P.isActive?"text-green-400 hover:text-green-300":"text-gray-500 hover:text-gray-300"}`,title:P.isActive?"Disable template":"Enable template",children:P.isActive?r.jsx(Kh,{className:"w-4 h-4"}):r.jsx(Q0,{className:"w-4 h-4"})}),!P.isDefault&&r.jsx("button",{onClick:()=>D(P),disabled:d.isPending,className:"p-1.5 text-gray-400 hover:text-yellow-400 transition-colors",title:"Set as default",children:r.jsx(Nu,{className:"w-4 h-4"})}),r.jsx(Ke,{to:`/admin/stats-templates/${P.id}`,className:"p-1.5 text-gray-400 hover:text-white transition-colors",title:"Edit template",children:r.jsx(vs,{className:"w-4 h-4"})}),!P.isDefault&&r.jsx("button",{onClick:()=>w(P),className:"p-1.5 text-gray-400 hover:text-red-400 transition-colors",title:"Delete template",children:r.jsx(zs,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Box: ",P.boxWidth,"x",P.boxHeight,P.boxX!==null?` @ (${P.boxX}, ${P.boxY})`:" (auto)"]})]})]},P.id))})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg border border-discord-lighter overflow-hidden",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-discord-lighter flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Role Mappings"}),t&&W.length>0&&r.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-1 text-sm text-discord-blurple hover:text-discord-blurple/80 transition-colors",children:[r.jsx(Tt,{className:"w-4 h-4"}),"Add Mapping"]})]}),o?r.jsx("div",{className:"p-8 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-discord-blurple"})}):ae.length===0?r.jsxs("div",{className:"p-6 text-center",children:[r.jsx("p",{className:"text-gray-400",children:"No role mappings configured"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Without mappings, templates are selected randomly for all users."})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-sm text-gray-400 border-b border-discord-lighter",children:[r.jsx("th",{className:"px-4 py-3 font-medium",children:"Role"}),r.jsx("th",{className:"px-4 py-3 font-medium",children:"Template"}),r.jsx("th",{className:"px-4 py-3 font-medium",children:"Priority"}),t&&r.jsx("th",{className:"px-4 py-3 font-medium w-20",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-discord-lighter",children:ae.map(P=>r.jsxs("tr",{className:"hover:bg-discord-darker/50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:P.roleColor||"#99AAB5"}}),r.jsx("span",{className:"text-white",children:P.roleName||P.roleId})]})}),r.jsx("td",{className:"px-4 py-3 text-gray-300",children:P.templateDisplayName||P.templateName||"Unknown"}),r.jsx("td",{className:"px-4 py-3 text-gray-400",children:P.priority}),t&&r.jsx("td",{className:"px-4 py-3",children:r.jsx("button",{onClick:()=>b(P),className:"p-1.5 text-gray-400 hover:text-red-400 transition-colors",title:"Remove mapping",children:r.jsx(zs,{className:"w-4 h-4"})})})]},P.id))})]})})]}),x&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-md mx-4 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Delete Template?"}),r.jsxs("p",{className:"text-gray-400 mb-4",children:["Are you sure you want to delete ",r.jsx("span",{className:"text-white font-medium",children:x.displayName}),"? This will also remove any role mappings for this template."]}),c.error&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-md p-3 mb-4",children:r.jsx("p",{className:"text-sm text-red-400",children:c.error.message||"Failed to delete template"})}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>w(null),className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Cancel"}),r.jsx("button",{onClick:V,disabled:c.isPending,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:c.isPending?"Deleting...":"Delete Template"})]})]})}),p&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-md mx-4 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Remove Role Mapping?"}),r.jsxs("p",{className:"text-gray-400 mb-4",children:["Remove the template mapping for ",r.jsx("span",{className:"text-white font-medium",children:p.roleName||p.roleId}),"? Users with this role will get random templates instead."]}),m.error&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-md p-3 mb-4",children:r.jsx("p",{className:"text-sm text-red-400",children:m.error.message||"Failed to remove mapping"})}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>b(null),className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Cancel"}),r.jsx("button",{onClick:O,disabled:m.isPending,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:m.isPending?"Removing...":"Remove Mapping"})]})]})}),y&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-md mx-4 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Add Role Mapping"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Discord Role"}),r.jsxs("select",{value:k,onChange:P=>R(P.target.value),className:"w-full bg-discord-darker border border-discord-lighter rounded px-3 py-2 text-white text-sm",children:[r.jsx("option",{value:"",children:"Select a role..."}),S.filter(P=>!ae.some(L=>L.roleId===P.id)).map(P=>r.jsx("option",{value:P.id,children:P.name},P.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Template"}),r.jsxs("select",{value:U,onChange:P=>E(P.target.value),className:"w-full bg-discord-darker border border-discord-lighter rounded px-3 py-2 text-white text-sm",children:[r.jsx("option",{value:"",children:"Select a template..."}),W.filter(P=>P.isActive).map(P=>r.jsx("option",{value:P.id,children:P.displayName},P.id))]})]})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Priority is based on Discord role hierarchy - higher roles take precedence."}),g.error&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-md p-3 mt-4",children:r.jsx("p",{className:"text-sm text-red-400",children:g.error.message||"Failed to create mapping"})}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{onClick:()=>{v(!1),R(""),E("")},className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Cancel"}),r.jsx("button",{onClick:G,disabled:g.isPending||!k||!U,className:"bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:g.isPending?"Adding...":"Add Mapping"})]})]})})]})}var Q3=Object.defineProperty,G3=(e,t,s)=>t in e?Q3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Ne=(e,t,s)=>G3(e,typeof t!="symbol"?t+"":t,s);const Do={x:0,y:0,width:0,height:0,unit:"px"},jn=(e,t,s)=>Math.min(Math.max(e,t),s),Y3=(...e)=>e.filter(t=>t&&typeof t=="string").join(" "),wf=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function X3(e,t,s,n){const i=ds(e,s,n);return e.width&&(i.height=i.width/t),e.height&&(i.width=i.height*t),i.y+i.height>n&&(i.height=n-i.y,i.width=i.height*t),i.x+i.width>s&&(i.width=s-i.x,i.height=i.width/t),e.unit==="%"?rr(i,s,n):i}function J3(e,t,s){const n=ds(e,t,s);return n.x=(t-n.width)/2,n.y=(s-n.height)/2,e.unit==="%"?rr(n,t,s):n}function rr(e,t,s){return e.unit==="%"?{...Do,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/s*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/s*100:0}}function ds(e,t,s){return e.unit?e.unit==="px"?{...Do,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*s/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*s/100:0}:{...Do,...e,unit:"px"}}function jf(e,t,s,n,i,a=0,l=0,o=n,c=i){const d={...e};let u=Math.min(a,n),h=Math.min(l,i),m=Math.min(o,n),f=Math.min(c,i);t&&(t>1?(u=l?l*t:u,h=u/t,m=o*t):(h=a?a/t:h,u=h*t,f=c/t)),d.y<0&&(d.height=Math.max(d.height+d.y,h),d.y=0),d.x<0&&(d.width=Math.max(d.width+d.x,u),d.x=0);const g=n-(d.x+d.width);g<0&&(d.x=Math.min(d.x,n-u),d.width+=g);const x=i-(d.y+d.height);if(x<0&&(d.y=Math.min(d.y,i-h),d.height+=x),d.width<u&&((s==="sw"||s=="nw")&&(d.x-=u-d.width),d.width=u),d.height<h&&((s==="nw"||s=="ne")&&(d.y-=h-d.height),d.height=h),d.width>m&&((s==="sw"||s=="nw")&&(d.x-=m-d.width),d.width=m),d.height>f&&((s==="nw"||s=="ne")&&(d.y-=f-d.height),d.height=f),t){const w=d.width/d.height;if(w<t){const p=Math.max(d.width/t,h);(s==="nw"||s=="ne")&&(d.y-=p-d.height),d.height=p}else if(w>t){const p=Math.max(d.height*t,u);(s==="sw"||s=="nw")&&(d.x-=p-d.width),d.width=p}}return d}function Z3(e,t,s,n){const i={...e};return t==="ArrowLeft"?n==="nw"?(i.x-=s,i.y-=s,i.width+=s,i.height+=s):n==="w"?(i.x-=s,i.width+=s):n==="sw"?(i.x-=s,i.width+=s,i.height+=s):n==="ne"?(i.y+=s,i.width-=s,i.height-=s):n==="e"?i.width-=s:n==="se"&&(i.width-=s,i.height-=s):t==="ArrowRight"&&(n==="nw"?(i.x+=s,i.y+=s,i.width-=s,i.height-=s):n==="w"?(i.x+=s,i.width-=s):n==="sw"?(i.x+=s,i.width-=s,i.height-=s):n==="ne"?(i.y-=s,i.width+=s,i.height+=s):n==="e"?i.width+=s:n==="se"&&(i.width+=s,i.height+=s)),t==="ArrowUp"?n==="nw"?(i.x-=s,i.y-=s,i.width+=s,i.height+=s):n==="n"?(i.y-=s,i.height+=s):n==="ne"?(i.y-=s,i.width+=s,i.height+=s):n==="sw"?(i.x+=s,i.width-=s,i.height-=s):n==="s"?i.height-=s:n==="se"&&(i.width-=s,i.height-=s):t==="ArrowDown"&&(n==="nw"?(i.x+=s,i.y+=s,i.width-=s,i.height-=s):n==="n"?(i.y+=s,i.height-=s):n==="ne"?(i.y+=s,i.width-=s,i.height-=s):n==="sw"?(i.x-=s,i.width+=s,i.height+=s):n==="s"?i.height+=s:n==="se"&&(i.width+=s,i.height+=s)),i}const Nn={capture:!0,passive:!1};let e5=0;const er=class Qt extends j.PureComponent{constructor(){super(...arguments),Ne(this,"docMoveBound",!1),Ne(this,"mouseDownOnCrop",!1),Ne(this,"dragStarted",!1),Ne(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),Ne(this,"componentRef",j.createRef()),Ne(this,"mediaRef",j.createRef()),Ne(this,"resizeObserver"),Ne(this,"initChangeCalled",!1),Ne(this,"instanceId",`rc-${e5++}`),Ne(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),Ne(this,"onCropPointerDown",t=>{const{crop:s,disabled:n}=this.props,i=this.getBox();if(!s)return;const a=ds(s,i.width,i.height);if(n)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const l=t.target.dataset.ord,o=!!l;let c=t.clientX,d=t.clientY,u=a.x,h=a.y;if(l){const m=t.clientX-i.x,f=t.clientY-i.y;let g=0,x=0;l==="ne"||l=="e"?(g=m-(a.x+a.width),x=f-a.y,u=a.x,h=a.y+a.height):l==="se"||l==="s"?(g=m-(a.x+a.width),x=f-(a.y+a.height),u=a.x,h=a.y):l==="sw"||l=="w"?(g=m-a.x,x=f-(a.y+a.height),u=a.x+a.width,h=a.y):(l==="nw"||l=="n")&&(g=m-a.x,x=f-a.y,u=a.x+a.width,h=a.y+a.height),c=u+i.x+g,d=h+i.y+x}this.evData={startClientX:c,startClientY:d,startCropX:u,startCropY:h,clientX:t.clientX,clientY:t.clientY,isResize:o,ord:l},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),Ne(this,"onComponentPointerDown",t=>{const{crop:s,disabled:n,locked:i,keepSelection:a,onChange:l}=this.props,o=this.getBox();if(n||i||a&&s)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=t.clientX-o.x,d=t.clientY-o.y,u={unit:"px",x:c,y:d,width:0,height:0};this.evData={startClientX:t.clientX,startClientY:t.clientY,startCropX:c,startCropY:d,clientX:t.clientX,clientY:t.clientY,isResize:!0},this.mouseDownOnCrop=!0,l(ds(u,o.width,o.height),rr(u,o.width,o.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),Ne(this,"onDocPointerMove",t=>{const{crop:s,disabled:n,onChange:i,onDragStart:a}=this.props,l=this.getBox();if(n||!s||!this.mouseDownOnCrop)return;t.cancelable&&t.preventDefault(),this.dragStarted||(this.dragStarted=!0,a&&a(t));const{evData:o}=this;o.clientX=t.clientX,o.clientY=t.clientY;let c;o.isResize?c=this.resizeCrop():c=this.dragCrop(),wf(s,c)||i(ds(c,l.width,l.height),rr(c,l.width,l.height))}),Ne(this,"onComponentKeyDown",t=>{const{crop:s,disabled:n,onChange:i,onComplete:a}=this.props;if(n)return;const l=t.key;let o=!1;if(!s)return;const c=this.getBox(),d=this.makePixelCrop(c),u=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?Qt.nudgeStepLarge:t.shiftKey?Qt.nudgeStepMedium:Qt.nudgeStep;if(l==="ArrowLeft"?(d.x-=u,o=!0):l==="ArrowRight"?(d.x+=u,o=!0):l==="ArrowUp"?(d.y-=u,o=!0):l==="ArrowDown"&&(d.y+=u,o=!0),o){t.cancelable&&t.preventDefault(),d.x=jn(d.x,0,c.width-d.width),d.y=jn(d.y,0,c.height-d.height);const h=ds(d,c.width,c.height),m=rr(d,c.width,c.height);i(h,m),a&&a(h,m)}}),Ne(this,"onHandlerKeyDown",(t,s)=>{const{aspect:n=0,crop:i,disabled:a,minWidth:l=0,minHeight:o=0,maxWidth:c,maxHeight:d,onChange:u,onComplete:h}=this.props,m=this.getBox();if(a||!i)return;if(t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="ArrowLeft"||t.key==="ArrowRight")t.stopPropagation(),t.preventDefault();else return;const f=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?Qt.nudgeStepLarge:t.shiftKey?Qt.nudgeStepMedium:Qt.nudgeStep,g=ds(i,m.width,m.height),x=Z3(g,t.key,f,s),w=jf(x,n,s,m.width,m.height,l,o,c,d);if(!wf(i,w)){const p=rr(w,m.width,m.height);u(w,p),h&&h(w,p)}}),Ne(this,"onDocPointerDone",t=>{const{crop:s,disabled:n,onComplete:i,onDragEnd:a}=this.props,l=this.getBox();this.unbindDocMove(),!(n||!s)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,a&&a(t),i&&i(ds(s,l.width,l.height),rr(s,l.width,l.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),Ne(this,"onDragFocus",()=>{var t;(t=this.componentRef.current)==null||t.scrollTo(0,0)})}get document(){return document}getBox(){const t=this.mediaRef.current;if(!t)return{x:0,y:0,width:0,height:0};const{x:s,y:n,width:i,height:a}=t.getBoundingClientRect();return{x:s,y:n,width:i,height:a}}componentDidUpdate(t){const{crop:s,onComplete:n}=this.props;if(n&&!t.crop&&s){const{width:i,height:a}=this.getBox();i&&a&&n(ds(s,i,a),rr(s,i,a))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,Nn),this.document.addEventListener("pointerup",this.onDocPointerDone,Nn),this.document.addEventListener("pointercancel",this.onDocPointerDone,Nn),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,Nn),this.document.removeEventListener("pointerup",this.onDocPointerDone,Nn),this.document.removeEventListener("pointercancel",this.onDocPointerDone,Nn),this.docMoveBound=!1)}getCropStyle(){const{crop:t}=this.props;if(t)return{top:`${t.y}${t.unit}`,left:`${t.x}${t.unit}`,width:`${t.width}${t.unit}`,height:`${t.height}${t.unit}`}}dragCrop(){const{evData:t}=this,s=this.getBox(),n=this.makePixelCrop(s),i=t.clientX-t.startClientX,a=t.clientY-t.startClientY;return n.x=jn(t.startCropX+i,0,s.width-n.width),n.y=jn(t.startCropY+a,0,s.height-n.height),n}getPointRegion(t,s,n,i){const{evData:a}=this,l=a.clientX-t.x,o=a.clientY-t.y;let c;i&&s?c=s==="nw"||s==="n"||s==="ne":c=o<a.startCropY;let d;return n&&s?d=s==="nw"||s==="w"||s==="sw":d=l<a.startCropX,d?c?"nw":"sw":c?"ne":"se"}resolveMinDimensions(t,s,n=0,i=0){const a=Math.min(n,t.width),l=Math.min(i,t.height);return!s||!a&&!l?[a,l]:s>1?a?[a,a/s]:[l*s,l]:l?[l*s,l]:[a,a/s]}resizeCrop(){const{evData:t}=this,{aspect:s=0,maxWidth:n,maxHeight:i}=this.props,a=this.getBox(),[l,o]=this.resolveMinDimensions(a,s,this.props.minWidth,this.props.minHeight);let c=this.makePixelCrop(a);const d=this.getPointRegion(a,t.ord,l,o),u=t.ord||d;let h=t.clientX-t.startClientX,m=t.clientY-t.startClientY;(l&&u==="nw"||u==="w"||u==="sw")&&(h=Math.min(h,-l)),(o&&u==="nw"||u==="n"||u==="ne")&&(m=Math.min(m,-o));const f={unit:"px",x:0,y:0,width:0,height:0};d==="ne"?(f.x=t.startCropX,f.width=h,s?(f.height=f.width/s,f.y=t.startCropY-f.height):(f.height=Math.abs(m),f.y=t.startCropY-f.height)):d==="se"?(f.x=t.startCropX,f.y=t.startCropY,f.width=h,s?f.height=f.width/s:f.height=m):d==="sw"?(f.x=t.startCropX+h,f.y=t.startCropY,f.width=Math.abs(h),s?f.height=f.width/s:f.height=m):d==="nw"&&(f.x=t.startCropX+h,f.width=Math.abs(h),s?(f.height=f.width/s,f.y=t.startCropY-f.height):(f.height=Math.abs(m),f.y=t.startCropY+m));const g=jf(f,s,d,a.width,a.height,l,o,n,i);return s||Qt.xyOrds.indexOf(u)>-1?c=g:Qt.xOrds.indexOf(u)>-1?(c.x=g.x,c.width=g.width):Qt.yOrds.indexOf(u)>-1&&(c.y=g.y,c.height=g.height),c.x=jn(c.x,0,a.width-c.width),c.y=jn(c.y,0,a.height-c.height),c}renderCropSelection(){const{ariaLabels:t=Qt.defaultProps.ariaLabels,disabled:s,locked:n,renderSelectionAddon:i,ruleOfThirds:a,crop:l}=this.props,o=this.getCropStyle();if(l)return he.createElement("div",{style:o,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!s&&!n&&he.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},he.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),he.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),he.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),he.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),he.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"nw"),role:"button"}),he.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"n"),role:"button"}),he.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"ne"),role:"button"}),he.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"e"),role:"button"}),he.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"se"),role:"button"}),he.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"s"),role:"button"}),he.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"sw"),role:"button"}),he.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"w"),role:"button"})),i&&he.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:c=>c.stopPropagation()},i(this.state)),a&&he.createElement(he.Fragment,null,he.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),he.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(t){const s={...Do,...this.props.crop||{}};return ds(s,t.width,t.height)}render(){const{aspect:t,children:s,circularCrop:n,className:i,crop:a,disabled:l,locked:o,style:c,ruleOfThirds:d}=this.props,{cropIsActive:u,newCropIsBeingDrawn:h}=this.state,m=a?this.renderCropSelection():null,f=Y3("ReactCrop",i,u&&"ReactCrop--active",l&&"ReactCrop--disabled",o&&"ReactCrop--locked",h&&"ReactCrop--new-crop",a&&t&&"ReactCrop--fixed-aspect",a&&n&&"ReactCrop--circular-crop",a&&d&&"ReactCrop--rule-of-thirds",!this.dragStarted&&a&&!a.width&&!a.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return he.createElement("div",{ref:this.componentRef,className:f,style:c},he.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},s),a?he.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},he.createElement("defs",null,he.createElement("mask",{id:`hole-${this.instanceId}`},he.createElement("rect",{width:"100%",height:"100%",fill:"white"}),n?he.createElement("ellipse",{cx:`${a.x+a.width/2}${a.unit}`,cy:`${a.y+a.height/2}${a.unit}`,rx:`${a.width/2}${a.unit}`,ry:`${a.height/2}${a.unit}`,fill:"black"}):he.createElement("rect",{x:`${a.x}${a.unit}`,y:`${a.y}${a.unit}`,width:`${a.width}${a.unit}`,height:`${a.height}${a.unit}`,fill:"black"}))),he.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,m)}};Ne(er,"xOrds",["e","w"]),Ne(er,"yOrds",["n","s"]),Ne(er,"xyOrds",["nw","ne","se","sw"]),Ne(er,"nudgeStep",1),Ne(er,"nudgeStepMedium",10),Ne(er,"nudgeStepLarge",100),Ne(er,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let t5=er;function Nf(e,t,s){return J3(X3({unit:"%",width:90},s,e,t),e,t)}function s5({imageSrc:e,onCropComplete:t,onCancel:s,targetWidth:n=2048,targetHeight:i=512}){const a=j.useRef(null),[l,o]=j.useState(),[c,d]=j.useState(),[u,h]=j.useState(1),[m,f]=j.useState(!1),g=n/i,[x,w]=j.useState(null),p=j.useCallback(C=>{const{width:k,height:R}=C.currentTarget,U=Nf(k,R,g);o(U),w({width:U.width,height:U.height})},[g]),b=j.useCallback((C,k)=>{o(x?{...k,width:x.width,height:x.height}:k)},[x]),y=j.useCallback(async()=>{const C=a.current;if(!C||!c)return null;const k=document.createElement("canvas"),R=k.getContext("2d");if(!R)return null;k.width=n,k.height=i;const U=C.naturalWidth/C.width,E=C.naturalHeight/C.height,D=c.x*U,_=c.y*E,V=c.width*U,O=c.height*E;return R.drawImage(C,D,_,V,O,0,0,n,i),new Promise(G=>{k.toBlob(W=>G(W),"image/png",1)})},[c,n,i]),v=async()=>{f(!0);try{const C=await y();C&&t(C)}finally{f(!1)}},S=()=>{if(h(1),a.current){const{width:C,height:k}=a.current;o(Nf(C,k,g))}};return r.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-discord-lighter flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Crop Image"}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Select the area to use for the template (",n,"x",i,")"]})]}),r.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-white transition-colors",children:r.jsx(ht,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"flex-1 overflow-auto p-4 bg-discord-darker flex items-center justify-center min-h-0",children:r.jsx(t5,{crop:l,onChange:b,onComplete:C=>d(C),aspect:g,className:"max-h-full",children:r.jsx("img",{ref:a,src:e,alt:"Crop preview",onLoad:p,style:{transform:`scale(${u})`,maxHeight:"60vh",maxWidth:"100%"},className:"object-contain"})})}),r.jsx("div",{className:"px-4 py-3 border-t border-discord-lighter",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Zoom:"}),r.jsx("button",{onClick:()=>h(C=>Math.max(.5,C-.1)),className:"p-2 text-gray-400 hover:text-white bg-discord-darker rounded transition-colors",title:"Zoom out",children:r.jsx(M2,{className:"w-4 h-4"})}),r.jsxs("span",{className:"text-sm text-white w-12 text-center",children:[Math.round(u*100),"%"]}),r.jsx("button",{onClick:()=>h(C=>Math.min(3,C+.1)),className:"p-2 text-gray-400 hover:text-white bg-discord-darker rounded transition-colors",title:"Zoom in",children:r.jsx(T2,{className:"w-4 h-4"})}),r.jsx("button",{onClick:S,className:"p-2 text-gray-400 hover:text-white bg-discord-darker rounded transition-colors ml-2",title:"Reset",children:r.jsx(yn,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:s,className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:v,disabled:m||!c,className:"flex items-center gap-2 bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:[r.jsx(fs,{className:"w-4 h-4"}),m?"Processing...":"Apply Crop"]})]})]})})]})})}const El=2048,Pl=512,Js={playerName:"Sample Player",kills:42,deaths:15,kdRatio:2.8,teamkills:2,revivesGiven:28,revivesReceived:12,nemesis:"Enemy_Player123"};function r5(){var im;const{id:e}=Zo(),t=Hs(),{hasPermission:s}=Q(),n=s("MANAGE_STATS_TEMPLATES"),i=e==="new",a=e&&e!=="new"?parseInt(e,10):null,{data:l,isLoading:o,refetch:c}=I3(i?null:a),d=F3(),u=By(),h=U3(),[m,f]=j.useState(""),[g,x]=j.useState(null),[w,p]=j.useState(null),[b,y]=j.useState(!1),[v,S]=j.useState(null),C=j.useRef(null),k=j.useRef(null),R=j.useRef(null),U=j.useRef(null),[E,D]=j.useState({displayName:"",isActive:!0,boxWidth:800,boxHeight:420,boxX:null,boxY:null,rightMargin:80,padding:25,titleSize:28,labelSize:18,valueSize:26,rowGap:12,topGap:40,sectionGap:40}),[_,V]=j.useState(!1),[O,G]=j.useState({x:0,y:0}),[W,ae]=j.useState(1),[P,L]=j.useState(!1);j.useEffect(()=>{if(l!=null&&l.template){const A=l.template;D({displayName:A.displayName,isActive:A.isActive,boxWidth:A.boxWidth,boxHeight:A.boxHeight,boxX:A.boxX,boxY:A.boxY,rightMargin:A.rightMargin,padding:A.padding,titleSize:A.titleSize,labelSize:A.labelSize,valueSize:A.valueSize,rowGap:A.rowGap,topGap:A.topGap,sectionGap:A.sectionGap})}},[l]),j.useEffect(()=>{if(a&&!i){const A=new Image;A.crossOrigin="anonymous",A.onload=()=>{U.current=A,L(!0)},A.src=ct.getImageUrl(a)+"?t="+Date.now()}},[a,i]);const q=j.useCallback(()=>{const z=E.boxX!==null?E.boxX:2048-E.boxWidth-E.rightMargin,je=E.boxY!==null?E.boxY:(512-E.boxHeight)/2;return{boxX:z,boxY:je}},[E]),H=j.useCallback(()=>{const A=C.current,Re=k.current;if(!A||!Re||!U.current)return;const z=A.getContext("2d");if(!z)return;const je=U.current,Vt=je.width,Ns=je.height,Ae=Re.clientWidth/Vt;ae(Ae),A.width=Vt*Ae,A.height=Ns*Ae,z.filter="blur(2px)",z.drawImage(je,0,0,A.width,A.height),z.filter="none";const{boxX:ev,boxY:tv}=q(),as=ev*Ae,Ja=tv*Ae,Fr=E.boxWidth*Ae,am=E.boxHeight*Ae,Ks=E.padding*Ae,hc=E.titleSize*Ae,mc=E.labelSize*Ae,vn=E.valueSize*Ae,Si=E.rowGap*Ae,sv=E.topGap*Ae,lm=E.sectionGap*Ae;z.fillStyle="rgba(0, 0, 0, 0.75)",z.beginPath(),z.roundRect(as,Ja,Fr,am,12*Ae),z.fill();const pc="rgba(255, 255, 255, 0.7)",Za="#ffffff",fc=(Fr-Ks*2)/3;z.fillStyle=Za,z.textAlign="center",z.font=`bold ${hc}px DejaVu Sans, sans-serif`,z.fillText(Js.playerName,as+Fr/2,Ja+Ks+hc),z.strokeStyle="rgba(255, 255, 255, 0.3)",z.lineWidth=2*Ae,z.beginPath();const xc=Ja+Ks+hc+10*Ae;z.moveTo(as+Ks,xc),z.lineTo(as+Fr-Ks,xc),z.stroke();const el=as+Ks+fc*.5,tl=as+Ks+fc*1.5,sl=as+Ks+fc*2.5;let Ue=xc+sv;z.font=`${mc}px DejaVu Sans, sans-serif`,z.fillStyle=pc,z.fillText("KILLS",el,Ue),z.fillText("DEATHS",tl,Ue),z.fillText("K/D",sl,Ue),Ue+=Si+vn,z.font=`bold ${vn}px DejaVu Sans, sans-serif`,z.fillStyle=Za,z.fillText(Js.kills.toString(),el,Ue),z.fillText(Js.deaths.toString(),tl,Ue),z.fillText(Js.kdRatio.toFixed(2),sl,Ue),Ue+=Si+lm,z.font=`${mc}px DejaVu Sans, sans-serif`,z.fillStyle=pc,z.fillText("TEAMKILLS",el,Ue),z.fillText("REVIVES GIVEN",tl,Ue),z.fillText("REVIVES RECEIVED",sl,Ue),Ue+=Si+vn,z.font=`bold ${vn}px DejaVu Sans, sans-serif`,z.fillStyle=Za,z.fillText(Js.teamkills.toString(),el,Ue),z.fillText(Js.revivesGiven.toString(),tl,Ue),z.fillText(Js.revivesReceived.toString(),sl,Ue),Ue+=Si+lm,z.font=`${mc}px DejaVu Sans, sans-serif`,z.fillStyle=pc,z.fillText("NEMESIS",as+Fr/2,Ue),Ue+=Si+vn-4*Ae,z.font=`bold ${vn-2*Ae}px DejaVu Sans, sans-serif`,z.fillStyle=Za,z.fillText(Js.nemesis,as+Fr/2,Ue),_&&(z.strokeStyle="#5865F2",z.lineWidth=2,z.setLineDash([5,5]),z.strokeRect(as,Ja,Fr,am),z.setLineDash([]))},[E,q,_]);j.useEffect(()=>{P&&H()},[P,H]),j.useEffect(()=>{const A=()=>H();return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[H]);const se=A=>{if(!n)return;const Re=C.current;if(!Re)return;const z=Re.getBoundingClientRect(),je=(A.clientX-z.left)/W,Vt=(A.clientY-z.top)/W,{boxX:Ns,boxY:Vs}=q();je>=Ns&&je<=Ns+E.boxWidth&&Vt>=Vs&&Vt<=Vs+E.boxHeight&&(V(!0),G({x:je-Ns,y:Vt-Vs}))},ie=A=>{if(!_)return;const Re=C.current;if(!Re)return;const z=Re.getBoundingClientRect(),je=(A.clientX-z.left)/W,Vt=(A.clientY-z.top)/W;let Ns=Math.round(je-O.x),Vs=Math.round(Vt-O.y);Ns=Math.max(0,Math.min(2048-E.boxWidth,Ns)),Vs=Math.max(0,Math.min(512-E.boxHeight,Vs)),D(Ae=>({...Ae,boxX:Ns,boxY:Vs}))},Oe=()=>{V(!1)},xe=(A,Re)=>{D(z=>({...z,[A]:Re}))},Wt=()=>{D(A=>({...A,boxX:null,boxY:null}))},K=async()=>{if(a)try{await u.mutateAsync({id:a,request:E})}catch{}},Se=async A=>{var Vt;const Re=(Vt=A.target.files)==null?void 0:Vt[0];if(!Re)return;R.current&&(R.current.value="");const z=new Image,je=URL.createObjectURL(Re);z.onload=()=>{z.width===El&&z.height===Pl?(URL.revokeObjectURL(je),ft(Re)):(S(je),y(!0))},z.src=je},ft=async A=>{const Re=A instanceof File?A:new File([A],"template.png",{type:"image/png"});if(i){x(Re);const z=URL.createObjectURL(Re);w&&URL.revokeObjectURL(w),p(z);const je=new Image;je.onload=()=>{U.current=je,L(!0)},je.src=z}else if(a){const z=new FormData;z.append("image",Re);try{await h.mutateAsync({id:a,formData:z});const je=new Image;je.crossOrigin="anonymous",je.onload=()=>{U.current=je,H()},je.src=ct.getImageUrl(a)+"?t="+Date.now()}catch{}}},Xy=A=>{y(!1),v&&(URL.revokeObjectURL(v),S(null)),ft(A)},Jy=()=>{y(!1),v&&(URL.revokeObjectURL(v),S(null))},Zy=async()=>{var Re;if(!m||!g)return;const A=new FormData;A.append("name",m.toLowerCase().replace(/\s+/g,"-")),A.append("displayName",E.displayName||m),A.append("image",g),A.append("boxWidth",E.boxWidth.toString()),A.append("boxHeight",E.boxHeight.toString()),E.boxX!==null&&A.append("boxX",E.boxX.toString()),E.boxY!==null&&A.append("boxY",E.boxY.toString()),A.append("rightMargin",E.rightMargin.toString()),A.append("padding",E.padding.toString()),A.append("titleSize",E.titleSize.toString()),A.append("labelSize",E.labelSize.toString()),A.append("valueSize",E.valueSize.toString()),A.append("rowGap",E.rowGap.toString()),A.append("topGap",E.topGap.toString()),A.append("sectionGap",E.sectionGap.toString());try{const z=await d.mutateAsync(A);(Re=z.template)!=null&&Re.id?t(`/admin/stats-templates/${z.template.id}`):t("/admin/stats-templates")}catch{}};if(j.useEffect(()=>()=>{w&&URL.revokeObjectURL(w)},[w]),o&&!i)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-discord-blurple"})});if(!i&&!(l!=null&&l.template))return r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-gray-400",children:"Template not found"}),r.jsx(Ke,{to:"/admin/stats-templates",className:"text-discord-blurple hover:underline mt-2 inline-block",children:"Back to templates"})]});const js=l==null?void 0:l.template;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ke,{to:"/admin/stats-templates",className:"p-2 text-gray-400 hover:text-white transition-colors",children:r.jsx(Wh,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:i?"New Template":js==null?void 0:js.displayName}),r.jsx("p",{className:"text-gray-400 text-sm",children:i?"Create a new stats template":`Template: ${js==null?void 0:js.name}`})]})]}),n&&r.jsxs("div",{className:"flex items-center gap-3",children:[!i&&r.jsxs("button",{onClick:()=>c(),className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:text-white bg-discord-darker hover:bg-discord-lighter rounded-md transition-colors",children:[r.jsx(dt,{className:"w-4 h-4"}),"Refresh"]}),i?r.jsxs("button",{onClick:Zy,disabled:d.isPending||!m||!g,className:"flex items-center gap-2 bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:[r.jsx(Tt,{className:"w-4 h-4"}),d.isPending?"Creating...":"Create Template"]}):r.jsxs("button",{onClick:K,disabled:u.isPending,className:"flex items-center gap-2 bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:[r.jsx(Gh,{className:"w-4 h-4"}),u.isPending?"Saving...":"Save Changes"]})]})]}),(d.error||u.error||h.error)&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-md p-4",children:r.jsx("p",{className:"text-red-400",children:((im=d.error||u.error||h.error)==null?void 0:im.message)||"An error occurred"})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-discord-light rounded-lg border border-discord-lighter overflow-hidden",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-discord-lighter flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Live Preview"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[r.jsx(y2,{className:"w-4 h-4"}),"Drag box to reposition"]})]}),r.jsx("div",{ref:k,className:"p-4 bg-discord-darker",children:i&&!P?r.jsx("div",{className:"aspect-[4/1] flex items-center justify-center border-2 border-dashed border-discord-lighter rounded-lg",children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(aa,{className:"w-8 h-8 mx-auto mb-2"}),r.jsx("p",{children:"Upload an image to see preview"})]})}):r.jsx("canvas",{ref:C,className:`w-full ${n?"cursor-move":""}`,onMouseDown:se,onMouseMove:ie,onMouseUp:Oe,onMouseLeave:Oe})})]}),r.jsxs("div",{className:"space-y-4",children:[i&&n&&r.jsxs("div",{className:"bg-discord-light rounded-lg border border-discord-lighter p-4",children:[r.jsx("h3",{className:"text-white font-medium mb-3",children:"Template Image"}),r.jsxs("p",{className:"text-gray-400 text-sm mb-3",children:["Upload an image for the template. Images not matching ",El,"x",Pl," will be cropped automatically."]}),r.jsx("input",{ref:R,type:"file",accept:"image/png,image/jpeg",onChange:Se,className:"hidden"}),r.jsxs("button",{onClick:()=>{var A;return(A=R.current)==null?void 0:A.click()},className:`flex items-center gap-2 w-full justify-center px-4 py-3 rounded-md text-sm font-medium transition-colors ${g?"bg-green-600/20 border border-green-600/30 text-green-400":"bg-discord-darker hover:bg-discord-lighter text-gray-300 hover:text-white border border-discord-lighter"}`,children:[r.jsx(aa,{className:"w-4 h-4"}),g?`Selected: ${g.name}`:"Choose Image File"]}),!g&&r.jsx("p",{className:"text-yellow-400 text-xs mt-2",children:"Required: Please upload an image"})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg border border-discord-lighter p-4",children:[r.jsx("h3",{className:"text-white font-medium mb-3",children:"Basic Info"}),r.jsxs("div",{className:"space-y-3",children:[i&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Template Name"}),r.jsx("input",{type:"text",value:m,onChange:A=>f(A.target.value),placeholder:"e.g., tank, wide, special",disabled:!n,className:"w-full bg-discord-darker border border-discord-lighter rounded px-3 py-2 text-white text-sm disabled:opacity-50 placeholder:text-gray-600"}),r.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Lowercase, no spaces (auto-converted)"}),!m&&r.jsx("p",{className:"text-yellow-400 text-xs mt-1",children:"Required"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Display Name"}),r.jsx("input",{type:"text",value:E.displayName,onChange:A=>xe("displayName",A.target.value),placeholder:i?"e.g., Tank Template":void 0,disabled:!n,className:"w-full bg-discord-darker border border-discord-lighter rounded px-3 py-2 text-white text-sm disabled:opacity-50 placeholder:text-gray-600"})]}),!i&&!(js!=null&&js.isDefault)&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:E.isActive,onChange:A=>xe("isActive",A.target.checked),disabled:!n,className:"rounded border-discord-lighter bg-discord-darker"}),r.jsx("label",{htmlFor:"isActive",className:"text-sm text-gray-300",children:"Active"})]})]})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg border border-discord-lighter p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-white font-medium",children:"Box Position"}),n&&E.boxX!==null&&r.jsx("button",{onClick:Wt,className:"text-xs text-discord-blurple hover:underline",children:"Reset to Auto"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"X Position"}),r.jsx("input",{type:"number",value:E.boxX??q().boxX,onChange:A=>xe("boxX",A.target.value?parseInt(A.target.value):null),disabled:!n,className:"w-full bg-discord-darker border border-discord-lighter rounded px-3 py-2 text-white text-sm disabled:opacity-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Y Position"}),r.jsx("input",{type:"number",value:E.boxY??q().boxY,onChange:A=>xe("boxY",A.target.value?parseInt(A.target.value):null),disabled:!n,className:"w-full bg-discord-darker border border-discord-lighter rounded px-3 py-2 text-white text-sm disabled:opacity-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Width"}),r.jsx("input",{type:"number",value:E.boxWidth,onChange:A=>xe("boxWidth",parseInt(A.target.value)||800),disabled:!n,className:"w-full bg-discord-darker border border-discord-lighter rounded px-3 py-2 text-white text-sm disabled:opacity-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Height"}),r.jsx("input",{type:"number",value:E.boxHeight,onChange:A=>xe("boxHeight",parseInt(A.target.value)||420),disabled:!n,className:"w-full bg-discord-darker border border-discord-lighter rounded px-3 py-2 text-white text-sm disabled:opacity-50"})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Right Margin (when auto)"}),r.jsx("input",{type:"number",value:E.rightMargin,onChange:A=>xe("rightMargin",parseInt(A.target.value)||80),disabled:!n,className:"w-full bg-discord-darker border border-discord-lighter rounded px-3 py-2 text-white text-sm disabled:opacity-50"})]})]})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg border border-discord-lighter p-4",children:[r.jsx("h3",{className:"text-white font-medium mb-3",children:"Text Styling"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Padding"}),r.jsx("input",{type:"number",value:E.padding,onChange:A=>xe("padding",parseInt(A.target.value)||25),disabled:!n,className:"w-full bg-discord-darker border border-discord-lighter rounded px-3 py-2 text-white text-sm disabled:opacity-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Title Size"}),r.jsx("input",{type:"number",value:E.titleSize,onChange:A=>xe("titleSize",parseInt(A.target.value)||28),disabled:!n,className:"w-full bg-discord-darker border border-discord-lighter rounded px-3 py-2 text-white text-sm disabled:opacity-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Label Size"}),r.jsx("input",{type:"number",value:E.labelSize,onChange:A=>xe("labelSize",parseInt(A.target.value)||18),disabled:!n,className:"w-full bg-discord-darker border border-discord-lighter rounded px-3 py-2 text-white text-sm disabled:opacity-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Value Size"}),r.jsx("input",{type:"number",value:E.valueSize,onChange:A=>xe("valueSize",parseInt(A.target.value)||26),disabled:!n,className:"w-full bg-discord-darker border border-discord-lighter rounded px-3 py-2 text-white text-sm disabled:opacity-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Row Gap"}),r.jsx("input",{type:"number",value:E.rowGap,onChange:A=>xe("rowGap",parseInt(A.target.value)||12),disabled:!n,className:"w-full bg-discord-darker border border-discord-lighter rounded px-3 py-2 text-white text-sm disabled:opacity-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Top Gap"}),r.jsx("input",{type:"number",value:E.topGap,onChange:A=>xe("topGap",parseInt(A.target.value)||40),disabled:!n,className:"w-full bg-discord-darker border border-discord-lighter rounded px-3 py-2 text-white text-sm disabled:opacity-50"})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Section Gap"}),r.jsx("input",{type:"number",value:E.sectionGap,onChange:A=>xe("sectionGap",parseInt(A.target.value)||40),disabled:!n,className:"w-full bg-discord-darker border border-discord-lighter rounded px-3 py-2 text-white text-sm disabled:opacity-50"})]})]})]}),n&&!i&&r.jsxs("div",{className:"bg-discord-light rounded-lg border border-discord-lighter p-4",children:[r.jsx("h3",{className:"text-white font-medium mb-3",children:"Replace Image"}),r.jsxs("p",{className:"text-gray-400 text-sm mb-3",children:["Upload a new image. Images not matching ",El,"x",Pl," will be cropped."]}),r.jsx("input",{ref:R,type:"file",accept:"image/png,image/jpeg",onChange:Se,className:"hidden"}),r.jsxs("button",{onClick:()=>{var A;return(A=R.current)==null?void 0:A.click()},disabled:h.isPending,className:"flex items-center gap-2 w-full justify-center bg-discord-darker hover:bg-discord-lighter text-gray-300 hover:text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:[r.jsx(aa,{className:"w-4 h-4"}),h.isPending?"Uploading...":"Upload New Image"]})]})]})]}),b&&v&&r.jsx(s5,{imageSrc:v,onCropComplete:Xy,onCancel:Jy,targetWidth:El,targetHeight:Pl})]})}function n5(){const{user:e}=Q();return J({queryKey:["seeding","servers"],queryFn:async()=>(await is.getServers()).data,enabled:!!e})}function i5(){const{user:e}=Q();return J({queryKey:["seeding","active"],queryFn:async()=>(await is.getActiveSession()).data,enabled:!!e,refetchInterval:1e4})}function a5(e){const{user:t}=Q();return J({queryKey:["seeding","sessions",e],queryFn:async()=>(await is.listSessions(e)).data,enabled:!!t})}function l5(e){const{user:t}=Q();return J({queryKey:["seeding","session",e],queryFn:async()=>(await is.getSession(e)).data,enabled:!!t&&!!e,refetchInterval:1e4})}function o5(e,t){const{user:s}=Q();return J({queryKey:["seeding","participants",e,t],queryFn:async()=>(await is.getParticipants(e,t)).data,enabled:!!s&&!!e,refetchInterval:1e4})}function c5(){const e=X();return ee({mutationFn:t=>is.createSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:["seeding"]})}})}function $y(){const e=X();return ee({mutationFn:t=>is.closeSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:["seeding"]})}})}function Hy(){const e=X();return ee({mutationFn:({id:t,reason:s})=>is.cancelSession(t,s),onSuccess:()=>{e.invalidateQueries({queryKey:["seeding"]})}})}function Wy(){return ee({mutationFn:e=>is.getClosePreview(e)})}function Vy(){const e=X();return ee({mutationFn:({id:t,reason:s})=>is.reverseRewards(t,s),onSuccess:()=>{e.invalidateQueries({queryKey:["seeding"]}),e.invalidateQueries({queryKey:["whitelist"]})}})}function d5(){const e=X();return ee({mutationFn:({sessionId:t,participantId:s,reason:n})=>is.revokeParticipantRewards(t,s,n),onSuccess:()=>{e.invalidateQueries({queryKey:["seeding"]}),e.invalidateQueries({queryKey:["whitelist"]})}})}const nd="[SEEDING] B&B Server {server} needs players! Switch now for up to {reward} whitelist reward!";function u5({onClose:e,onSuccess:t}){const[s,n]=j.useState("target"),[i,a]=j.useState(""),[l,o]=j.useState("50"),[c,d]=j.useState({switch:{value:1,unit:"days"},playtime:{value:1,unit:"days",thresholdMinutes:30},completion:{value:1,unit:"days"}}),[u,h]=j.useState(nd),{data:m,isLoading:f}=n5(),g=c5(),x=m==null?void 0:m.find(k=>k.id===i),w=(m==null?void 0:m.filter(k=>k.id!==i))||[],p=(()=>{let k=0;return c.switch&&(k+=c.switch.unit==="days"?c.switch.value:c.switch.value*30),c.playtime&&(k+=c.playtime.unit==="days"?c.playtime.value:c.playtime.value*30),c.completion&&(k+=c.completion.unit==="days"?c.completion.value:c.completion.value*30),k})(),b=()=>{switch(s){case"target":return!!i;case"threshold":{const k=parseInt(l)||0;return k>=10&&k<=99}case"rewards":return c.switch||c.playtime||c.completion;case"confirm":return!0}},y=()=>{const k=["target","threshold","rewards","confirm"],R=k.indexOf(s);R<k.length-1&&n(k[R+1])},v=()=>{const k=["target","threshold","rewards","confirm"],R=k.indexOf(s);R>0&&n(k[R-1])},S=async()=>{const k=parseInt(l)||50,R={targetServerId:i,playerThreshold:k,rewards:c,customBroadcastMessage:u!==nd?u:void 0};try{await g.mutateAsync(R),t()}catch(U){console.error("Failed to create session:",U)}},C=(k,R)=>`${k} ${R}`;return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg shadow-xl w-full max-w-xl mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-discord-lighter",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Create Seeding Session"}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(ht,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"px-6 py-3 border-b border-discord-lighter",children:r.jsx("div",{className:"flex items-center gap-2 text-sm",children:["target","threshold","rewards","confirm"].map((k,R)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium ${s===k?"bg-discord-blurple text-white":R<["target","threshold","rewards","confirm"].indexOf(s)?"bg-green-500 text-white":"bg-discord-lighter text-gray-400"}`,children:R+1}),R<3&&r.jsx("div",{className:"w-8 h-0.5 bg-discord-lighter mx-1"})]},k))})}),r.jsxs("div",{className:"px-6 py-4 min-h-[300px] max-h-[60vh] overflow-y-auto",children:[s==="target"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-white font-medium mb-2 flex items-center gap-2",children:[r.jsx(Ro,{className:"w-4 h-4"}),"Select Target Server"]}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Choose the server that needs players. All other servers will receive the seeding call."})]}),f?r.jsx("div",{className:"text-gray-400 text-center py-8",children:"Loading servers..."}):r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-gray-400 text-xs font-medium uppercase tracking-wider",children:"Target Server"}),m==null?void 0:m.map(k=>{const R=k.playerCount>60;return r.jsx("button",{onClick:()=>!R&&a(k.id),disabled:R,className:`w-full p-3 rounded-lg border text-left transition-colors ${R?"border-discord-lighter opacity-50 cursor-not-allowed":i===k.id?"border-discord-blurple bg-discord-blurple/10":"border-discord-lighter hover:border-gray-500"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:`font-medium ${R?"text-gray-500":"text-white"}`,children:k.name}),r.jsx("div",{className:"text-gray-400 text-sm",children:k.id})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[R&&r.jsx("span",{className:"text-red-400 text-xs font-medium",children:"FULL"}),r.jsxs("span",{className:"text-gray-400 text-sm",children:[k.playerCount,"/",k.maxPlayers]}),r.jsx("span",{className:`w-2 h-2 rounded-full ${k.connected?"bg-green-500":"bg-red-500"}`})]})]})},k.id)})]})]}),s==="threshold"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-white font-medium mb-2 flex items-center gap-2",children:[r.jsx(cc,{className:"w-4 h-4"}),"Player Threshold"]}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"The seeding session will automatically close when this many players are on the target server."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Target Player Count"}),r.jsx("input",{type:"number",min:10,max:99,value:l,onChange:k=>o(k.target.value),onBlur:k=>{const R=parseInt(k.target.value)||50;o(String(Math.max(10,Math.min(99,R))))},className:"w-full bg-discord-lighter border border-discord-lighter rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-discord-blurple"}),r.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Minimum: 10 players | Maximum: 99"})]}),x&&r.jsxs("div",{className:"bg-discord-lighter rounded-lg p-4 mt-4",children:[r.jsx("div",{className:"text-gray-400 text-sm",children:"Target Server"}),r.jsx("div",{className:"text-white font-medium",children:x.name})]})]}),s==="rewards"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-white font-medium mb-2 flex items-center gap-2",children:[r.jsx(lc,{className:"w-4 h-4"}),"Reward Configuration"]}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Configure the whitelist rewards. All enabled rewards stack additively."})]}),r.jsxs("div",{className:"bg-discord-lighter rounded-lg p-4",children:[r.jsx("label",{className:"text-white font-medium block mb-2",children:"Broadcast Message"}),r.jsxs("p",{className:"text-gray-400 text-xs mb-2",children:["Customize the message sent to source servers. Use ","{server}"," for server number and ","{reward}"," for reward duration."]}),r.jsx("textarea",{value:u,onChange:k=>h(k.target.value),rows:2,className:"w-full bg-discord-light border border-discord-lighter rounded px-3 py-2 text-white text-sm focus:outline-none focus:ring-2 focus:ring-discord-blurple resize-none",placeholder:nd}),r.jsxs("div",{className:"mt-2 p-2 bg-discord-light rounded border border-discord-lighter",children:[r.jsx("div",{className:"text-gray-400 text-xs mb-1",children:"Preview:"}),r.jsx("div",{className:"text-white text-sm",children:u.replace(/\{server\}/g,i.replace(/\D/g,"")||"1").replace(/\{reward\}/g,`${p} days`)})]})]}),r.jsxs("div",{className:"bg-discord-lighter rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-white font-medium",children:"Switch Reward"}),r.jsx("input",{type:"checkbox",checked:!!c.switch,onChange:k=>d({...c,switch:k.target.checked?{value:1,unit:"days"}:null}),className:"w-4 h-4"})]}),r.jsx("p",{className:"text-gray-400 text-xs mb-2",children:"Immediate reward when player switches from source to target"}),c.switch&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"number",min:1,value:c.switch.value,onChange:k=>d({...c,switch:{...c.switch,value:parseInt(k.target.value)||0}}),onBlur:k=>{const R=parseInt(k.target.value)||1;d({...c,switch:{...c.switch,value:Math.max(1,R)}})},className:"w-20 bg-discord-light border border-discord-lighter rounded px-2 py-1 text-white text-sm"}),r.jsxs("select",{value:c.switch.unit,onChange:k=>d({...c,switch:{...c.switch,unit:k.target.value}}),className:"bg-discord-light border border-discord-lighter rounded px-2 py-1 text-white text-sm",children:[r.jsx("option",{value:"days",children:"Days"}),r.jsx("option",{value:"months",children:"Months"})]})]})]}),r.jsxs("div",{className:"bg-discord-lighter rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-white font-medium",children:"Playtime Reward"}),r.jsx("input",{type:"checkbox",checked:!!c.playtime,onChange:k=>d({...c,playtime:k.target.checked?{value:1,unit:"days",thresholdMinutes:30}:null}),className:"w-4 h-4"})]}),r.jsx("p",{className:"text-gray-400 text-xs mb-2",children:"Reward after player reaches minimum playtime on target"}),c.playtime&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"number",min:1,value:c.playtime.value,onChange:k=>d({...c,playtime:{...c.playtime,value:parseInt(k.target.value)||0}}),onBlur:k=>{const R=parseInt(k.target.value)||1;d({...c,playtime:{...c.playtime,value:Math.max(1,R)}})},className:"w-20 bg-discord-light border border-discord-lighter rounded px-2 py-1 text-white text-sm"}),r.jsxs("select",{value:c.playtime.unit,onChange:k=>d({...c,playtime:{...c.playtime,unit:k.target.value}}),className:"bg-discord-light border border-discord-lighter rounded px-2 py-1 text-white text-sm",children:[r.jsx("option",{value:"days",children:"Days"}),r.jsx("option",{value:"months",children:"Months"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-400 text-sm",children:"After"}),r.jsx("input",{type:"number",min:5,max:120,value:c.playtime.thresholdMinutes,onChange:k=>d({...c,playtime:{...c.playtime,thresholdMinutes:parseInt(k.target.value)||0}}),onBlur:k=>{const R=parseInt(k.target.value)||30;d({...c,playtime:{...c.playtime,thresholdMinutes:Math.max(5,Math.min(120,R))}})},className:"w-16 bg-discord-light border border-discord-lighter rounded px-2 py-1 text-white text-sm"}),r.jsx("span",{className:"text-gray-400 text-sm",children:"minutes"})]})]})]}),r.jsxs("div",{className:"bg-discord-lighter rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-white font-medium",children:"Completion Reward"}),r.jsx("input",{type:"checkbox",checked:!!c.completion,onChange:k=>d({...c,completion:k.target.checked?{value:1,unit:"days"}:null}),className:"w-4 h-4"})]}),r.jsx("p",{className:"text-gray-400 text-xs mb-2",children:"Bonus reward when threshold is reached and player is on target"}),c.completion&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"number",min:1,value:c.completion.value,onChange:k=>d({...c,completion:{...c.completion,value:parseInt(k.target.value)||0}}),onBlur:k=>{const R=parseInt(k.target.value)||1;d({...c,completion:{...c.completion,value:Math.max(1,R)}})},className:"w-20 bg-discord-light border border-discord-lighter rounded px-2 py-1 text-white text-sm"}),r.jsxs("select",{value:c.completion.unit,onChange:k=>d({...c,completion:{...c.completion,unit:k.target.value}}),className:"bg-discord-light border border-discord-lighter rounded px-2 py-1 text-white text-sm",children:[r.jsx("option",{value:"days",children:"Days"}),r.jsx("option",{value:"months",children:"Months"})]})]})]}),r.jsx("div",{className:"bg-discord-blurple/10 border border-discord-blurple/30 rounded-lg p-3",children:r.jsxs("div",{className:"text-discord-blurple text-sm font-medium",children:["Total possible reward: ",p," days whitelist"]})})]}),s==="confirm"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium mb-2",children:"Confirm Session"}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Review the session configuration before creating."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-discord-lighter rounded-lg p-3",children:[r.jsx("div",{className:"text-gray-400 text-xs",children:"Target Server"}),r.jsx("div",{className:"text-white font-medium",children:x==null?void 0:x.name})]}),r.jsxs("div",{className:"bg-discord-lighter rounded-lg p-3",children:[r.jsx("div",{className:"text-gray-400 text-xs",children:"Player Threshold"}),r.jsxs("div",{className:"text-white font-medium",children:[l," players"]})]}),r.jsxs("div",{className:"bg-discord-lighter rounded-lg p-3",children:[r.jsx("div",{className:"text-gray-400 text-xs mb-2",children:"Rewards"}),r.jsxs("div",{className:"space-y-1",children:[c.switch&&r.jsxs("div",{className:"text-white text-sm",children:["Switch: +",C(c.switch.value,c.switch.unit)]}),c.playtime&&r.jsxs("div",{className:"text-white text-sm",children:["Playtime (",c.playtime.thresholdMinutes,"min): +",C(c.playtime.value,c.playtime.unit)]}),c.completion&&r.jsxs("div",{className:"text-white text-sm",children:["Completion: +",C(c.completion.value,c.completion.unit)]})]})]}),r.jsxs("div",{className:"bg-discord-lighter rounded-lg p-3",children:[r.jsx("div",{className:"text-gray-400 text-xs mb-1",children:"Source Servers (will receive broadcast)"}),r.jsx("div",{className:"text-white text-sm",children:w.length>0?w.map(k=>k.name).join(", "):r.jsx("span",{className:"text-gray-500 italic",children:"None selected"})})]}),r.jsxs("div",{className:"bg-discord-lighter rounded-lg p-3",children:[r.jsx("div",{className:"text-gray-400 text-xs mb-1",children:"Broadcast Message"}),r.jsx("div",{className:"text-white text-sm",children:u.replace(/\{server\}/g,i.replace(/\D/g,"")||"1").replace(/\{reward\}/g,`${p} days`)})]})]}),r.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3 flex gap-3",children:[r.jsx(Ge,{className:"w-5 h-5 text-yellow-500 flex-shrink-0"}),r.jsx("div",{className:"text-yellow-500 text-sm",children:"This will broadcast a seeding call to all source servers. Players will be notified in-game."})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-discord-lighter",children:[r.jsxs("button",{onClick:s==="target"?e:v,className:"flex items-center gap-1 text-gray-400 hover:text-white transition-colors",children:[r.jsx(oc,{className:"w-4 h-4"}),s==="target"?"Cancel":"Back"]}),s==="confirm"?r.jsx("button",{onClick:S,disabled:g.isPending,className:"bg-discord-blurple hover:bg-discord-blurple/80 disabled:bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2",children:g.isPending?"Creating...":"Create Session"}):r.jsxs("button",{onClick:y,disabled:!b(),className:"bg-discord-blurple hover:bg-discord-blurple/80 disabled:bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-1",children:["Next",r.jsx(ji,{className:"w-4 h-4"})]})]})]})})}function id(e,t){return`${e}${t.charAt(0)}`}function Lu(e){return new Date(e).toLocaleString()}function Ky(e){switch(e){case"active":return"bg-green-500/20 text-green-400";case"completed":return"bg-blue-500/20 text-blue-400";case"cancelled":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}}function h5({session:e,onRefresh:t}){var w;const s=$y(),n=Hy(),i=Wy(),[a,l]=j.useState(!1),[o,c]=j.useState(!1),[d,u]=j.useState(null),h=(()=>{let p=0;return e.switch_reward_value&&e.switch_reward_unit&&(p+=e.switch_reward_unit==="days"?e.switch_reward_value:e.switch_reward_value*30),e.playtime_reward_value&&e.playtime_reward_unit&&(p+=e.playtime_reward_unit==="days"?e.playtime_reward_value:e.playtime_reward_value*30),e.completion_reward_value&&e.completion_reward_unit&&(p+=e.completion_reward_unit==="days"?e.completion_reward_value:e.completion_reward_value*30),p})(),m=Math.min(e.stats.currentlyOnTarget/e.player_threshold*100,100),f=async()=>{try{const p=await i.mutateAsync(e.id);u(p.data),c(!0)}catch(p){console.error("Failed to fetch close preview:",p)}},g=async()=>{await s.mutateAsync(e.id),c(!1),u(null),t()},x=async()=>{await n.mutateAsync({id:e.id,reason:"Cancelled by admin"}),l(!1),t()};return r.jsxs("div",{className:"bg-discord-light rounded-lg p-6 border-2 border-green-500/30",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${Ky("active")}`,children:"ACTIVE"}),((w=e.metadata)==null?void 0:w.testMode)&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-yellow-500/20 text-yellow-500 border border-yellow-500/30",children:[r.jsx(Qh,{className:"w-3 h-3"}),"TEST"]}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:e.target_server_name})]}),r.jsxs("p",{className:"text-gray-400 text-sm",children:["Started ",Lu(e.started_at)," by ",e.started_by_name||"Unknown"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:f,disabled:i.isPending||s.isPending,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded text-sm font-medium transition-colors",children:i.isPending?"Loading...":s.isPending?"Completing...":"Complete Session"}),a?r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:x,disabled:n.isPending,className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded text-sm font-medium transition-colors",children:"Confirm Cancel"}),r.jsx("button",{onClick:()=>l(!1),className:"bg-gray-600 hover:bg-gray-500 text-white px-3 py-1.5 rounded text-sm font-medium transition-colors",children:r.jsx(ht,{className:"w-4 h-4"})})]}):r.jsx("button",{onClick:()=>l(!0),className:"bg-red-500/20 hover:bg-red-500/40 text-red-400 px-3 py-1.5 rounded text-sm font-medium transition-colors",children:"Cancel"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[r.jsx("span",{className:"text-gray-400",children:"Progress to threshold"}),r.jsxs("span",{className:"text-white font-medium",children:[e.stats.currentlyOnTarget," / ",e.player_threshold," players"]})]}),r.jsx("div",{className:"h-3 bg-discord-lighter rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-green-400 transition-all duration-500",style:{width:`${m}%`}})})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[r.jsxs("div",{className:"bg-discord-lighter rounded p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs mb-1",children:[r.jsx(rt,{className:"w-3 h-3"}),"Participants"]}),r.jsx("div",{className:"text-white font-semibold",children:e.participants_count})]}),r.jsxs("div",{className:"bg-discord-lighter rounded p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs mb-1",children:[r.jsx(cc,{className:"w-3 h-3"}),"On Target"]}),r.jsx("div",{className:"text-white font-semibold",children:e.stats.currentlyOnTarget})]}),r.jsxs("div",{className:"bg-discord-lighter rounded p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs mb-1",children:[r.jsx(lc,{className:"w-3 h-3"}),"Rewards Granted"]}),r.jsx("div",{className:"text-white font-semibold",children:e.rewards_granted_count})]}),r.jsxs("div",{className:"bg-discord-lighter rounded p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs mb-1",children:[r.jsx(Ht,{className:"w-3 h-3"}),"Max Reward"]}),r.jsxs("div",{className:"text-white font-semibold",children:[h,"d"]})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.switch_reward_value&&e.switch_reward_unit&&r.jsxs("span",{className:"bg-discord-lighter px-2 py-1 rounded text-xs text-gray-300",children:["Switch: +",id(e.switch_reward_value,e.switch_reward_unit)]}),e.playtime_reward_value&&e.playtime_reward_unit&&r.jsxs("span",{className:"bg-discord-lighter px-2 py-1 rounded text-xs text-gray-300",children:["Playtime (",e.playtime_threshold_minutes,"min): +",id(e.playtime_reward_value,e.playtime_reward_unit)]}),e.completion_reward_value&&e.completion_reward_unit&&r.jsxs("span",{className:"bg-discord-lighter px-2 py-1 rounded text-xs text-gray-300",children:["Completion: +",id(e.completion_reward_value,e.completion_reward_unit)]})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-discord-lighter",children:r.jsx(Ke,{to:`/seeding/${e.id}`,className:"text-discord-blurple hover:text-discord-blurple/80 text-sm font-medium",children:"View Participants "})}),o&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-dark rounded-lg p-6 max-w-md w-full mx-4 border border-discord-lighter",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-full",children:r.jsx(Ge,{className:"w-6 h-6 text-yellow-500"})}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Complete Session?"})]}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsx("p",{className:"text-gray-300",children:"This will finalize the seeding session and grant completion rewards."}),d&&r.jsxs("div",{className:"bg-discord-lighter rounded p-3 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Participants to reward:"}),r.jsx("span",{className:"text-white font-medium",children:d.participantsToReward})]}),d.sessionConfig.completionReward&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Completion reward:"}),r.jsx("span",{className:"text-white font-medium",children:d.sessionConfig.completionReward})]}),r.jsxs("div",{className:"flex justify-between text-sm border-t border-discord-light pt-2",children:[r.jsx("span",{className:"text-gray-400",children:"Total whitelist days:"}),r.jsx("span",{className:"text-green-400 font-semibold",children:d.totalWhitelistDaysToGrant.toFixed(1)})]})]}),!d.sessionConfig.completionReward&&r.jsx("p",{className:"text-gray-400 text-sm italic",children:"No completion reward configured"})]}),r.jsx("p",{className:"text-yellow-400 text-sm",children:'This action can be reversed using the "Reverse Rewards" option after completion.'})]}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx("button",{onClick:()=>{c(!1),u(null)},className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded text-sm font-medium transition-colors",children:"Cancel"}),r.jsx("button",{onClick:g,disabled:s.isPending,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded text-sm font-medium transition-colors",children:s.isPending?"Completing...":"Confirm Complete"})]})]})})]})}function m5({session:e,onRefresh:t}){var o;const s=Vy(),[n,i]=j.useState(!1),a=e.status!=="active"&&e.rewards_granted_count>0,l=async()=>{await s.mutateAsync({id:e.id,reason:"Manual reversal from dashboard"}),i(!1),t()};return r.jsxs(r.Fragment,{children:[r.jsxs("tr",{className:"border-b border-discord-lighter hover:bg-discord-lighter/50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx(Ke,{to:`/seeding/${e.id}`,className:"text-white hover:text-discord-blurple",children:e.target_server_name||e.target_server_id})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${Ky(e.status)}`,children:e.status.toUpperCase()}),((o=e.metadata)==null?void 0:o.testMode)&&r.jsx("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 rounded text-xs font-medium bg-yellow-500/20 text-yellow-500",children:r.jsx(Qh,{className:"w-2.5 h-2.5"})})]})}),r.jsx("td",{className:"px-4 py-3 text-gray-400",children:e.participants_count}),r.jsx("td",{className:"px-4 py-3 text-gray-400",children:e.rewards_granted_count}),r.jsx("td",{className:"px-4 py-3 text-gray-400 text-sm",children:Lu(e.started_at)}),r.jsx("td",{className:"px-4 py-3 text-gray-400 text-sm",children:e.closed_at?Lu(e.closed_at):"-"}),r.jsx("td",{className:"px-4 py-3 text-gray-400 text-sm",children:e.started_by_name||"-"}),r.jsx("td",{className:"px-4 py-3",children:a&&r.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-1 text-red-400 hover:text-red-300 text-xs font-medium transition-colors",title:"Reverse all rewards granted in this session",children:[r.jsx(yn,{className:"w-3 h-3"}),"Reverse"]})})]}),n&&r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"p-0",children:r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-dark rounded-lg p-6 max-w-md w-full mx-4 border border-discord-lighter",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 bg-red-500/20 rounded-full",children:r.jsx(Ge,{className:"w-6 h-6 text-red-500"})}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Reverse All Rewards?"})]}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsx("p",{className:"text-gray-300",children:"This will revoke all whitelist rewards granted during this seeding session."}),r.jsxs("div",{className:"bg-discord-lighter rounded p-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Session:"}),r.jsx("span",{className:"text-white font-medium",children:e.target_server_name})]}),r.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[r.jsx("span",{className:"text-gray-400",children:"Rewards to revoke:"}),r.jsx("span",{className:"text-red-400 font-medium",children:e.rewards_granted_count})]})]}),r.jsx("p",{className:"text-red-400 text-sm",children:"This action cannot be undone. Affected players will lose their whitelist time."})]}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx("button",{onClick:()=>i(!1),className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded text-sm font-medium transition-colors",children:"Cancel"}),r.jsx("button",{onClick:l,disabled:s.isPending,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded text-sm font-medium transition-colors",children:s.isPending?"Reversing...":"Confirm Reverse"})]})]})})})})]})}function p5(){const[e,t]=j.useState(!1),{data:s,isLoading:n,refetch:i,isFetching:a}=i5(),{data:l,isLoading:o,refetch:c}=a5({page:1,limit:20}),d=()=>{i(),c()};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Seeding Sessions"}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Cross-server seeding incentive management"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:d,disabled:a,className:"bg-discord-lighter hover:bg-discord-light text-white px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2",children:[r.jsx(dt,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Refresh"]}),r.jsxs("button",{onClick:()=>t(!0),disabled:!!s,className:`${s?"bg-gray-600 cursor-not-allowed":"bg-discord-blurple hover:bg-discord-blurple/80"} text-white px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2`,children:[r.jsx(Tt,{className:"w-4 h-4"}),"Create Session"]})]})]}),n?r.jsx("div",{className:"bg-discord-light rounded-lg p-8 text-center",children:r.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading active session..."})}):s?r.jsx(h5,{session:s,onRefresh:d}):r.jsxs("div",{className:"bg-discord-light rounded-lg p-8 text-center border border-dashed border-discord-lighter",children:[r.jsx(rt,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-medium text-white mb-1",children:"No Active Session"}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Create a seeding session to incentivize players to switch servers."}),r.jsxs("button",{onClick:()=>t(!0),className:"bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors inline-flex items-center gap-2",children:[r.jsx(Tt,{className:"w-4 h-4"}),"Create Session"]})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg overflow-hidden",children:[r.jsx("div",{className:"px-4 py-3 border-b border-discord-lighter",children:r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Session History"})}),o?r.jsx("div",{className:"p-8 text-center",children:r.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading history..."})}):l&&l.sessions.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-discord-lighter text-left text-sm text-gray-400",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 font-medium",children:"Target Server"}),r.jsx("th",{className:"px-4 py-2 font-medium",children:"Status"}),r.jsx("th",{className:"px-4 py-2 font-medium",children:"Participants"}),r.jsx("th",{className:"px-4 py-2 font-medium",children:"Rewarded"}),r.jsx("th",{className:"px-4 py-2 font-medium",children:"Started"}),r.jsx("th",{className:"px-4 py-2 font-medium",children:"Closed"}),r.jsx("th",{className:"px-4 py-2 font-medium",children:"Started By"}),r.jsx("th",{className:"px-4 py-2 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:l.sessions.map(u=>r.jsx(m5,{session:u,onRefresh:d},u.id))})]})}):r.jsx("div",{className:"p-8 text-center text-gray-400",children:"No session history yet."})]}),e&&r.jsx(u5,{onClose:()=>t(!1),onSuccess:()=>{t(!1),d()}})]})}function ad(e,t){return`${e}${t.charAt(0)}`}function kf(e){return new Date(e).toLocaleString()}function f5(e){switch(e){case"active":return"bg-green-500/20 text-green-400";case"completed":return"bg-blue-500/20 text-blue-400";case"cancelled":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}}function x5(e){switch(e){case"on_source":return"bg-yellow-500/20 text-yellow-400";case"switched":return"bg-green-500/20 text-green-400";case"playtime_met":return"bg-blue-500/20 text-blue-400";case"completed":return"bg-purple-500/20 text-purple-400";case"seeder":return"bg-cyan-500/20 text-cyan-400";default:return"bg-gray-500/20 text-gray-400"}}function g5(e){return e==="switcher"?"bg-orange-500/20 text-orange-400":"bg-cyan-500/20 text-cyan-400"}function y5({participant:e,isActiveSession:t,sessionId:s,onRefresh:n}){const i=d5(),[a,l]=j.useState(!1),o=e.switch_rewarded_at||e.playtime_rewarded_at||e.completion_rewarded_at,c=!t&&o,d=async()=>{await i.mutateAsync({sessionId:s,participantId:e.id,reason:"Manual revocation from dashboard"}),l(!1),n()},u=h=>{if(!h)return"-";const m=h/(60*24);if(m<30)return`${m%1===0?m:Math.round(m*10)/10}d`;const f=m/30;return`${f%1===0?f:Math.round(f*10)/10}mo`};return r.jsxs(r.Fragment,{children:[r.jsxs("tr",{className:"border-b border-discord-lighter hover:bg-discord-lighter/50",children:[r.jsxs("td",{className:"px-4 py-3",children:[r.jsx(Ke,{to:`/whitelist/${e.steam_id}`,className:"text-white font-medium hover:text-discord-blurple transition-colors",children:e.username||"Unknown"}),r.jsx(Ke,{to:`/whitelist/${e.steam_id}`,className:"text-gray-500 text-xs hover:text-discord-blurple transition-colors block",children:e.steam_id})]}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${g5(e.participant_type)}`,children:e.participant_type.toUpperCase()})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${x5(e.status)}`,children:e.status.replace("_"," ").toUpperCase()})}),r.jsx("td",{className:"px-4 py-3 text-gray-400",children:t?e.is_on_target?r.jsx("span",{className:"text-green-400",children:"Online"}):r.jsx("span",{className:"text-gray-500",children:"Offline"}):r.jsx("span",{className:"text-gray-500",children:"-"})}),r.jsxs("td",{className:"px-4 py-3 text-gray-400",children:[e.target_playtime_minutes,"m"]}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex gap-1",children:[e.switch_rewarded_at&&r.jsx("span",{className:"bg-green-500/20 text-green-400 px-1.5 py-0.5 rounded text-xs",children:"Switch"}),e.playtime_rewarded_at&&r.jsx("span",{className:"bg-blue-500/20 text-blue-400 px-1.5 py-0.5 rounded text-xs",children:"Playtime"}),e.completion_rewarded_at&&r.jsx("span",{className:"bg-purple-500/20 text-purple-400 px-1.5 py-0.5 rounded text-xs",children:"Completion"}),!o&&r.jsx("span",{className:"text-gray-500 text-xs",children:"None yet"})]})}),r.jsx("td",{className:"px-4 py-3 text-white font-medium",children:u(e.total_reward_minutes)}),r.jsx("td",{className:"px-4 py-3",children:c&&r.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center gap-1 text-red-400 hover:text-red-300 text-xs font-medium transition-colors",title:"Revoke rewards for this participant",children:[r.jsx(yn,{className:"w-3 h-3"}),"Revoke"]})})]}),a&&r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"p-0",children:r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-dark rounded-lg p-6 max-w-md w-full mx-4 border border-discord-lighter",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 bg-red-500/20 rounded-full",children:r.jsx(Ge,{className:"w-6 h-6 text-red-500"})}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Revoke Rewards?"})]}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsx("p",{className:"text-gray-300",children:"This will revoke all whitelist rewards for this participant."}),r.jsxs("div",{className:"bg-discord-lighter rounded p-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Player:"}),r.jsx("span",{className:"text-white font-medium",children:e.username||e.steam_id})]}),r.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[r.jsx("span",{className:"text-gray-400",children:"Current reward:"}),r.jsx("span",{className:"text-red-400 font-medium",children:u(e.total_reward_minutes)})]}),r.jsxs("div",{className:"flex gap-1 mt-2",children:[e.switch_rewarded_at&&r.jsx("span",{className:"bg-green-500/20 text-green-400 px-1.5 py-0.5 rounded text-xs",children:"Switch"}),e.playtime_rewarded_at&&r.jsx("span",{className:"bg-blue-500/20 text-blue-400 px-1.5 py-0.5 rounded text-xs",children:"Playtime"}),e.completion_rewarded_at&&r.jsx("span",{className:"bg-purple-500/20 text-purple-400 px-1.5 py-0.5 rounded text-xs",children:"Completion"})]})]}),r.jsx("p",{className:"text-red-400 text-sm",children:"This action cannot be undone. The player will lose their whitelist time."})]}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx("button",{onClick:()=>l(!1),className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded text-sm font-medium transition-colors",children:"Cancel"}),r.jsx("button",{onClick:d,disabled:i.isPending,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded text-sm font-medium transition-colors",children:i.isPending?"Revoking...":"Confirm Revoke"})]})]})})})})]})}function v5(){var L,q,H,se;const{id:e}=Zo(),t=Hs(),s=parseInt(e||"0",10),[n,i]=j.useState(1),[a,l]=j.useState(""),[o,c]=j.useState(""),[d,u]=j.useState(!1),[h,m]=j.useState(!1),[f,g]=j.useState(!1),[x,w]=j.useState(null),{data:p,isLoading:b,refetch:y,isFetching:v}=l5(s),{data:S,isLoading:C,refetch:k}=o5(s,{page:n,limit:25,status:a||void 0,participantType:o||void 0}),R=$y(),U=Hy(),E=Wy(),D=Vy(),_=()=>{y(),k()},V=async()=>{try{const ie=await E.mutateAsync(s);w(ie.data),m(!0)}catch(ie){console.error("Failed to fetch close preview:",ie)}},O=async()=>{await R.mutateAsync(s),m(!1),w(null),_()},G=async()=>{await U.mutateAsync({id:s,reason:"Cancelled by admin"}),u(!1),t("/seeding")},W=async()=>{await D.mutateAsync({id:s,reason:"Manual reversal from dashboard"}),g(!1),_()};if(b)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading session..."})});if(!p)return r.jsxs("div",{className:"text-center py-12",children:[r.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Session Not Found"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"The requested seeding session could not be found."}),r.jsx(Ke,{to:"/seeding",className:"text-discord-blurple hover:underline",children:"Back to Seeding"})]});const ae=(()=>{let ie=0;return p.switch_reward_value&&p.switch_reward_unit&&(ie+=p.switch_reward_unit==="days"?p.switch_reward_value:p.switch_reward_value*30),p.playtime_reward_value&&p.playtime_reward_unit&&(ie+=p.playtime_reward_unit==="days"?p.playtime_reward_value:p.playtime_reward_value*30),p.completion_reward_value&&p.completion_reward_unit&&(ie+=p.completion_reward_unit==="days"?p.completion_reward_value:p.completion_reward_value*30),ie})(),P=p.status==="active";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Ke,{to:"/seeding",className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(Wh,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${f5(p.status)}`,children:p.status.toUpperCase()}),((L=p.metadata)==null?void 0:L.testMode)&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-yellow-500/20 text-yellow-500 border border-yellow-500/30",children:[r.jsx(Qh,{className:"w-3 h-3"}),"TEST"]}),r.jsx("h1",{className:"text-2xl font-bold text-white",children:p.target_server_name})]}),r.jsxs("p",{className:"text-gray-400 mt-1",children:["Started ",kf(p.started_at)," by ",p.started_by_name||"Unknown",p.closed_at&&` - Closed ${kf(p.closed_at)}`]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:_,disabled:v,className:"bg-discord-lighter hover:bg-discord-light text-white px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2",children:[r.jsx(dt,{className:`w-4 h-4 ${v?"animate-spin":""}`}),"Refresh"]}),P?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:V,disabled:E.isPending||R.isPending,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded text-sm font-medium transition-colors",children:E.isPending?"Loading...":R.isPending?"Completing...":"Complete Session"}),d?r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:G,disabled:U.isPending,className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded text-sm font-medium transition-colors",children:"Confirm Cancel"}),r.jsx("button",{onClick:()=>u(!1),className:"bg-gray-600 hover:bg-gray-500 text-white px-3 py-1.5 rounded text-sm font-medium transition-colors",children:r.jsx(ht,{className:"w-4 h-4"})})]}):r.jsx("button",{onClick:()=>u(!0),className:"bg-red-500/20 hover:bg-red-500/40 text-red-400 px-3 py-1.5 rounded text-sm font-medium transition-colors",children:"Cancel"})]}):p.rewards_granted_count>0&&r.jsxs("button",{onClick:()=>g(!0),className:"inline-flex items-center gap-1.5 bg-red-500/20 hover:bg-red-500/40 text-red-400 px-3 py-1.5 rounded text-sm font-medium transition-colors",children:[r.jsx(yn,{className:"w-4 h-4"}),"Reverse All Rewards"]})]})]}),r.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm mb-1",children:[r.jsx(cc,{className:"w-4 h-4"}),"Threshold"]}),r.jsx("div",{className:"text-2xl font-bold text-white",children:p.player_threshold})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm mb-1",children:[r.jsx(rt,{className:"w-4 h-4"}),"Tracked"]}),r.jsx("div",{className:"text-2xl font-bold text-white",children:p.participants_count})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm mb-1",children:[r.jsx(k2,{className:"w-4 h-4"}),"Broadcast Recipients"]}),r.jsx("div",{className:"text-2xl font-bold text-white",children:((q=p.stats)==null?void 0:q.broadcastRecipients)??"-"}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Players who saw the message"})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm mb-1",children:[r.jsx(rt,{className:"w-4 h-4"}),"Participants"]}),r.jsx("div",{className:"text-2xl font-bold text-white",children:((H=p.stats)==null?void 0:H.actualParticipants)??"-"}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Joined target server"})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm mb-1",children:[r.jsx(lc,{className:"w-4 h-4"}),"Rewarded"]}),r.jsx("div",{className:"text-2xl font-bold text-white",children:p.rewards_granted_count})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm mb-1",children:[r.jsx(Ht,{className:"w-4 h-4"}),"Max Reward"]}),r.jsxs("div",{className:"text-2xl font-bold text-white",children:[ae,"d"]})]}),P&&r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsx("div",{className:"flex items-center gap-2 text-gray-400 text-sm mb-1",children:"On Target Now"}),r.jsx("div",{className:"text-2xl font-bold text-green-400",children:((se=p.stats)==null?void 0:se.currentlyOnTarget)??"-"})]})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Reward Configuration"}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[p.switch_reward_value&&p.switch_reward_unit&&r.jsxs("div",{className:"bg-discord-lighter px-3 py-2 rounded",children:[r.jsx("div",{className:"text-xs text-gray-400",children:"Switch Reward"}),r.jsxs("div",{className:"text-white font-medium",children:["+",ad(p.switch_reward_value,p.switch_reward_unit)]})]}),p.playtime_reward_value&&p.playtime_reward_unit&&r.jsxs("div",{className:"bg-discord-lighter px-3 py-2 rounded",children:[r.jsxs("div",{className:"text-xs text-gray-400",children:["Playtime Reward (",p.playtime_threshold_minutes,"min)"]}),r.jsxs("div",{className:"text-white font-medium",children:["+",ad(p.playtime_reward_value,p.playtime_reward_unit)]})]}),p.completion_reward_value&&p.completion_reward_unit&&r.jsxs("div",{className:"bg-discord-lighter px-3 py-2 rounded",children:[r.jsx("div",{className:"text-xs text-gray-400",children:"Completion Reward"}),r.jsxs("div",{className:"text-white font-medium",children:["+",ad(p.completion_reward_value,p.completion_reward_unit)]})]})]})]}),r.jsxs("div",{className:"bg-discord-light rounded-lg overflow-hidden",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-discord-lighter flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Participants"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("select",{value:o,onChange:ie=>{c(ie.target.value),i(1)},className:"bg-discord-lighter text-white text-sm rounded px-3 py-1.5 border border-discord-lighter focus:outline-none focus:ring-2 focus:ring-discord-blurple",children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"switcher",children:"Switchers"}),r.jsx("option",{value:"seeder",children:"Seeders"})]}),r.jsxs("select",{value:a,onChange:ie=>{l(ie.target.value),i(1)},className:"bg-discord-lighter text-white text-sm rounded px-3 py-1.5 border border-discord-lighter focus:outline-none focus:ring-2 focus:ring-discord-blurple",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"on_source",children:"On Source"}),r.jsx("option",{value:"switched",children:"Switched"}),r.jsx("option",{value:"playtime_met",children:"Playtime Met"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"seeder",children:"Seeder"})]})]})]}),C?r.jsx("div",{className:"p-8 text-center",children:r.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading participants..."})}):S&&S.participants.length>0?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-discord-lighter text-left text-sm text-gray-400",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 font-medium",children:"Player"}),r.jsx("th",{className:"px-4 py-2 font-medium",children:"Type"}),r.jsx("th",{className:"px-4 py-2 font-medium",children:"Status"}),r.jsx("th",{className:"px-4 py-2 font-medium",children:"Online"}),r.jsx("th",{className:"px-4 py-2 font-medium",children:"Playtime"}),r.jsx("th",{className:"px-4 py-2 font-medium",children:"Rewards"}),r.jsx("th",{className:"px-4 py-2 font-medium",children:"Total"}),r.jsx("th",{className:"px-4 py-2 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:S.participants.map(ie=>r.jsx(y5,{participant:ie,isActiveSession:P,sessionId:s,onRefresh:_},ie.id))})]})}),S.pages>1&&r.jsxs("div",{className:"px-4 py-3 border-t border-discord-lighter flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",(n-1)*25+1," - ",Math.min(n*25,S.total)," of ",S.total]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>i(ie=>Math.max(1,ie-1)),disabled:n===1,className:"p-1 rounded hover:bg-discord-lighter disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(oc,{className:"w-5 h-5"})}),r.jsxs("span",{className:"text-sm text-gray-400",children:["Page ",n," of ",S.pages]}),r.jsx("button",{onClick:()=>i(ie=>Math.min(S.pages,ie+1)),disabled:n===S.pages,className:"p-1 rounded hover:bg-discord-lighter disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(ji,{className:"w-5 h-5"})})]})]})]}):r.jsx("div",{className:"p-8 text-center text-gray-400",children:"No participants yet."})]}),h&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-dark rounded-lg p-6 max-w-md w-full mx-4 border border-discord-lighter",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-full",children:r.jsx(Ge,{className:"w-6 h-6 text-yellow-500"})}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Complete Session?"})]}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsx("p",{className:"text-gray-300",children:"This will finalize the seeding session and grant completion rewards."}),x&&r.jsxs("div",{className:"bg-discord-lighter rounded p-3 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Participants to reward:"}),r.jsx("span",{className:"text-white font-medium",children:x.participantsToReward})]}),x.sessionConfig.completionReward&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Completion reward:"}),r.jsx("span",{className:"text-white font-medium",children:x.sessionConfig.completionReward})]}),r.jsxs("div",{className:"flex justify-between text-sm border-t border-discord-light pt-2",children:[r.jsx("span",{className:"text-gray-400",children:"Total whitelist days:"}),r.jsx("span",{className:"text-green-400 font-semibold",children:x.totalWhitelistDaysToGrant.toFixed(1)})]})]}),!x.sessionConfig.completionReward&&r.jsx("p",{className:"text-gray-400 text-sm italic",children:"No completion reward configured"})]}),r.jsx("p",{className:"text-yellow-400 text-sm",children:'This action can be reversed using the "Reverse Rewards" option after completion.'})]}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx("button",{onClick:()=>{m(!1),w(null)},className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded text-sm font-medium transition-colors",children:"Cancel"}),r.jsx("button",{onClick:O,disabled:R.isPending,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded text-sm font-medium transition-colors",children:R.isPending?"Completing...":"Confirm Complete"})]})]})}),f&&p&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-dark rounded-lg p-6 max-w-md w-full mx-4 border border-discord-lighter",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 bg-red-500/20 rounded-full",children:r.jsx(Ge,{className:"w-6 h-6 text-red-500"})}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Reverse All Rewards?"})]}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsx("p",{className:"text-gray-300",children:"This will revoke all whitelist rewards granted during this seeding session."}),r.jsxs("div",{className:"bg-discord-lighter rounded p-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Session:"}),r.jsx("span",{className:"text-white font-medium",children:p.target_server_name})]}),r.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[r.jsx("span",{className:"text-gray-400",children:"Rewards to revoke:"}),r.jsx("span",{className:"text-red-400 font-medium",children:p.rewards_granted_count})]})]}),r.jsx("p",{className:"text-red-400 text-sm",children:"This action cannot be undone. Affected players will lose their whitelist time."})]}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx("button",{onClick:()=>g(!1),className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded text-sm font-medium transition-colors",children:"Cancel"}),r.jsx("button",{onClick:W,disabled:D.isPending,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded text-sm font-medium transition-colors",children:D.isPending?"Reversing...":"Confirm Reverse"})]})]})})]})}function b5(){var x,w;const[e,t]=j.useState("points"),[s,n]=j.useState("desc"),[i,a]=j.useState("week"),{hasPermission:l}=Q(),o=l("MANAGE_DUTY_SETTINGS"),{data:c,isLoading:d,refetch:u,isFetching:h}=EC(e,s,i),m=p=>{p===e?n(b=>b==="desc"?"asc":"desc"):(t(p),n("desc"))},f=()=>{u()},g=(x=c==null?void 0:c.data)!=null&&x.entries?{period:c.data.period==="week"?"week":"month",dutyType:"both",totalUsers:c.data.entries.length,totalTime:c.data.entries.reduce((p,b)=>p+b.totalDutyMinutes*60*1e3,0),totalSessions:c.data.entries.reduce((p,b)=>p+b.totalSessions,0),averageTimePerUser:c.data.entries.length>0?c.data.entries.reduce((p,b)=>p+b.totalDutyMinutes*60*1e3,0)/c.data.entries.length:0,averageSessionsPerUser:c.data.entries.length>0?c.data.entries.reduce((p,b)=>p+b.totalSessions,0)/c.data.entries.length:0,currentlyOnDuty:c.data.currentlyOnDuty??0,topPerformers:[]}:void 0;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Duty Stats"}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Staff activity including off-duty contributions"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 bg-discord-lighter rounded-md px-3 py-2",children:[r.jsx(Vh,{className:"w-4 h-4 text-gray-400"}),r.jsx("select",{value:i,onChange:p=>a(p.target.value),className:"bg-transparent text-white text-sm font-medium focus:outline-none cursor-pointer",children:Object.keys(vf).map(p=>r.jsx("option",{value:p,className:"bg-discord-dark",children:vf[p]},p))})]}),o&&r.jsxs(Ke,{to:"/admin/duty-settings",className:"bg-discord-lighter hover:bg-discord-light text-white px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2",children:[r.jsx(vs,{className:"w-4 h-4"}),"Settings"]}),r.jsxs("button",{onClick:f,disabled:h,className:"bg-discord-lighter hover:bg-discord-light text-white px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2",children:[r.jsx(dt,{className:`w-4 h-4 ${h?"animate-spin":""}`}),"Refresh"]})]})]}),r.jsx(CC,{stats:g,isLoading:d}),r.jsx(TC,{entries:((w=c==null?void 0:c.data)==null?void 0:w.entries)||[],isLoading:d,sortBy:e,sortOrder:s,onSortChange:m,hideHeader:!0})]})}function w5(){const{user:e,hasPermission:t}=Q(),s=t("VIEW_DUTY");return J({queryKey:["voiceChannels"],queryFn:()=>ac.getVoiceChannels(),enabled:!!e&&s,staleTime:1e3*60*5})}function j5(){const{user:e,hasPermission:t}=Q(),s=t("MANAGE_DUTY_SETTINGS");return J({queryKey:["dutySettings"],queryFn:()=>ac.get(),enabled:!!e&&s,staleTime:1e3*60*5})}function N5(){const e=X();return ee({mutationFn:t=>ac.update(t),onSuccess:()=>{e.invalidateQueries({queryKey:["dutySettings"]})}})}function k5(e=50){const{user:t,hasPermission:s}=Q(),n=s("MANAGE_DUTY_SETTINGS");return J({queryKey:["dutySettings","audit",e],queryFn:()=>ac.getAuditLog(e),enabled:!!t&&n,staleTime:1e3*60})}function Qy({value:e,onChange:t,disabled:s,min:n,max:i,id:a,name:l,className:o=""}){const[c,d]=j.useState(String(e)),[u,h]=j.useState(!1);j.useEffect(()=>{d(String(e)),h(!1)},[e]);const m=w=>{if(w===""||w==="-")return{valid:!1,parsed:0};const p=parseFloat(w);return isNaN(p)?{valid:!1,parsed:0}:n!==void 0&&p<n?{valid:!1,parsed:n}:i!==void 0&&p>i?{valid:!1,parsed:i}:{valid:!0,parsed:p}},f=w=>{const p=w.target.value;d(p),u&&h(!1)},g=()=>{const{valid:w,parsed:p}=m(c);w?(t(p),h(!1)):h(!0)},x=w=>{if(w.key==="Enter"){const{valid:p,parsed:b}=m(c);p?(t(b),h(!1)):h(!0)}};return r.jsx("input",{type:"number",step:"any",min:n,max:i,id:a,name:l,value:c,onChange:f,onBlur:g,onKeyDown:x,disabled:s,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,"data-form-type":"other","data-lpignore":"true","data-1p-ignore":"true",className:`bg-discord-darker border rounded-md px-3 py-2 text-white text-right focus:outline-none disabled:opacity-50 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none ${u?"border-red-500 focus:border-red-500":"border-discord-lighter focus:border-discord-blurple"} ${o}`})}const S5={auto_timeout_enabled:"Automatically end duty sessions after a period of inactivity to ensure accurate tracking.",auto_timeout_hours:"Maximum duration (in hours) a duty session can last before automatic timeout. Helps prevent forgotten sessions.",auto_timeout_warning_minutes:"Send a warning message this many minutes before the session times out.",auto_timeout_extend_on_activity:"Reset the timeout timer when staff activity is detected (voice, tickets, etc.).",track_voice_presence:"Track time spent in voice channels while on duty.",track_ticket_responses:"Track responses to support tickets while on duty.",track_admin_cam:"Track admin camera usage on game servers (requires SquadJS).",track_ingame_chat:"Track in-game admin chat messages (requires SquadJS).",points_base_per_minute:"Base points earned per minute while on duty, regardless of activity.",points_voice_per_minute:"Additional points earned per minute while in a tracked voice channel.",points_ticket_response:"Points awarded for each ticket response.",points_admin_cam:"Points awarded for using admin camera on the game server.",points_ingame_chat:"Points awarded for each in-game admin chat message.",points_server_per_minute:"Points per minute while connected to a tracked game server.",on_duty_multiplier:"Multiplier applied to all point earnings while on duty (e.g., 1.5 = 50% bonus).",weekly_points_target:"Target number of points to earn per week. Used in the activity calculator.",coverage_low_threshold:'Minimum number of admins required before coverage is considered "low".',coverage_snapshot_interval_minutes:"How often (in minutes) to record a coverage snapshot for analytics.",tracked_voice_channels:"Limit voice tracking to these channels only. Leave empty to track all voice channels.",excluded_voice_channels:"Never track voice activity in these channels (e.g., AFK channel).",ticket_channel_pattern:"Pattern to identify ticket channels (supports wildcards like ticket-*)."},C5={timeout:Ht,tracking:_a,points:lc,coverage:rt,channels:d2};function _5(e,t,s){try{const n=e?JSON.parse(e):[],i=JSON.parse(t),a=i.filter(c=>!n.includes(c)),l=n.filter(c=>!i.includes(c)),o=c=>c.map(d=>{const u=s.find(h=>h.id===d);return(u==null?void 0:u.name)||`Unknown (${d.slice(-6)})`});return{added:o(a),removed:o(l)}}catch{return null}}function E5(e){return e==="excluded_voice_channels"||e==="tracked_voice_channels"}function ld({title:e,description:t,icon:s,children:n}){return r.jsxs("div",{className:"bg-discord-light rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(s,{className:"w-5 h-5 text-discord-blurple"}),r.jsx("h2",{className:"text-lg font-semibold text-white",children:e})]}),t&&r.jsx("p",{className:"text-sm text-gray-400 mb-4",children:t}),r.jsx("div",{className:"space-y-4",children:n})]})}function P5({configKey:e,item:t,value:s,onChange:n,disabled:i,voiceChannels:a}){const l=t.requiresSquadJS,o=S5[e];if(t.type==="boolean")return r.jsxs("label",{className:`flex items-start gap-3 ${i||l?"opacity-50 cursor-not-allowed":"cursor-pointer hover:bg-discord-lighter/30"} rounded p-2 -mx-2`,children:[r.jsx("button",{type:"button",onClick:c=>{c.preventDefault(),!i&&!l&&n(e,!s)},disabled:i||l,className:"mt-0.5 flex-shrink-0",children:s?r.jsx(Va,{className:"w-5 h-5 text-discord-blurple"}):r.jsx(Ga,{className:"w-5 h-5 text-gray-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("span",{className:"text-white text-sm font-medium flex items-center",children:[t.label,o&&r.jsx(Tr,{text:o})]}),l&&r.jsxs("p",{className:"text-yellow-500/70 text-xs mt-1 flex items-center gap-1",children:[r.jsx(Er,{className:"w-3 h-3"}),"Coming soon"]})]})]});if(t.type==="number"){const c=e==="on_duty_multiplier"?.01:void 0;return r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center",children:[t.label,o&&r.jsx(Tr,{text:o})]}),l&&r.jsxs("p",{className:"text-yellow-500/70 text-xs mt-0.5 flex items-center gap-1",children:[r.jsx(Er,{className:"w-3 h-3"}),"Coming soon"]})]}),r.jsx(Qy,{id:`duty-config-${e}`,name:`duty-config-${e}`,value:typeof s=="number"?s:0,onChange:d=>n(e,d),min:c,disabled:i||l,className:"w-24"})]})}return t.type==="string"?r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center",children:[t.label,o&&r.jsx(Tr,{text:o})]})}),r.jsx("input",{type:"search",id:`duty-config-${e}`,name:`duty-config-${e}`,value:typeof s=="string"?s:"",onChange:c=>n(e,c.target.value),disabled:i,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,"data-form-type":"other","data-lpignore":"true","data-1p-ignore":"true",className:"w-48 bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-white focus:outline-none focus:border-discord-blurple disabled:opacity-50"})]}):t.type==="json"&&Array.isArray(s)?(e==="excluded_voice_channels"||e==="tracked_voice_channels")&&a?r.jsx(MC,{channels:a,selectedIds:s,onChange:c=>n(e,c),disabled:i,label:t.label,description:e==="excluded_voice_channels"?"Voice activity in these channels will not be tracked (e.g., AFK channel)":"Only track voice activity in these channels (leave empty to track all)"}):r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:t.label}),r.jsx("div",{className:"text-sm text-gray-400 bg-discord-darker rounded-md px-3 py-2",children:s.length===0?r.jsx("span",{className:"text-gray-500 italic",children:"No items configured"}):r.jsxs("span",{children:[s.length," item(s) configured"]})})]}):null}function R5(){var p,b,y,v,S,C,k,R,U,E;const{hasPermission:e}=Q(),t=e("MANAGE_DUTY_SETTINGS"),{data:s,isLoading:n,error:i}=j5(),{data:a}=w5(),l=N5(),{data:o}=k5(10),c=((p=a==null?void 0:a.data)==null?void 0:p.channels)||[],[d,u]=j.useState(null);j.useEffect(()=>{var D;(D=s==null?void 0:s.data)!=null&&D.config&&!d&&u(s.data.config)},[s,d]);const h=j.useMemo(()=>{var D,_,V;if(!d||!((D=s==null?void 0:s.data)!=null&&D.config))return!1;for(const O of Object.keys(d)){const G=(_=d[O])==null?void 0:_.value,W=(V=s.data.config[O])==null?void 0:V.value;if(JSON.stringify(G)!==JSON.stringify(W))return!0}return!1},[d,s]),m=j.useMemo(()=>{var _,V,O;if(!d||!((_=s==null?void 0:s.data)!=null&&_.config))return{};const D={};for(const G of Object.keys(d)){const W=(V=d[G])==null?void 0:V.value,ae=(O=s.data.config[G])==null?void 0:O.value;JSON.stringify(W)!==JSON.stringify(ae)&&(D[G]=W)}return D},[d,s]),f=async()=>{if(Object.keys(m).length!==0)try{await l.mutateAsync(m)}catch{}},g=(D,_)=>{d&&u({...d,[D]:{...d[D],value:_}})},x=d||((b=s==null?void 0:s.data)==null?void 0:b.config),w=(y=s==null?void 0:s.data)==null?void 0:y.categories;return i?r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-red-400 mb-2",children:"Error Loading Settings"}),r.jsx("p",{className:"text-gray-400",children:i.message||"Failed to load duty settings. Please try again."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[r.jsx(vs,{className:"w-7 h-7 text-discord-blurple"}),"Duty Settings"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Configure auto-timeout, activity tracking, and point values"})]}),t&&r.jsxs("button",{onClick:f,disabled:!h||l.isPending,className:"flex items-center gap-2 bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:[r.jsx(Gh,{className:"w-4 h-4"}),l.isPending?"Saving...":"Save Changes"]})]}),!t&&r.jsxs("div",{className:"bg-discord-blurple/20 border border-discord-blurple/30 rounded-lg p-4 flex items-center gap-3",children:[r.jsx(Er,{className:"w-5 h-5 text-discord-blurple"}),r.jsx("p",{className:"text-sm text-gray-300",children:"You can view duty settings for transparency, but only super admins can modify them."})]}),t&&h&&r.jsxs("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded-lg p-4 flex items-center gap-3",children:[r.jsx(Er,{className:"w-5 h-5 text-yellow-500"}),r.jsx("p",{className:"text-sm text-yellow-200",children:'You have unsaved changes. Click "Save Changes" to apply them.'})]}),l.isSuccess&&r.jsx("div",{className:"bg-green-500/20 border border-green-500/30 rounded-lg p-4",children:r.jsx("p",{className:"text-sm text-green-400",children:"Settings saved successfully!"})}),l.error&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-4",children:r.jsx("p",{className:"text-sm text-red-400",children:l.error.message||"Failed to save settings"})}),n?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-discord-blurple"})}):x&&w?r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Object.entries(w).map(([D,_])=>{const V=C5[D]||vs,O=Object.entries(_.items);return O.length===0?null:r.jsx(ld,{title:_.label,description:_.description,icon:V,children:O.map(([G,W])=>{var ae;return r.jsx(P5,{configKey:G,item:W,value:((ae=x[G])==null?void 0:ae.value)??W.value,onChange:g,disabled:!t,voiceChannels:c},G)})},D)}),r.jsx("div",{className:"lg:col-span-2",children:r.jsx(ld,{title:"Activity Target Calculator",icon:cc,description:"Plan your weekly activity to meet your points goal",children:r.jsx(AC,{weeklyTarget:typeof((v=x==null?void 0:x.weekly_points_target)==null?void 0:v.value)=="number"?x.weekly_points_target.value:1e3,pointValues:{base_per_minute:typeof((S=x==null?void 0:x.points_base_per_minute)==null?void 0:S.value)=="number"?x.points_base_per_minute.value:1,voice_per_minute:typeof((C=x==null?void 0:x.points_voice_per_minute)==null?void 0:C.value)=="number"?x.points_voice_per_minute.value:.5,ticket_response:typeof((k=x==null?void 0:x.points_ticket_response)==null?void 0:k.value)=="number"?x.points_ticket_response.value:5,admin_cam:typeof((R=x==null?void 0:x.points_admin_cam)==null?void 0:R.value)=="number"?x.points_admin_cam.value:3,ingame_chat:typeof((U=x==null?void 0:x.points_ingame_chat)==null?void 0:U.value)=="number"?x.points_ingame_chat.value:1,on_duty_multiplier:typeof((E=x==null?void 0:x.on_duty_multiplier)==null?void 0:E.value)=="number"?x.on_duty_multiplier.value:1}})})}),r.jsx("div",{className:"lg:col-span-2",children:r.jsx(ld,{title:"Recent Changes",icon:Qa,description:"Audit log of recent settings modifications",children:o!=null&&o.data&&o.data.length>0?r.jsx("div",{className:"space-y-2",children:o.data.map(D=>r.jsxs("div",{className:"flex items-start gap-3 text-sm bg-discord-darker rounded-md p-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("span",{className:"text-gray-300",children:[r.jsx("span",{className:"text-white font-medium",children:D.changedByName||"Unknown"}),D.changeType==="enable"||D.changeType==="disable"?r.jsxs(r.Fragment,{children:[" ",D.changeType,"d "]}):D.changeType==="create"?r.jsx(r.Fragment,{children:" set "}):r.jsx(r.Fragment,{children:" changed "}),r.jsx("code",{className:"text-discord-blurple bg-discord-blurple/20 px-1 rounded",children:D.configKey})]}),(D.changeType==="update"||D.changeType==="create")&&r.jsx("div",{className:"text-gray-500 text-xs mt-1",children:E5(D.configKey)?(()=>{const _=_5(D.oldValue,D.newValue,c);return _?r.jsxs("div",{className:"space-y-0.5",children:[_.added.length>0&&r.jsxs("div",{className:"text-green-400",children:["Added: ",_.added.join(", ")]}),_.removed.length>0&&r.jsxs("div",{className:"text-red-400",children:["Removed: ",_.removed.join(", ")]}),_.added.length===0&&_.removed.length===0&&r.jsx("span",{className:"text-gray-500",children:"No changes"})]}):r.jsxs(r.Fragment,{children:[D.oldValue&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"line-through",children:D.oldValue}),"  "]}),r.jsx("span",{className:"text-green-400",children:D.newValue})]})})():r.jsxs(r.Fragment,{children:[D.oldValue&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"line-through",children:D.oldValue}),"  "]}),r.jsx("span",{className:"text-green-400",children:D.newValue})]})})]}),r.jsx("span",{className:"text-gray-500 text-xs",children:new Date(D.createdAt).toLocaleString()})]},D.id))}):r.jsx("p",{className:"text-gray-500 text-sm",children:"No recent changes recorded."})})})]}):null]})}function T5(){const{user:e,hasPermission:t}=Q(),s=t("MANAGE_INFO_BUTTONS");return J({queryKey:["info-buttons"],queryFn:()=>wi.list(),enabled:!!e&&s,staleTime:1e3*60})}function M5(){const e=X();return ee({mutationFn:t=>wi.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:["info-buttons"]})}})}function Gy(){const e=X();return ee({mutationFn:({id:t,request:s})=>wi.update(t,s),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:["info-buttons"]}),e.invalidateQueries({queryKey:["info-buttons","detail",s.id]})}})}function A5(){const e=X();return ee({mutationFn:t=>wi.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["info-buttons"]})}})}function D5(){const e=X();return ee({mutationFn:t=>wi.reorder(t),onSuccess:()=>{e.invalidateQueries({queryKey:["info-buttons"]})}})}function L5(){return ee({mutationFn:(e=!1)=>wi.reloadPost(e)})}const O5=[{name:"Blurple",value:5793266},{name:"Green",value:5763719},{name:"Yellow",value:16705372},{name:"Fuchsia",value:15418782},{name:"Red",value:15548997},{name:"White",value:16777215},{name:"Teal",value:2851506}];function Sf(e,t){return e&&e.replace(/\{#(\w+)\}/g,(s,n)=>t[n]?`#${n}`:s)}function I5({embed:e,channels:t}){const s=`#${e.color.toString(16).padStart(6,"0")}`,n=j.useMemo(()=>Sf(e.description,t),[e.description,t]),i=j.useMemo(()=>{var o;return((o=e.fields)==null?void 0:o.map(c=>({...c,value:Sf(c.value,t)})))||[]},[e.fields,t]),a=[];let l=[];return i.forEach(o=>{o.inline&&l.length<3?l.push(o):(l.length>0&&(a.push(l),l=[]),o.inline?l.push(o):a.push([o]))}),l.length>0&&a.push(l),r.jsx("div",{className:"bg-[#2f3136] rounded-md overflow-hidden",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"w-1 flex-shrink-0",style:{backgroundColor:s}}),r.jsxs("div",{className:"p-3 flex-1 min-w-0",children:[e.title&&r.jsx("div",{className:"font-semibold text-white mb-1",children:e.title}),n&&r.jsx("div",{className:"text-sm text-gray-300 whitespace-pre-wrap mb-2",children:n.split(/(#\w+)/).map((o,c)=>o.startsWith("#")?r.jsx("span",{className:"text-[#00AFF4] bg-[#00AFF4]/10 rounded px-0.5",children:o},c):o)}),a.length>0&&r.jsx("div",{className:"space-y-2 mt-2",children:a.map((o,c)=>r.jsx("div",{className:`grid gap-2 ${o.length===1?"grid-cols-1":o.length===2?"grid-cols-2":"grid-cols-3"}`,children:o.map((d,u)=>r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-xs font-semibold text-white mb-0.5",children:d.name||"Field Name"}),r.jsx("div",{className:"text-xs text-gray-300 whitespace-pre-wrap",children:d.value.split(/(#\w+)/).map((h,m)=>h.startsWith("#")?r.jsx("span",{className:"text-[#00AFF4] bg-[#00AFF4]/10 rounded px-0.5",children:h},m):h)||"Field value"})]},u))},c))}),r.jsx("div",{className:"text-xs text-gray-500 mt-2 pt-2 border-t border-gray-700",children:"Roster Control System"})]})]})})}function F5({button:e,onClose:t}){var V;const s=M5(),n=Gy(),i=!!e,[a,l]=j.useState(""),[o,c]=j.useState(""),[d,u]=j.useState(""),[h,m]=j.useState(!0),[f,g]=j.useState({color:2851506,title:"",description:"",fields:[]}),[x,w]=j.useState({}),[p,b]=j.useState(""),[y,v]=j.useState("");j.useEffect(()=>{e?(l(e.button_id),c(e.button_label),u(e.button_emoji||""),m(e.enabled),g(e.embed),w(e.channels||{})):(l("info_"),c(""),u(""),m(!0),g({color:2851506,title:"",description:"",fields:[]}),w({}))},[e]);const S=()=>{g(O=>({...O,fields:[...O.fields||[],{name:"",value:"",inline:!1}]}))},C=O=>{g(G=>{var W;return{...G,fields:((W=G.fields)==null?void 0:W.filter((ae,P)=>P!==O))||[]}})},k=(O,G)=>{g(W=>{var ae;return{...W,fields:((ae=W.fields)==null?void 0:ae.map((P,L)=>L===O?{...P,...G}:P))||[]}})},R=()=>{p&&y&&(w(O=>({...O,[p]:y})),b(""),v(""))},U=O=>{w(G=>{const{[O]:W,...ae}=G;return ae})},E=async O=>{O.preventDefault();try{i?await n.mutateAsync({id:e.id,request:{button_label:o,button_emoji:d||null,channels:Object.keys(x).length>0?x:null,embed:f,enabled:h}}):await s.mutateAsync({button_id:a,button_label:o,button_emoji:d||null,channels:Object.keys(x).length>0?x:null,embed:f,enabled:h}),t()}catch{}},D=i?n:s,_=a.startsWith("info_")&&a.length>5&&o.trim()!==""&&f.title.trim()!==""&&f.description.trim()!=="";return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-4xl mx-4 max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-discord-lighter",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:i?"Edit Info Button":"Create Info Button"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(ht,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"flex-1 overflow-hidden flex",children:[r.jsxs("form",{onSubmit:E,className:"flex-1 overflow-y-auto p-4 space-y-4 border-r border-discord-lighter",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Button ID"}),r.jsx("input",{type:"text",value:a,onChange:O=>l(O.target.value),disabled:i,placeholder:"info_my_button",className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple disabled:opacity-50"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Unique identifier (must start with "info_")'})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Button Label"}),r.jsx("input",{type:"text",value:o,onChange:O=>c(O.target.value),placeholder:"My Button",className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Text shown on the button"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Emoji (optional)"}),r.jsx("input",{type:"text",value:d,onChange:O=>u(O.target.value),placeholder:"e.g. or :emoji:",className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Icon shown before the label"})]}),r.jsx("div",{className:"flex items-center",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:h,onChange:O=>m(O.target.checked),className:"w-4 h-4 bg-discord-darker border-discord-lighter rounded focus:ring-discord-blurple"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Enabled"})]})})]}),r.jsxs("div",{className:"border-t border-discord-lighter pt-4",children:[r.jsx("h4",{className:"text-md font-medium text-white mb-1",children:"Embed Content"}),r.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"This is what users see when they click the button"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title"}),r.jsx("input",{type:"text",value:f.title,onChange:O=>g(G=>({...G,title:O.target.value})),placeholder:"Embed title",className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),r.jsx("textarea",{value:f.description,onChange:O=>g(G=>({...G,description:O.target.value})),placeholder:"Main content of the embed. Supports basic markdown like **bold** and *italic*.",rows:4,className:"w-full bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Accent Color"}),r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"The colored bar on the left side of the embed"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[O5.map(O=>r.jsx("button",{type:"button",onClick:()=>g(G=>({...G,color:O.value})),className:`w-8 h-8 rounded-md border-2 transition-colors ${f.color===O.value?"border-white":"border-transparent hover:border-gray-500"}`,style:{backgroundColor:`#${O.value.toString(16).padStart(6,"0")}`},title:O.name},O.value)),r.jsx("input",{type:"color",value:`#${f.color.toString(16).padStart(6,"0")}`,onChange:O=>g(G=>({...G,color:parseInt(O.target.value.slice(1),16)})),className:"w-8 h-8 rounded-md border-0 cursor-pointer",title:"Custom color"})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Fields"}),r.jsxs("button",{type:"button",onClick:S,className:"flex items-center gap-1 text-xs text-discord-blurple hover:text-discord-blurple/80",children:[r.jsx(Tt,{className:"w-3 h-3"}),"Add Field"]})]}),r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:'Additional sections with a title and content. "Inline" puts fields side-by-side.'}),r.jsxs("div",{className:"space-y-2",children:[(V=f.fields)==null?void 0:V.map((O,G)=>r.jsxs("div",{className:"bg-discord-darker rounded-md p-3 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Y0,{className:"w-4 h-4 text-gray-500"}),r.jsx("input",{type:"text",value:O.name,onChange:W=>k(G,{name:W.target.value}),placeholder:"Field title",className:"flex-1 bg-discord-light border border-discord-lighter rounded-md px-2 py-1 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple"}),r.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-400",children:[r.jsx("input",{type:"checkbox",checked:O.inline,onChange:W=>k(G,{inline:W.target.checked}),className:"w-3 h-3"}),"Inline"]}),r.jsx("button",{type:"button",onClick:()=>C(G),className:"text-red-400 hover:text-red-300",children:r.jsx(zs,{className:"w-4 h-4"})})]}),r.jsx("textarea",{value:O.value,onChange:W=>k(G,{value:W.target.value}),placeholder:"Field content",rows:2,className:"w-full bg-discord-light border border-discord-lighter rounded-md px-2 py-1 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple resize-none"})]},G)),(!f.fields||f.fields.length===0)&&r.jsx("p",{className:"text-xs text-gray-500 italic",children:"No fields added yet"})]})]})]})]}),r.jsxs("div",{className:"border-t border-discord-lighter pt-4",children:[r.jsx("h4",{className:"text-md font-medium text-white mb-1",children:"Channel Placeholders"}),r.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:["Create shortcuts like ",r.jsx("code",{className:"bg-discord-darker px-1 rounded",children:"{#support}"})," that become clickable channel links in Discord. Use them in the description or field content above."]}),r.jsxs("div",{className:"space-y-2",children:[Object.entries(x).map(([O,G])=>r.jsxs("div",{className:"flex items-center gap-2 bg-discord-darker rounded-md px-3 py-2",children:[r.jsx("code",{className:"text-discord-blurple",children:"{#"+O+"}"}),r.jsx("span",{className:"text-gray-500",children:""}),r.jsx("span",{className:"text-gray-300 flex-1 font-mono text-sm",children:G}),r.jsx("button",{type:"button",onClick:()=>U(O),className:"text-red-400 hover:text-red-300",children:r.jsx(zs,{className:"w-4 h-4"})})]},O)),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"text",value:p,onChange:O=>b(O.target.value),placeholder:"Key (e.g. support)",className:"flex-1 bg-discord-darker border border-discord-lighter rounded-md px-2 py-1 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple"}),r.jsx("input",{type:"text",value:y,onChange:O=>v(O.target.value),placeholder:"Channel ID",className:"flex-1 bg-discord-darker border border-discord-lighter rounded-md px-2 py-1 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-discord-blurple"}),r.jsx("button",{type:"button",onClick:R,disabled:!p||!y,className:"text-discord-blurple hover:text-discord-blurple/80 disabled:opacity-50",children:r.jsx(Tt,{className:"w-5 h-5"})})]})]})]}),D.error&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-md p-3",children:r.jsx("p",{className:"text-sm text-red-400",children:D.error.message||"Failed to save button"})})]}),r.jsxs("div",{className:"w-80 flex-shrink-0 p-4 overflow-y-auto bg-discord-darker",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Kh,{className:"w-4 h-4 text-gray-400"}),r.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Live Preview"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Button appearance:"}),r.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#4f545c] hover:bg-[#5d6269] px-4 py-2 rounded text-sm text-white",children:[d&&r.jsx("span",{children:d}),r.jsx("span",{children:o||"Button Label"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Embed shown when clicked:"}),r.jsx(I5,{embed:f,channels:x})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t border-discord-lighter",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Cancel"}),r.jsx("button",{onClick:E,disabled:D.isPending||!_,className:"flex items-center gap-2 bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:D.isPending?"Saving...":r.jsxs(r.Fragment,{children:[r.jsx(fs,{className:"w-4 h-4"}),i?"Save Changes":"Create Button"]})})]})]})})}function U5(){const e=X(),{hasPermission:t}=Q(),s=t("MANAGE_INFO_BUTTONS"),{data:n,isLoading:i,isRefetching:a,error:l}=T5(),o=A5(),c=Gy(),d=D5(),u=L5(),[h,m]=j.useState(null),[f,g]=j.useState(!1),[x,w]=j.useState(null),[p,b]=j.useState(null),y=()=>{e.invalidateQueries({queryKey:["info-buttons"]})},v=async _=>{try{await c.mutateAsync({id:_.id,request:{enabled:!_.enabled}})}catch{}},S=async _=>{try{await o.mutateAsync(_),w(null)}catch{}},C=async(_=!1)=>{try{await u.mutateAsync(_)}catch{}},k=_=>{b(_)},R=(_,V)=>{_.preventDefault()},U=async(_,V)=>{if(_.preventDefault(),p===null||p===V||!(n!=null&&n.buttons))return;const O=[...n.buttons],[G]=O.splice(p,1);O.splice(V,0,G);const W=O.map((ae,P)=>({id:ae.id,display_order:P+1}));b(null);try{await d.mutateAsync(W)}catch{}},E=()=>{b(null)},D=(n==null?void 0:n.buttons)||[];return l?r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-red-400 mb-2",children:"Error Loading Info Buttons"}),r.jsx("p",{className:"text-gray-400",children:l.message||"Failed to load info buttons. Please try again."}),r.jsx("button",{onClick:y,className:"mt-4 bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium",children:"Retry"})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[r.jsx(Ea,{className:"w-7 h-7 text-discord-blurple"}),"Info Buttons"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Manage the info buttons on the whitelist post"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>C(!1),disabled:u.isPending,className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50",title:"Update the whitelist post in Discord with current buttons",children:[r.jsx(aa,{className:`w-4 h-4 ${u.isPending?"animate-pulse":""}`}),u.isPending?"Updating...":"Update Post"]}),r.jsxs("button",{onClick:()=>C(!0),disabled:u.isPending,className:"flex items-center gap-2 bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50",title:"Delete and recreate the whitelist post (use if post is missing or broken)",children:[r.jsx(S2,{className:`w-4 h-4 ${u.isPending?"animate-spin":""}`}),"Recreate"]}),r.jsxs("button",{onClick:y,disabled:a,className:"flex items-center gap-2 bg-discord-lighter hover:bg-discord-light text-gray-300 px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:[r.jsx(dt,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Refresh"]}),s&&r.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:[r.jsx(Tt,{className:"w-4 h-4"}),"Add Button"]})]})]}),u.isSuccess&&r.jsx("div",{className:"bg-green-500/20 border border-green-500/30 rounded-lg p-4",children:r.jsx("p",{className:"text-sm text-green-400",children:"Whitelist post updated successfully!"})}),u.error&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-4",children:r.jsx("p",{className:"text-sm text-red-400",children:u.error.message||"Failed to update post"})}),i?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-discord-blurple"})}):D.length===0?r.jsxs("div",{className:"bg-discord-light rounded-lg p-8 text-center",children:[r.jsx(Ea,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-400",children:"No info buttons configured yet."}),s&&r.jsx("button",{onClick:()=>g(!0),className:"mt-4 bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium",children:"Create First Button"})]}):r.jsx("div",{className:"bg-discord-light rounded-lg overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-discord-lighter",children:[r.jsx("th",{className:"text-left p-4 text-gray-400 font-medium w-8"}),r.jsx("th",{className:"text-left p-4 text-gray-400 font-medium",children:"Button"}),r.jsx("th",{className:"text-left p-4 text-gray-400 font-medium",children:"ID"}),r.jsx("th",{className:"text-left p-4 text-gray-400 font-medium",children:"Embed Title"}),r.jsx("th",{className:"text-center p-4 text-gray-400 font-medium",children:"Status"}),r.jsx("th",{className:"text-right p-4 text-gray-400 font-medium",children:"Actions"})]})}),r.jsx("tbody",{children:D.map((_,V)=>r.jsxs("tr",{draggable:s,onDragStart:()=>k(V),onDragOver:O=>R(O,V),onDrop:O=>U(O,V),onDragEnd:E,className:`border-b border-discord-lighter last:border-0 hover:bg-discord-lighter/50 transition-colors ${p===V?"opacity-50":""}`,children:[r.jsx("td",{className:"p-4",children:s&&r.jsx(Y0,{className:"w-4 h-4 text-gray-500 cursor-grab"})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[_.button_emoji&&r.jsx("span",{className:"text-lg",children:_.button_emoji}),r.jsx("span",{className:"text-white font-medium",children:_.button_label})]})}),r.jsx("td",{className:"p-4",children:r.jsx("code",{className:"text-sm text-gray-400 bg-discord-darker px-2 py-1 rounded",children:_.button_id})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:`#${_.embed.color.toString(16).padStart(6,"0")}`}}),r.jsx("span",{className:"text-gray-300",children:_.embed.title})]})}),r.jsx("td",{className:"p-4 text-center",children:r.jsx("button",{onClick:()=>v(_),disabled:!s||c.isPending,className:`p-1 rounded transition-colors ${_.enabled?"text-green-400 hover:text-green-300":"text-gray-500 hover:text-gray-400"} disabled:opacity-50`,title:_.enabled?"Enabled":"Disabled",children:_.enabled?r.jsx(P2,{className:"w-6 h-6"}):r.jsx(E2,{className:"w-6 h-6"})})}),r.jsx("td",{className:"p-4",children:r.jsx("div",{className:"flex items-center justify-end gap-2",children:s&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>m(_),className:"p-2 text-gray-400 hover:text-discord-blurple transition-colors",title:"Edit",children:r.jsx(b2,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>w(_.id),className:"p-2 text-gray-400 hover:text-red-400 transition-colors",title:"Delete",children:r.jsx(zs,{className:"w-4 h-4"})})]})})})]},_.id))})]})})}),s&&D.length>1&&r.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Drag and drop rows to reorder buttons"}),(h||f)&&r.jsx(F5,{button:h,onClose:()=>{m(null),g(!1)}}),x!==null&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-light rounded-lg w-full max-w-md mx-4 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Delete Info Button?"}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Are you sure you want to delete this info button? This action cannot be undone."}),o.error&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-md p-3 mb-4",children:r.jsx("p",{className:"text-sm text-red-400",children:o.error.message||"Failed to delete button"})}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>w(null),className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Cancel"}),r.jsx("button",{onClick:()=>S(x),disabled:o.isPending,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:o.isPending?"Deleting...":"Delete"})]})]})})]})}function q5({sectionKey:e,label:t,description:s,icon:n,iconColor:i}){const{getSectionPreferences:a,updateSectionPreference:l}=nm(),o=a(e);return r.jsxs("div",{className:"bg-discord-darker rounded-lg p-4",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(n,{className:`w-5 h-5 ${i}`}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium",children:t}),r.jsx("p",{className:"text-sm text-gray-500",children:s})]})]})}),r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-discord-light/30 p-2 -m-2 rounded transition-colors",children:[r.jsx("input",{type:"checkbox",checked:!o.hidden,onChange:c=>l(e,{hidden:!c.target.checked}),className:"rounded border-gray-500 bg-discord-light text-discord-blurple focus:ring-discord-blurple focus:ring-offset-0"}),r.jsxs("span",{className:"text-sm text-gray-300 flex items-center gap-1.5",children:[o.hidden?r.jsx(Q0,{className:"w-4 h-4"}):r.jsx(Kh,{className:"w-4 h-4"}),"Visible"]})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-discord-light/30 p-2 -m-2 rounded transition-colors",children:[r.jsx("input",{type:"checkbox",checked:o.defaultExpanded,onChange:c=>l(e,{defaultExpanded:c.target.checked}),className:"rounded border-gray-500 bg-discord-light text-discord-blurple focus:ring-discord-blurple focus:ring-offset-0"}),r.jsxs("span",{className:"text-sm text-gray-300 flex items-center gap-1.5",children:[o.defaultExpanded?r.jsx(Ka,{className:"w-4 h-4"}):r.jsx(ji,{className:"w-4 h-4"}),"Expand by default"]})]})]})]})}function z5(){const{user:e}=Q(),{isSyncing:t}=nm(),s=[{sectionKey:"staff",label:"Staff Online",description:"Admin and staff members currently on servers",icon:ut,iconColor:"text-discord-blurple"},{sectionKey:"members",label:"Members",description:"Registered members currently on servers",icon:ey,iconColor:"text-green-400"},{sectionKey:"public",label:"Public Players",description:"Unregistered public players on servers",icon:rt,iconColor:"text-gray-400"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[r.jsx(vs,{className:"w-7 h-7 text-discord-blurple"}),"Settings"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Customize your dashboard experience"})]}),t&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[r.jsx(dt,{className:"w-4 h-4 animate-spin"}),"Syncing..."]})]}),e&&r.jsx("div",{className:"bg-discord-light rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[e.avatar&&r.jsx("img",{src:`https://cdn.discordapp.com/avatars/${e.id}/${e.avatar}.png?size=80`,alt:e.displayName,className:"w-10 h-10 rounded-full"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:e.displayName}),r.jsx("p",{className:"text-xs text-gray-400",children:"Preferences sync across all your devices"})]})]})}),r.jsxs("div",{className:"bg-discord-light rounded-lg p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:"Dashboard Sections"}),r.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Configure which player sections to show on the server status dashboard and their default state."}),r.jsx("div",{className:"space-y-3",children:s.map(n=>r.jsx(q5,{...n},n.sectionKey))})]}),r.jsx("div",{className:"bg-discord-blurple/10 border border-discord-blurple/30 rounded-lg p-4",children:r.jsx("p",{className:"text-sm text-gray-300",children:"Changes are saved automatically and synced to the server. Your preferences will be available when you log in from any device."})})]})}function B5(){const{user:e,hasPermission:t}=Q(),s=t("MANAGE_CONNECTIONS");return J({queryKey:["connections","servers"],queryFn:()=>Ws.getServers(),enabled:!!e&&s,refetchInterval:15e3})}function $5(){const{user:e,hasPermission:t}=Q(),s=t("MANAGE_CONNECTIONS");return J({queryKey:["connections","settings"],queryFn:()=>Ws.getSettings(),enabled:!!e&&s,staleTime:1e3*60*5})}function H5(){const e=X();return ee({mutationFn:t=>Ws.updateSettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:["connections","settings"]})}})}function W5(){const e=X();return ee({mutationFn:t=>Ws.createServer(t),onSuccess:()=>{e.invalidateQueries({queryKey:["connections","servers"]})}})}function V5(){const e=X();return ee({mutationFn:({key:t,data:s})=>Ws.updateServer(t,s),onSuccess:()=>{e.invalidateQueries({queryKey:["connections","servers"]})}})}function K5(){const e=X();return ee({mutationFn:t=>Ws.deleteServer(t),onSuccess:()=>{e.invalidateQueries({queryKey:["connections","servers"]})}})}function Q5(){const e=X();return ee({mutationFn:t=>Ws.reconnectServer(t),onSuccess:()=>{e.invalidateQueries({queryKey:["connections","servers"]})}})}function G5(){const{user:e,hasPermission:t}=Q(),s=t("MANAGE_CONNECTIONS");return J({queryKey:["connections","db-status"],queryFn:()=>Ws.getDbStatus(),enabled:!!e&&s,refetchInterval:3e4})}function Y5(e=50){const{user:t,hasPermission:s}=Q(),n=s("MANAGE_CONNECTIONS");return J({queryKey:["connections","audit",e],queryFn:()=>Ws.getAuditLog(e),enabled:!!t&&n,staleTime:1e3*60})}function X5(e,t){if(!t)return"bg-gray-500";switch(e){case"connected":return"bg-green-500";case"connecting":return"bg-yellow-500";case"failed":return"bg-red-500";case"degraded":return"bg-orange-500";default:return"bg-gray-500"}}function J5(e,t){if(!t)return"Disabled";switch(e){case"connected":return"Connected";case"connecting":return"Connecting";case"failed":return"Disconnected";case"degraded":return"Degraded";default:return"Unknown"}}function Z5(e){const t=Math.floor(e/86400),s=Math.floor(e%86400/3600),n=Math.floor(e%3600/60);return t>0?`${t}d ${s}h`:s>0?`${s}h ${n}m`:`${n}m`}const e_={cache_refresh_seconds:"How often the whitelist cache refreshes from the database.",cache_cleanup_interval:"Interval for cleaning up stale cache entries.",prefer_eos_id:"Use EOS IDs instead of Steam IDs for player identification.",verification_code_length:"Number of characters in verification codes for account linking.",verification_expiration_minutes:"How long verification codes remain valid.",verification_cleanup_interval:"Interval for cleaning up expired verification codes.",reconnection_attempts:"Maximum reconnection attempts before entering degraded mode.",reconnection_delay:"Base delay between reconnection attempts (exponential backoff).",connection_timeout:"Timeout for initial connection to SquadJS servers.",log_level:"Logging verbosity level.",log_connections:"Log connection and disconnection events.",log_cache_hits:"Log cache hit/miss events (very verbose).",log_squadjs_events:"Log unknown SquadJS events for debugging."},t_={cache:_2,identifiers:c2,verification:ut,connection:Xh,logging:vs};function s_({server:e,onEdit:t,onReconnect:s,onDelete:n,onToggle:i,isReconnecting:a}){var u,h,m,f,g;const l=((u=e.serverInfo)==null?void 0:u.a2sPlayerCount)??null,o=((h=e.serverInfo)==null?void 0:h.maxPlayers)??null,c=((m=e.serverInfo)==null?void 0:m.publicQueue)??0,d=(f=e.serverInfo)==null?void 0:f.battlemetricsName;return r.jsxs("div",{className:"bg-discord-light rounded-lg p-5",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${X5(e.connectionState,e.enabled)} ${e.connectionState==="connected"&&e.enabled?"animate-pulse":""}`}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold",children:e.name}),r.jsxs("p",{className:"text-gray-400 text-sm",children:[e.host,":",e.port,e.gamePort&&r.jsxs("span",{className:"text-gray-500",children:[" (game: ",e.gamePort,")"]})]})]})]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${e.connectionState==="connected"&&e.enabled?"bg-green-500/20 text-green-400":e.connectionState==="degraded"?"bg-orange-500/20 text-orange-400":e.enabled?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}`,children:J5(e.connectionState,e.enabled)})]}),e.enabled&&e.connected&&r.jsxs("div",{className:"flex items-center gap-4 mb-3 text-sm text-gray-400",children:[l!==null&&o!==null&&r.jsxs("span",{children:["Players: ",l,"/",o]}),c>0&&r.jsxs("span",{children:["Queue: ",c]}),((g=e.serverInfo)==null?void 0:g.currentMap)&&r.jsx("span",{className:"truncate max-w-[200px]",children:e.serverInfo.currentMap})]}),d&&r.jsx("p",{className:"text-xs text-gray-500 mb-3 truncate",children:d}),r.jsxs("div",{className:"flex items-center gap-4 mb-3 text-xs text-gray-500",children:[r.jsxs("span",{children:["Key: ",e.serverKey]}),r.jsxs("span",{children:["Seed threshold: ",e.seedThreshold]}),e.reconnectAttempts>0&&r.jsxs("span",{className:"text-orange-400",children:["Attempts: ",e.reconnectAttempts]})]}),r.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t border-discord-lighter",children:[r.jsxs("button",{onClick:()=>t(e),className:"flex items-center gap-1.5 text-sm text-gray-400 hover:text-white transition-colors px-2 py-1 rounded hover:bg-discord-lighter",children:[r.jsx(v2,{className:"w-3.5 h-3.5"}),"Edit"]}),r.jsxs("button",{onClick:()=>s(e.serverKey),disabled:a||!e.enabled,className:"flex items-center gap-1.5 text-sm text-gray-400 hover:text-white transition-colors px-2 py-1 rounded hover:bg-discord-lighter disabled:opacity-50",children:[r.jsx(dt,{className:`w-3.5 h-3.5 ${a?"animate-spin":""}`}),"Reconnect"]}),r.jsxs("button",{onClick:()=>i(e),className:`flex items-center gap-1.5 text-sm transition-colors px-2 py-1 rounded hover:bg-discord-lighter ${e.enabled?"text-yellow-400 hover:text-yellow-300":"text-green-400 hover:text-green-300"}`,children:[e.enabled?r.jsx(j2,{className:"w-3.5 h-3.5"}):r.jsx(N2,{className:"w-3.5 h-3.5"}),e.enabled?"Disable":"Enable"]}),r.jsxs("button",{onClick:()=>n(e.serverKey),className:"flex items-center gap-1.5 text-sm text-red-400 hover:text-red-300 transition-colors px-2 py-1 rounded hover:bg-discord-lighter ml-auto",children:[r.jsx(zs,{className:"w-3.5 h-3.5"}),"Delete"]})]})]})}function r_(e){let t=e.length+1;for(;e.includes(`server${t}`);)t++;return`server${t}`}function n_({server:e,existingKeys:t,onClose:s,onSave:n,isSaving:i}){const a=!e,[l,o]=j.useState({serverKey:(e==null?void 0:e.serverKey)||r_(t),name:(e==null?void 0:e.name)||"",host:(e==null?void 0:e.host)||"",port:(e==null?void 0:e.port)||0,gamePort:(e==null?void 0:e.gamePort)||0,token:"",enabled:(e==null?void 0:e.enabled)??!0,seedThreshold:(e==null?void 0:e.seedThreshold)||50}),c=d=>{if(d.preventDefault(),a)n({serverKey:l.serverKey,name:l.name,host:l.host,port:l.port,gamePort:l.gamePort||void 0,token:l.token,enabled:l.enabled,seedThreshold:l.seedThreshold},!0);else{const u={name:l.name,host:l.host,port:l.port,gamePort:l.gamePort||null,enabled:l.enabled,seedThreshold:l.seedThreshold};l.token.trim()&&(u.token=l.token),n(u,!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-dark rounded-lg p-6 w-full max-w-md",children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:a?"Add Server":`Edit ${e==null?void 0:e.name}`}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Name"}),r.jsx("input",{type:"text",value:l.name,onChange:d=>o({...l,name:d.target.value}),placeholder:"Squad Server 6",required:!0,className:"w-full bg-discord-lighter border border-discord-lighter rounded-md px-3 py-2 text-white focus:outline-none focus:border-discord-blurple"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Host"}),r.jsx("input",{type:"text",value:l.host,onChange:d=>o({...l,host:d.target.value}),placeholder:"216.114.75.106",required:!0,className:"w-full bg-discord-lighter border border-discord-lighter rounded-md px-3 py-2 text-white focus:outline-none focus:border-discord-blurple"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"SquadJS Port"}),r.jsx("input",{type:"number",value:l.port||"",onChange:d=>o({...l,port:parseInt(d.target.value)||0}),min:1,max:65535,required:!0,className:"w-full bg-discord-lighter border border-discord-lighter rounded-md px-3 py-2 text-white focus:outline-none focus:border-discord-blurple"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Game Port"}),r.jsx("input",{type:"number",value:l.gamePort||"",onChange:d=>o({...l,gamePort:parseInt(d.target.value)||0}),min:1,max:65535,className:"w-full bg-discord-lighter border border-discord-lighter rounded-md px-3 py-2 text-white focus:outline-none focus:border-discord-blurple"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For BattleMetrics matching"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Seed Threshold"}),r.jsx("input",{type:"number",value:l.seedThreshold,onChange:d=>o({...l,seedThreshold:parseInt(d.target.value)||50}),min:1,className:"w-full bg-discord-lighter border border-discord-lighter rounded-md px-3 py-2 text-white focus:outline-none focus:border-discord-blurple"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Token ",!a&&r.jsx("span",{className:"text-gray-500",children:"(leave empty to keep current)"})]}),r.jsx("input",{type:"password",value:l.token,onChange:d=>o({...l,token:d.target.value}),required:a,autoComplete:"off",className:"w-full bg-discord-lighter border border-discord-lighter rounded-md px-3 py-2 text-white focus:outline-none focus:border-discord-blurple"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("button",{type:"button",onClick:()=>o({...l,enabled:!l.enabled}),className:"flex-shrink-0",children:l.enabled?r.jsx(Va,{className:"w-5 h-5 text-discord-blurple"}):r.jsx(Ga,{className:"w-5 h-5 text-gray-500"})}),r.jsx("span",{className:"text-sm text-gray-300",children:"Enabled"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[r.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-discord-blurple hover:bg-discord-blurple/80 text-white rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:i?"Saving...":a?"Add Server":"Save Changes"})]})]})]})})}function i_({serverKey:e,onClose:t,onConfirm:s,isDeleting:n}){const[i,a]=j.useState("");return r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-discord-dark rounded-lg p-6 w-full max-w-sm",children:[r.jsx("h2",{className:"text-lg font-bold text-white mb-2",children:"Delete Server"}),r.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["This will permanently remove the server and disconnect it. Type ",r.jsx("code",{className:"text-red-400 bg-red-500/10 px-1 rounded",children:e})," to confirm."]}),r.jsx("input",{type:"text",value:i,onChange:l=>a(l.target.value),placeholder:e,className:"w-full bg-discord-lighter border border-discord-lighter rounded-md px-3 py-2 text-white focus:outline-none focus:border-red-500 mb-4"}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors",children:"Cancel"}),r.jsx("button",{onClick:s,disabled:i!==e||n,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:n?"Deleting...":"Delete"})]})]})})}function Cf({title:e,description:t,icon:s,children:n}){return r.jsxs("div",{className:"bg-discord-light rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(s,{className:"w-5 h-5 text-discord-blurple"}),r.jsx("h2",{className:"text-lg font-semibold text-white",children:e})]}),t&&r.jsx("p",{className:"text-sm text-gray-400 mb-4",children:t}),r.jsx("div",{className:"space-y-4",children:n})]})}function a_({configKey:e,item:t,value:s,onChange:n,disabled:i}){const a=e_[e];return t.type==="boolean"?r.jsxs("label",{className:`flex items-start gap-3 ${i?"opacity-50 cursor-not-allowed":"cursor-pointer hover:bg-discord-lighter/30"} rounded p-2 -mx-2`,children:[r.jsx("button",{type:"button",onClick:l=>{l.preventDefault(),i||n(e,!s)},disabled:i,className:"mt-0.5 flex-shrink-0",children:s?r.jsx(Va,{className:"w-5 h-5 text-discord-blurple"}):r.jsx(Ga,{className:"w-5 h-5 text-gray-500"})}),r.jsxs("span",{className:"text-white text-sm font-medium flex items-center",children:[t.label,a&&r.jsx(Tr,{text:a})]})]}):t.type==="number"?r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center",children:[t.label,a&&r.jsx(Tr,{text:a})]}),r.jsx(Qy,{id:`conn-config-${e}`,name:`conn-config-${e}`,value:typeof s=="number"?s:0,onChange:l=>n(e,l),disabled:i,className:"w-28"})]}):t.type==="string"?r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center",children:[t.label,a&&r.jsx(Tr,{text:a})]}),r.jsx("input",{type:"text",value:typeof s=="string"?s:"",onChange:l=>n(e,l.target.value),disabled:i,className:"w-36 bg-discord-darker border border-discord-lighter rounded-md px-3 py-2 text-white text-sm focus:outline-none focus:border-discord-blurple disabled:opacity-50"})]}):null}function l_(){var ae,P;const{hasPermission:e}=Q(),t=e("MANAGE_CONNECTIONS"),{data:s,isLoading:n}=B5(),{data:i,isLoading:a}=$5(),{data:l}=G5(),{data:o}=Y5(10),c=H5(),d=W5(),u=V5(),h=K5(),m=Q5(),[f,g]=j.useState(!1),[x,w]=j.useState(null),[p,b]=j.useState(null),[y,v]=j.useState(null),S=(s==null?void 0:s.data)||[],C=l==null?void 0:l.data,k=(ae=i==null?void 0:i.data)==null?void 0:ae.config,R=(P=i==null?void 0:i.data)==null?void 0:P.categories;j.useEffect(()=>{if(k&&!y){const L={};for(const[q,H]of Object.entries(k))L[q]={value:H.value};v(L)}},[k,y]);const U=j.useMemo(()=>{var L,q;if(!y||!k)return!1;for(const H of Object.keys(y))if(JSON.stringify((L=y[H])==null?void 0:L.value)!==JSON.stringify((q=k[H])==null?void 0:q.value))return!0;return!1},[y,k]),E=j.useMemo(()=>{var q,H;if(!y||!k)return{};const L={};for(const se of Object.keys(y))JSON.stringify((q=y[se])==null?void 0:q.value)!==JSON.stringify((H=k[se])==null?void 0:H.value)&&(L[se]=y[se].value);return L},[y,k]),D=async()=>{if(Object.keys(E).length!==0)try{await c.mutateAsync(E)}catch{}},_=(L,q)=>{y&&v({...y,[L]:{value:q}})},V=async(L,q)=>{try{q?await d.mutateAsync(L):x&&await u.mutateAsync({key:x.serverKey,data:L}),g(!1),w(null)}catch{}},O=async L=>{try{await u.mutateAsync({key:L.serverKey,data:{enabled:!L.enabled}})}catch{}},G=async()=>{if(p)try{await h.mutateAsync(p),b(null)}catch{}},W=n||a;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[r.jsx(J0,{className:"w-7 h-7 text-discord-blurple"}),"Connections"]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Manage SquadJS server connections and integration settings"})]}),t&&r.jsxs("button",{onClick:()=>{w(null),g(!0)},className:"flex items-center gap-2 bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:[r.jsx(Tt,{className:"w-4 h-4"}),"Add Server"]})]}),W?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-discord-blurple"})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-discord-light rounded-lg p-5",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(l2,{className:"w-5 h-5 text-discord-blurple"}),r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Database"})]}),C?r.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${C.connected?"bg-green-500":"bg-red-500"}`}),r.jsx("span",{className:C.connected?"text-green-400":"text-red-400",children:C.connected?"Connected":"Disconnected"})]}),C.latencyMs!==void 0&&r.jsxs("span",{className:"text-gray-400",children:["Latency: ",C.latencyMs,"ms"]}),C.database&&r.jsx("span",{className:"text-gray-400",children:C.database}),C.version&&r.jsx("span",{className:"text-gray-500 text-xs",children:C.version}),C.uptimeSeconds!==void 0&&C.uptimeSeconds>0&&r.jsxs("span",{className:"text-gray-500 text-xs",children:["Uptime: ",Z5(C.uptimeSeconds)]}),C.poolSize!==void 0&&r.jsxs("span",{className:"text-gray-500 text-xs",children:["Pool: ",C.poolAvailable,"/",C.poolSize]})]}):r.jsx("p",{className:"text-gray-500 text-sm",children:"Loading database status..."})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Ro,{className:"w-5 h-5 text-discord-blurple"}),r.jsx("h2",{className:"text-lg font-semibold text-white",children:"SquadJS Servers"}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",S.length,")"]})]}),S.length===0?r.jsxs("div",{className:"bg-discord-light rounded-lg p-8 text-center",children:[r.jsx(Yh,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-400",children:"No servers configured yet."}),t&&r.jsx("button",{onClick:()=>{w(null),g(!0)},className:"mt-3 text-discord-blurple hover:text-discord-blurple/80 text-sm",children:"Add your first server"})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:S.map(L=>r.jsx(s_,{server:L,onEdit:q=>{w(q),g(!0)},onReconnect:q=>m.mutate(q),onDelete:q=>b(q),onToggle:O,isReconnecting:m.isPending},L.serverKey))})]}),k&&R&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(vs,{className:"w-5 h-5 text-discord-blurple"}),r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Settings"})]}),t&&r.jsxs("button",{onClick:D,disabled:!U||c.isPending,className:"flex items-center gap-2 bg-discord-blurple hover:bg-discord-blurple/80 text-white px-3 py-1.5 rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:[r.jsx(Gh,{className:"w-4 h-4"}),c.isPending?"Saving...":"Save Settings"]})]}),U&&t&&r.jsxs("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded-lg p-3 mb-4 flex items-center gap-3",children:[r.jsx(Er,{className:"w-4 h-4 text-yellow-500"}),r.jsx("p",{className:"text-sm text-yellow-200",children:"You have unsaved settings changes."})]}),c.isSuccess&&r.jsx("div",{className:"bg-green-500/20 border border-green-500/30 rounded-lg p-3 mb-4",children:r.jsx("p",{className:"text-sm text-green-400",children:"Settings saved successfully!"})}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Object.entries(R).map(([L,q])=>{const H=t_[L]||vs,se=Object.entries(q.items);return se.length===0?null:r.jsx(Cf,{title:q.label,description:q.description,icon:H,children:se.map(([ie,Oe])=>{var xe;return r.jsx(a_,{configKey:ie,item:Oe,value:((xe=y==null?void 0:y[ie])==null?void 0:xe.value)??Oe.value,onChange:_,disabled:!t},ie)})},L)})})]}),r.jsx(Cf,{title:"Recent Changes",icon:Qa,description:"Audit log of connection config and server changes",children:o!=null&&o.data&&o.data.length>0?r.jsx("div",{className:"space-y-2",children:o.data.map(L=>r.jsxs("div",{className:"flex items-start gap-3 text-sm bg-discord-darker rounded-md p-3",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("span",{className:"text-gray-300",children:[r.jsx("span",{className:"text-white font-medium",children:L.changedByName||"System"})," ",L.action," ",r.jsx("code",{className:"text-discord-blurple bg-discord-blurple/20 px-1 rounded",children:L.entityType==="server"?`server:${L.entityId}`:L.entityId})]})}),r.jsx("span",{className:"text-gray-500 text-xs whitespace-nowrap",children:new Date(L.createdAt).toLocaleString()})]},L.id))}):r.jsx("p",{className:"text-gray-500 text-sm",children:"No recent changes recorded."})})]}),f&&r.jsx(n_,{server:x,existingKeys:S.map(L=>L.serverKey),onClose:()=>{g(!1),w(null)},onSave:V,isSaving:d.isPending||u.isPending}),p&&r.jsx(i_,{serverKey:p,onClose:()=>b(null),onConfirm:G,isDeleting:h.isPending})]})}function Yy(){const{user:e,logout:t}=Q();return r.jsx("div",{className:"min-h-screen bg-discord-dark flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-discord-light rounded-lg p-8 max-w-md w-full text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"bg-red-500/20 p-4 rounded-full",children:r.jsx(C2,{className:"w-12 h-12 text-red-400"})})}),r.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Access Denied"}),r.jsx("p",{className:"text-gray-400 mb-6",children:"You must be a staff member to access the dashboard."}),e&&r.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Logged in as ",r.jsx("span",{className:"text-white",children:e.displayName})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx("button",{onClick:t,className:"w-full bg-discord-blurple hover:bg-discord-blurple/80 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Log Out"}),r.jsx("p",{className:"text-xs text-gray-500",children:"If you believe this is an error, please contact an administrator."})]})]})})}function o_(){const{user:e,isLoading:t}=Q();return t?r.jsx("div",{className:"min-h-screen bg-discord-dark flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-discord-blurple"})}):e?e.isStaff?r.jsx(y0,{}):r.jsx(Yy,{}):r.jsx(sa,{to:"/login",replace:!0})}function c_(){const{steamid64:e}=Zo();return r.jsx(sa,{to:`/players/${e}`,replace:!0})}function d_(){return r.jsxs(nN,{children:[r.jsx(ge,{path:"/login",element:r.jsx(Qk,{})}),r.jsx(ge,{path:"/access-denied",element:r.jsx(Yy,{})}),r.jsx(ge,{element:r.jsx(o_,{}),children:r.jsxs(ge,{path:"/",element:r.jsx(Kk,{}),children:[r.jsx(ge,{index:!0,element:r.jsx(sa,{to:"/dashboard",replace:!0})}),r.jsx(ge,{path:"dashboard",element:r.jsx(nC,{})}),r.jsx(ge,{path:"players",element:r.jsx(NC,{})}),r.jsx(ge,{path:"players/:steamid64",element:r.jsx(YC,{})}),r.jsx(ge,{path:"whitelist",element:r.jsx(sa,{to:"/players",replace:!0})}),r.jsx(ge,{path:"whitelist/:steamid64",element:r.jsx(c_,{})}),r.jsx(ge,{path:"members",element:r.jsx(r3,{})}),r.jsx(ge,{path:"members/:discordId",element:r.jsx(sa,{to:"/members",replace:!0})}),r.jsx(ge,{path:"audit",element:r.jsx(h3,{})}),r.jsx(ge,{path:"security/unlinked-staff",element:r.jsx(m3,{})}),r.jsx(ge,{path:"admin/permissions",element:r.jsx(N3,{})}),r.jsx(ge,{path:"admin/squadgroups",element:r.jsx(L3,{})}),r.jsx(ge,{path:"admin/stats-templates",element:r.jsx(K3,{})}),r.jsx(ge,{path:"admin/stats-templates/:id",element:r.jsx(r5,{})}),r.jsx(ge,{path:"seeding",element:r.jsx(p5,{})}),r.jsx(ge,{path:"seeding/:id",element:r.jsx(v5,{})}),r.jsx(ge,{path:"duty",element:r.jsx(b5,{})}),r.jsx(ge,{path:"admin/duty-settings",element:r.jsx(R5,{})}),r.jsx(ge,{path:"admin/info-buttons",element:r.jsx(U5,{})}),r.jsx(ge,{path:"admin/connections",element:r.jsx(l_,{})}),r.jsx(ge,{path:"settings",element:r.jsx(z5,{})})]})})]})}const u_=new ej({defaultOptions:{queries:{staleTime:1e3*60,retry:1}}});Yg(document.getElementById("root")).render(r.jsx(j.StrictMode,{children:r.jsx(tj,{client:u_,children:r.jsx(mN,{children:r.jsx(J1,{children:r.jsx(d_,{})})})})}));
